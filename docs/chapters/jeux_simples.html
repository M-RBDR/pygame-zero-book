<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>5. Jeux d’arcade simples &mdash; Coding Games With Pygame Zero &amp; Python  documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. Boink!" href="boink.html" />
    <link rel="prev" title="4. Afficher des graphiques" href="graphiques.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Coding Games With Pygame Zero & Python
          </a>
              <div class="version">
                2.1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Programmer des jeux vidéos avec Pygame Zero et Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#generer-le-livre">Générer le livre</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#troisieme-edition">Troisième édition?</a></li>
<li class="toctree-l1"><a class="reference internal" href="pr%C3%A9face.html">Préface</a></li>
</ul>
<p class="caption"><span class="caption-text">Table des matières:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="vue_ensemble.html">1. Aperçu du langage Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="principes_fondamentaux.html">2. Les fondements du langage Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="devinettes_texte.html">3. Jeux de devinettes basés sur du texte</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphiques.html">4. Afficher des graphiques</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Jeux d’arcade simples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#les-collisions">5.1. Les collisions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pourchasser">5.2. Pourchasser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#augmentation-de-puissance">5.3. Augmentation de puissance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sons-et-animation">5.4. Sons et animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#les-boutons-de-la-souris">5.5. Les boutons de la souris</a></li>
<li class="toctree-l2"><a class="reference internal" href="#le-deplacement-de-la-souris">5.6. Le déplacement de la souris</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="boink.html">6. Boink!</a></li>
<li class="toctree-l1"><a class="reference internal" href="more_graphics.html">7. Improving your games</a></li>
<li class="toctree-l1"><a class="reference internal" href="more_games.html">8. More advanced games</a></li>
<li class="toctree-l1"><a class="reference internal" href="pourchasser.html">9. Tutorial: Chase game</a></li>
<li class="toctree-l1"><a class="reference internal" href="maze.html">10. Tutorial: Maze game</a></li>
<li class="toctree-l1"><a class="reference internal" href="shooter.html">11. Tutorial: Shooting game</a></li>
<li class="toctree-l1"><a class="reference internal" href="race.html">12. Tutorial: Race game</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">13. Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="minecraft.html">14. Python in Minecraft</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coding Games With Pygame Zero & Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">5. </span>Jeux d’arcade simples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/chapters/jeux_simples.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="jeux-d-arcade-simples">
<h1><span class="section-number">5. </span>Jeux d’arcade simples<a class="headerlink" href="#jeux-d-arcade-simples" title="Permalink to this headline"></a></h1>
<section id="les-collisions">
<h2><span class="section-number">5.1. </span>Les collisions<a class="headerlink" href="#les-collisions" title="Permalink to this headline"></a></h2>
<p>Dans les jeux d’arcade, il est important de savoir quand un acteur sprite est entré en collision avec un autre acteur sprite. La majorité de ce code est copié de
<a class="reference internal" href="graphiques.html#code-moving-boxes"><span class="std std-numref">Program 4.2</span></a> et de
<a class="reference internal" href="graphiques.html#code-keyboard-input"><span class="std std-numref">Program 4.5</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="code-collisions">
<div class="code-block-caption"><span class="caption-number">Program 5.1 </span><span class="caption-text">Collisions</span><a class="headerlink" href="#code-collisions" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">&quot;alien&quot;</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hit&quot;</span><span class="p">)</span>

</pre></div>
</td></tr></table></div>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Ajoutez du mouvement vertical (comme vous avez fait dans l’exercice <a class="reference internal" href="graphiques.html#code-keyboard-input"><span class="std std-numref">Program 4.5</span></a>).</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Créez une boite qui pourchasse l’extraterrestre.</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Affichez le nombre de fois que la boite entre en collision avec l’extraterrestre (par exemple le pointage).</p>
</div>
</section>
<section id="pourchasser">
<h2><span class="section-number">5.2. </span>Pourchasser<a class="headerlink" href="#pourchasser" title="Permalink to this headline"></a></h2>
<p>Au lieu de bouger constamment vers la droite, on peut rendre le mouvement conditionnel avec une déclaration <code class="docutils literal notranslate"><span class="pre">if</span></code>. Ainsi, on peut faire en sorte que la boite pourchasse l’extraterrestre. La plupart du code a été copié de <a class="reference internal" href="#code-collisions"><span class="std std-numref">Program 5.1</span></a>. Les lignes qui ont été nouvellement ajoutées sont surlignées. Nous avons aussi modifié ce qui arrive lorsque la boite entre en contact avec l’extraterrestre: le programme termine et vous devez le relancer pour jouer à nouveau. Ceci n’est peut-être pas ce que vous voulez dans votre jeu, mais nous allons pouvoir modifier le programme plus tard.</p>
<div class="literal-block-wrapper docutils container" id="code-chase">
<div class="code-block-caption"><span class="caption-number">Program 5.2 </span><span class="caption-text">Pourchasseur d’extraterrestres</span><a class="headerlink" href="#code-chase" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">&quot;alien&quot;</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
<span class="hll">    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
</span><span class="hll">        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
</span><span class="hll">        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
</span><span class="hll">        <span class="n">exit</span><span class="p">()</span>
</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Ajoutez du mouvement vertical (comme vous avez fait dans l’exercice précédent).</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Créez un nouvel acteur sprite. Enregistrez son image avec le nom <cite>ennemi.png</cite> dans votre fichier <cite>code/images</cite>. Chargez l’image avec <cite>Actor(‘ennemi’)</cite> au lieu de <cite>Rect()</cite>.</p>
</div>
</section>
<section id="augmentation-de-puissance">
<h2><span class="section-number">5.3. </span>Augmentation de puissance<a class="headerlink" href="#augmentation-de-puissance" title="Permalink to this headline"></a></h2>
<p>Au lieu d’être un ennemi, la boite ici est une augmentation de puissance. Lorsque le joueur entre en contact avec la boite, elle disparait et réapparait dans un nouvel emplacement.</p>
<div class="literal-block-wrapper docutils container" id="code-powerup">
<div class="code-block-caption"><span class="caption-number">Program 5.3 </span><span class="caption-text">Collectionner les augmentations de puissance</span><a class="headerlink" href="#code-powerup" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">&quot;alien&quot;</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">)</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Score:&quot;</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>

</pre></div>
</td></tr></table></div>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Ajoutez du mouvement vertical (comme vous avez fait dans l’exercice ref{exercise:updown}).</p>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Affichez une image pour représenter votre nouvelle augmentation de puissance. Enregistrez-le sous le nom de <cite>powerup.png</cite> dans votre fichier <cite>code/images</cite>. Chargez l’image avec <cite>Actor(‘powerup’)</cite> au lieu de <cite>Rect()</cite>.</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Combinez ce programme avec l’ennemi du programme <a class="reference internal" href="#code-chase"><span class="std std-numref">Program 5.2</span></a> et l’arrière-plan de <a class="reference internal" href="graphiques.html#code-background"><span class="std std-numref">Program 4.4</span></a>. De plus, ajoutez n’importe quel autre élément qui vous intéresse afin de créer votre propre jeu.</p>
</div>
</section>
<section id="sons-et-animation">
<h2><span class="section-number">5.4. </span>Sons et animation<a class="headerlink" href="#sons-et-animation" title="Permalink to this headline"></a></h2>
<p>Pygame Zero est livré avec une autre image <code class="docutils literal notranslate"><span class="pre">alien_hurt.png</span></code> et un son <code class="docutils literal notranslate"><span class="pre">eep.wav</span></code>. Si vous voulez avoir plus de sons ou d’image, vous allez devoir les ajouter dans les fichiers <code class="docutils literal notranslate"><span class="pre">sounds</span></code> pour vos sons et <code class="docutils literal notranslate"><span class="pre">images</span></code> pour vos images.</p>
<p>La plupart de ce code a été copié de
<a class="reference internal" href="#code-collisions"><span class="std std-numref">Program 5.1</span></a></p>
<div class="literal-block-wrapper docutils container" id="code-collisions2">
<div class="code-block-caption"><span class="caption-number">Program 5.4 </span><span class="caption-text">Sons et animation lorsqu’il y a collision</span><a class="headerlink" href="#code-collisions2" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">&quot;alien&quot;</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="hll"><span class="c1"># PLAY SOUND AND SHOW IMAGE WHEN HIT</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
</span><span class="hll">        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">&#39;alien_hurt&#39;</span>
</span><span class="hll">        <span class="n">sounds</span><span class="o">.</span><span class="n">eep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">&#39;alien&#39;</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Enregistre ton propre effet sonore et ajoute-le au jeu.</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Ajoutez plus de boites ou de sprites qui se déplacent dans différentes directions. Faites en sorte que le joueur doit éviter ces objets.</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Ajoutez un second extraterrestre qui est contrôlé par des touches différentes ou par une manette afin de permettre à un autre joueur de jouer.</p>
</div>
</section>
<section id="les-boutons-de-la-souris">
<h2><span class="section-number">5.5. </span>Les boutons de la souris<a class="headerlink" href="#les-boutons-de-la-souris" title="Permalink to this headline"></a></h2>
<p>Ceci utilise une fonction <em>call-back</em> pour capter des évènements. C’est similaire à <a class="reference internal" href="#code-collisions2"><span class="std std-numref">Program 5.4</span></a>, mais:</p>
<ul class="simple">
<li><p>La boite a été retirée.</p></li>
<li><p>Il y a une fonction <code class="docutils literal notranslate"><span class="pre">on_mouse_down()</span></code> qui est appelée automatiquement lorsque le joueur appuie sur le bouton de la souris.</p></li>
<li><p>Le pointage est affiché.</p></li>
</ul>
<p>Voir <a class="reference internal" href="principes_fondamentaux.html#code-functions"><span class="std std-numref">Program 2.17</span></a> pour plus d’informations sur les fonctions.</p>
<div class="literal-block-wrapper docutils container" id="code-mouse-input">
<div class="code-block-caption"><span class="caption-number">Program 5.5 </span><span class="caption-text">Capter les boutons de la souris</span><a class="headerlink" href="#code-mouse-input" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">&quot;alien&quot;</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;Score &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">&#39;alien&#39;</span>

<span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">button</span> <span class="o">==</span> <span class="n">mouse</span><span class="o">.</span><span class="n">LEFT</span> <span class="ow">and</span> <span class="n">alien</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">&#39;alien_hurt&#39;</span>
        <span class="n">sounds</span><span class="o">.</span><span class="n">eep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>


</pre></div>
</td></tr></table></div>
</div>
</section>
<section id="le-deplacement-de-la-souris">
<h2><span class="section-number">5.6. </span>Le déplacement de la souris<a class="headerlink" href="#le-deplacement-de-la-souris" title="Permalink to this headline"></a></h2>
<div class="literal-block-wrapper docutils container" id="code-mouse-movement">
<div class="code-block-caption"><span class="caption-number">Program 5.6 </span><span class="caption-text">Capter les mouvements de la souris</span><a class="headerlink" href="#code-mouse-movement" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># wiggle your mouse around the screen!</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">&quot;alien&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">on_mouse_move</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>

</pre></div>
</td></tr></table></div>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Qu’est-ce qui arrive lorsqu’on remplace la ligne 8 par ceci:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">animate</span><span class="p">(</span><span class="n">alien</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tween</span><span class="o">=</span><span class="s1">&#39;bounce_end&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="topic">
<p class="topic-title">Exercice</p>
<p>Qu’est-ce qui arrive lorsqu’on change <cite>on_mouse_move</cite> avec <cite>on_mouse_down</cite>?</p>
</div>
<div class="topic">
<p class="topic-title">Pour les plus avancés</p>
<p>Créez un jeu avec un premier extraterrestre qui est contrôlé par la souris et second extratérestre qui est contrôlé par les touches du clavier.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="graphiques.html" class="btn btn-neutral float-left" title="4. Afficher des graphiques" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="boink.html" class="btn btn-neutral float-right" title="6. Boink!" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Richard Smith.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>