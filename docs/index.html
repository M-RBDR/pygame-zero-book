<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/softcover.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/custom.css" media="screen" rel="stylesheet" type="text/css" />
    
    <title>pygame-zero-book</title>
    
      <script type="text/x-mathjax-config">
              MathJax.Hub.Config({
        "HTML-CSS": {
          availableFonts: ["TeX"],
        },
        TeX: {
          extensions: ["AMSmath.js", "AMSsymbols.js", "color.js"],
          equationNumbers: {
            autoNumber: "AMS",
            
          },
          Macros: {
            PolyTeX:    "Poly{\\TeX}",
            PolyTeXnic: "Poly{\\TeX}nic",
            "softcover": "\\texttt{softcover}",
"unitvec": ["{\\hat #1}", 1]
          }
        },
        showProcessingMessages: false,
        messageStyle: "none",
        imageFont: null,
        "AssistiveMML": { disabled: true }
      });

        if (/PhantomJS/.test(window.navigator.userAgent)) {
          MathJax.Hub.Queue([alert, 'MathJax Done']);
        }
      </script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_SVG"></script>
    
  </head>
  <body>
    
    <div id="book">
      <div id="frontmatter" data-number="0"><div id="title_page"><h1 class="title">Making Games With Pygame Zero</h1><h1 class="subtitle">An Introduction to Python Programming</h1><h2 class="author">Richard Smith</h2></div>
<h1 class="contents">Contents</h1><div id="table_of_contents"><ul><li class="chapter-star"><a href="#preface" class="heading hyperref">Preface</a></li><li class="chapter"><a href="#cid1" class="heading hyperref"><span class="number">Lesson 1 </span>Text based quiz games</a></li><li><ul><li class="section"><a href="#cid2" class="heading hyperref"><span class="number">1.1 </span>Hello, world</a></li><li class="section"><a href="#cid3" class="heading hyperref"><span class="number">1.2 </span>Getting input from the keyboard</a></li><li class="section"><a href="#cid4" class="heading hyperref"><span class="number">1.3 </span>Decisions: if, elif, else</a></li><li class="section"><a href="#cid5" class="heading hyperref"><span class="number">1.4 </span>A random maths question</a></li><li class="section"><a href="#cid6" class="heading hyperref"><span class="number">1.5 </span>Keeping score</a></li><li class="section"><a href="#cid7" class="heading hyperref"><span class="number">1.6 </span>Guessing game with a loop</a></li><li class="section"><a href="#cid8" class="heading hyperref"><span class="number">1.7 </span>Improved guessing game</a></li></ul></li><li class="chapter"><a href="#cid9" class="heading hyperref"><span class="number">Lesson 2 </span>Drawing graphics</a></li><li><ul><li class="section"><a href="#cid10" class="heading hyperref"><span class="number">2.1 </span>Lines and circles</a></li><li class="section"><a href="#cid11" class="heading hyperref"><span class="number">2.2 </span>Moving rectangles</a></li><li class="section"><a href="#cid12" class="heading hyperref"><span class="number">2.3 </span>Actor sprites</a></li><li class="section"><a href="#cid13" class="heading hyperref"><span class="number">2.4 </span>Keyboard input</a></li><li class="section"><a href="#cid14" class="heading hyperref"><span class="number">2.5 </span>Joystick input</a></li></ul></li><li class="chapter"><a href="#cid15" class="heading hyperref"><span class="number">Lesson 3 </span>Arcade games</a></li><li><ul><li class="section"><a href="#cid16" class="heading hyperref"><span class="number">3.1 </span>Collisions</a></li><li class="section"><a href="#cid17" class="heading hyperref"><span class="number">3.2 </span>Sound and animation</a></li><li class="section"><a href="#cid18" class="heading hyperref"><span class="number">3.3 </span>Mouse clicks</a></li><li class="section"><a href="#cid19" class="heading hyperref"><span class="number">3.4 </span>Mouse movement</a></li></ul></li><li class="chapter"><a href="#cid20" class="heading hyperref"><span class="number">Lesson 4 </span>Python Fundamentals</a></li><li><ul><li class="section"><a href="#cid21" class="heading hyperref"><span class="number">4.1 </span>Logic</a></li><li class="section"><a href="#cid22" class="heading hyperref"><span class="number">4.2 </span>Shortcuts</a></li><li class="section"><a href="#cid23" class="heading hyperref"><span class="number">4.3 </span>For loops</a></li><li class="section"><a href="#cid24" class="heading hyperref"><span class="number">4.4 </span>Arrays</a></li><li class="section"><a href="#cid25" class="heading hyperref"><span class="number">4.5 </span>Functions</a></li><li class="section"><a href="#cid26" class="heading hyperref"><span class="number">4.6 </span>Bugs</a></li></ul></li><li class="chapter"><a href="#cid27" class="heading hyperref"><span class="number">Lesson 5 </span>More graphics</a></li><li><ul><li class="section"><a href="#cid28" class="heading hyperref"><span class="number">5.1 </span>Using loops</a></li><li class="section"><a href="#cid29" class="heading hyperref"><span class="number">5.2 </span>Colours</a></li><li class="section"><a href="#cid30" class="heading hyperref"><span class="number">5.3 </span>Fullscreen mode</a></li><li class="section"><a href="#cid31" class="heading hyperref"><span class="number">5.4 </span>Displaying the score</a></li></ul></li><li class="chapter"><a href="#cid32" class="heading hyperref"><span class="number">Lesson 6 </span>More games</a></li><li><ul><li class="section"><a href="#cid33" class="heading hyperref"><span class="number">6.1 </span>Array lists</a></li><li class="section"><a href="#cid34" class="heading hyperref"><span class="number">6.2 </span>Animation</a></li><li class="section"><a href="#cid35" class="heading hyperref"><span class="number">6.3 </span>Simple physics</a></li><li class="section"><a href="#cid36" class="heading hyperref"><span class="number">6.4 </span>Pong</a></li><li class="section"><a href="#cid37" class="heading hyperref"><span class="number">6.5 </span>Timer</a></li><li class="section"><a href="#cid38" class="heading hyperref"><span class="number">6.6 </span>Another timer</a></li></ul></li><li class="chapter"><a href="#cid39" class="heading hyperref"><span class="number">Lesson 7 </span>Advanced topics</a></li><li><ul><li class="section"><a href="#cid40" class="heading hyperref"><span class="number">7.1 </span>Classes</a></li><li class="section"><a href="#cid41" class="heading hyperref"><span class="number">7.2 </span>Methods</a></li><li class="section"><a href="#cid42" class="heading hyperref"><span class="number">7.3 </span>Joystick tester</a></li></ul></li></ul></div>
<div class="chapter-star" id="preface"><h1><a href="#preface" class="heading hyperref">Preface</a></h1>
<p class="noindent">This book contains all the example programs used in my CoderDojo class to teach Python programming.<span class="intersentencespace"></span> The primary goal is to teach
programming with the domain of action games used to make learning more interesting.<span class="intersentencespace"></span> Some of the examples are entirely focused on
introducing new language concepts or showing how the Pygame Zero API works, but most are a mixture of both.</p>
<p>The intention is that
each program is <em>brief, complete</em> and <em>introduces only one or two new ideas</em>.</p>
<ul>
<li>Keeping the programs short means it is feasible for the students to type them in during the class.<span class="intersentencespace"></span> I think typing for themselves is very valuable to beginners, because it helps them learn to type, and to type precisely without mistakes (which show up as syntax errors).<span class="intersentencespace"></span> Even if it takes them a while, they should feel proud when they type a program correctly in the end!<sup id="cha-0_footnote-ref-1" class="footnote"><a href="#cha-0_footnote-1">1</a></sup>
</li>
<li>Each program being complete in itself avoids the confusion caused by worksheets that tell a student to add lines to a program piecemeal.<span class="intersentencespace"></span> If they make error or ommit a step it seems to often cause them to never recover and never produce a working program.<span class="intersentencespace"></span> Also being <em>complete</em> and <em>separate</em> means the whole class can be told to skip to the same program and it wonâ€™t matter so much that some of them didnt complete all the prior programs.<span class="intersentencespace"></span>
</li>
<li>Introducing ideas one or two at a time allows the students to learn mostly through <em>doing</em> and observing the output of each program rather than memorizing.<span class="intersentencespace"></span> To this end the <em>order</em> of the programs within each chapter has been carefully selected.<span class="intersentencespace"></span> However I have attempted to indicate which ones are more important in that sequence or interesting for them to experiment with and which ones are more easily skipped.<span class="intersentencespace"></span> The chapter ordering is more loose and it is possible to skip back and forth between chapters.<span class="intersentencespace"></span> If the text quizzes or the Python fundamentals are boring the students, skip ahead to the graphical games, then come back to the earlier examples when they are necessary to explain something in the games.<span class="intersentencespace"></span>
</li></ul>
<p>Following each program are some ideas for how students can modify the program.<span class="intersentencespace"></span> It is hoped they will go further and modify these programs into their own unique games!<span class="intersentencespace"></span> The difficulty of these suggestions varies, to accommodate students of different age and ability.</p>
<p>This book may be suitable for self-teaching by a motivated learner, but does not attempt to be comprehensive or give detailed explanations because it is intended to be used in a class with a teacher who will fill in the gaps as needed by the students.</p>
</div></div>

<div id="cha-0_footnotes">
  <div class="footnotes">
    <div id="cha-0_footnote-1" class="footnote"><a class="footnote-link" href="#cha-0_footnote-ref-1">1.</a> For writing essays nowadays people can use voice input and touch-screen input, but for programming the majority of programmers still type on a keyboard, and thereâ€™s no sign of this changing in the immediate future, so practising your keyboard skills now is still very important for the future.<span class="intersentencespace"></span> (You can do this at home with a program such as TuxType.)<span class="intersentencespace"></span> That said, many programs contain similar code, so itâ€™s also a useful skill to be able to copy and paste from your other programs!</div>
  </div>
</div><div id="cid1" data-tralics-id="cid1" class="chapter" data-number="1"><h1><a href="#cid1" class="heading hyperref"><span class="number">Lesson 1 </span>Text based quiz games</a></h1>
<p class="noindent">These programs can be entered using any text editor or IDE, but I suggest using <a href="https://codewith.mu/" target="_blank" rel="noopener">the Mu editor</a>
because it comes with Python, Pygame Zero and other libraries all pre-installed in one easy download.</p>
</div>
<div id="cid2" data-tralics-id="cid2" class="section" data-number="1.1"><h2><a href="#cid2" class="heading hyperref"><span class="number">1.1 </span>Hello, world</a></h2>
<p class="noindent">The traditional first program used to make sure Python is working and that we can run programs.</p>
<div class="codelisting" id="code-hello" data-tralics-id="uid5" data-number="1.1"><div class="heading"><span class="number">Program 1.1:</span> <span class="description">Hello, world</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Hello world"</span><span class="p">)</span>

<span class="c1"># This line is a comment, you dont have to type these!</span>
</pre></div></div></div><p class="noindent">If using the Mu editor:</p>
<ul>
<li>Click the mode button and make sure the mode is set to <code>Python3</code>
</li>
<li>Type in the program.<span class="intersentencespace"></span>
</li>
<li>Click <code>Save</code> and enter a name for the program.<span class="intersentencespace"></span>
</li>
<li>Click <code>Run</code>.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid3" data-tralics-id="cid3" class="section" data-number="1.2"><h2><a href="#cid3" class="heading hyperref"><span class="number">1.2 </span>Getting input from the keyboard</a></h2>
<p class="noindent">When you run this program it will pause and wait for you to enter some
text with the keyboard, followed by the return key.<span class="intersentencespace"></span> The text you enter
is stored in a variable, <code>x</code>.</p>
<div class="codelisting" id="code-input" data-tralics-id="uid10" data-number="1.2"><div class="heading"><span class="number">Program 1.2:</span> <span class="description">Getting input from the keyboard</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Enter your name:"</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">"richard"</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"That is a very cool name"</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Add some names of your friends and display a different message for each friend.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid4" data-tralics-id="cid4" class="section" data-number="1.3"><h2><a href="#cid4" class="heading hyperref"><span class="number">1.3 </span>Decisions: if, elif, else</a></h2>
<p class="noindent">This is how I added another name to <a href="#code-input" class="hyperref">ProgramÂ <span class="ref">1.2</span></a></p>
<div class="codelisting" id="code-input2" data-tralics-id="uid12" data-number="1.3"><div class="heading"><span class="number">Program 1.3:</span> <span class="description">Decisions: if, elif, else</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Enter your name:"</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">"richard"</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"That is a very cool name"</span><span class="p">)</span>
<span class="hll"><span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">"nick"</span><span class="p">:</span>
</span><span class="hll">    <span class="k">print</span><span class="p">(</span><span class="s2">"That is a rubbish name"</span><span class="p">)</span>
</span><span class="hll"><span class="k">else</span><span class="p">:</span>
</span><span class="hll">    <span class="k">print</span><span class="p">(</span><span class="s2">"I do not know your name"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</span></pre></div></div></div><p class="noindent"><a href="#code-input2" class="hyperref">ProgramÂ <span class="ref">1.3</span></a> is very similar to <a href="#code-input" class="hyperref">ProgramÂ <span class="ref">1.2</span></a>.<span class="intersentencespace"></span> The new lines have been highlighted.<span class="intersentencespace"></span> You can either modify <a href="#code-input" class="hyperref">ProgramÂ <span class="ref">1.2</span></a> or else create
a new file and use copy and paste to copy the code from the old program into the new.</p>
</div>
<div id="cid5" data-tralics-id="cid5" class="section" data-number="1.4"><h2><a href="#cid5" class="heading hyperref"><span class="number">1.4 </span>A random maths question</a></h2>
<div class="codelisting" id="code-maths" data-tralics-id="uid13" data-number="1.4"><div class="heading"><span class="number">Program 1.4:</span> <span class="description">A random maths question</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"What is"</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="s2">"plus 7?"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>  <span class="c1"># why do we use int() here?</span>
<span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">7</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"correct"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"wrong"</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Add some more questions, e.g.
<ul>
<li>Instead of 7, use another random number.<span class="intersentencespace"></span>
</li>
<li>Use a bigger random number.<span class="intersentencespace"></span>
</li>
<li>Multiply, divide or subtract numbers.<span class="intersentencespace"></span>
</li></ul>
</li>
<li>Print how many questions the player got correct at the end.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid6" data-tralics-id="cid6" class="section" data-number="1.5"><h2><a href="#cid6" class="heading hyperref"><span class="number">1.5 </span>Keeping score</a></h2>
<p class="noindent">We create a <code>score</code> variable to record how many questions the player answered correctly.</p>
<div class="codelisting" id="code-maths2" data-tralics-id="uid19" data-number="1.5"><div class="heading"><span class="number">Program 1.5:</span> <span class="description">Keeping score</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"What is 1+1"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"correct"</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"What is 35-25"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"correct"</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"Your score:"</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid7" data-tralics-id="cid7" class="section" data-number="1.6"><h2><a href="#cid7" class="heading hyperref"><span class="number">1.6 </span>Guessing game with a loop</a></h2>
<p class="noindent">This <code>while</code> loop goes round and round forever until the player gets a correct
answer and then it <code>break</code>s.<span class="intersentencespace"></span> Note that everything in the loop is indented.</p>
<div class="codelisting" id="code-loop" data-tralics-id="uid20" data-number="1.6"><div class="heading"><span class="number">Program 1.6:</span> <span class="description">Guessing game with a loop</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"I am thinking of a number, can you guess it?"</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"wrong"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"correct!"</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Give a hint to the player when they are wrong.<span class="intersentencespace"></span>
</li>
<li>Print how many guesses at the end.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid8" data-tralics-id="cid8" class="section" data-number="1.7"><h2><a href="#cid8" class="heading hyperref"><span class="number">1.7 </span>Improved guessing game</a></h2>
<p class="noindent"><a href="#code-loop" class="hyperref">ProgramÂ <span class="ref">1.6</span></a> with a hint whether the guess is greater or lesser than the answer.</p>
<div class="codelisting" id="code-loop2" data-tralics-id="uid23" data-number="1.7"><div class="heading"><span class="number">Program 1.7:</span> <span class="description">Improved guessing game</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">guesses</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">guesses</span> <span class="o">=</span> <span class="n">guesses</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"I am thinking of a number, can you guess it?"</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"too low"</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"too high"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"correct! you took"</span><span class="p">,</span> <span class="n">guesses</span><span class="p">,</span> <span class="s2">"guesses"</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid9" data-tralics-id="cid9" class="chapter" data-number="2"><h1><a href="#cid9" class="heading hyperref"><span class="number">Lesson 2 </span>Drawing graphics</a></h1>
<p class="noindent">To create graphics for our games we will use <a href="https://pygame-zero.readthedocs.io" target="_blank" rel="noopener">the Pygame Zero library</a>.<span class="intersentencespace"></span> You will find the documentation on the website useful!</p>
<p>The smallest square that can be displayed on a monitor is called a <em>pixel</em>.<span class="intersentencespace"></span> This diagram shows a close-up view
of a window that is 40 pixels wide and 40 pixels high.<span class="intersentencespace"></span> At normal size you will not see the grid lines.</p>
<div class="graphics image"><img src="images/figures/pixelgrid.png" alt="images/figures/pixelgrid" /></div>
<p>We can refer to any pixel by giving two co-ordinates, <em>(x,y)</em> Make sure you understand co-ordinates before moving on
because everything we do in Pygame Zero will use it.<span class="intersentencespace"></span> (In maths this called a â€˜Cartesian coordinate systemâ€™).</p>
</div>
<div id="cid10" data-tralics-id="cid10" class="section" data-number="2.1"><h2><a href="#cid10" class="heading hyperref"><span class="number">2.1 </span>Lines and circles</a></h2>
<p class="noindent">If are using the Mu editor, Pygame Zero is built-in, but <strong>you must remember to click â€˜Modeâ€™ and select â€˜Pygame Zeroâ€™ before running your program</strong>!</p>
<p>If you are using a different editor, <a href="https://pygame-zero.readthedocs.io/en/stable/ide-mode.html" target="_blank" rel="noopener">instructions are online</a></p>
<div class="codelisting" id="code-lines_circles" data-tralics-id="uid24" data-number="2.1"><div class="heading"><span class="number">Program 2.1:</span> <span class="description">Lines and circles</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># what are these units? what if we change them?</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># what if we delete this line?</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"white"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">450</span><span class="p">),</span> <span class="s2">"purple"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">350</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="s2">"purple"</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Finish drawing this picture, or your own picture.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid11" data-tralics-id="cid11" class="section" data-number="2.2"><h2><a href="#cid11" class="heading hyperref"><span class="number">2.2 </span>Moving rectangles</a></h2>
<p class="noindent">To make things move we need to add the special <code>update()</code> function.<span class="intersentencespace"></span> We donâ€™t need to write our own loop because <em>Pygame Zero calls this function for us in its own loop</em>, over and over, many times per second.</p>
<div class="codelisting" id="code-moving_boxes" data-tralics-id="uid26" data-number="2.2"><div class="heading"><span class="number">Program 2.2:</span> <span class="description">Moving rectangles</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div></div><ul>
<li>Make the box move faster
</li>
<li>and in different directions.<span class="intersentencespace"></span>
</li>
<li>Make two boxes with different colours.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid12" data-tralics-id="cid12" class="section" data-number="2.3"><h2><a href="#cid12" class="heading hyperref"><span class="number">2.3 </span>Actor sprites</a></h2>
<p class="noindent">Actor sprites are very similar to boxes!<span class="intersentencespace"></span> Click <code>Images</code> to see the folder of image files available.<span class="intersentencespace"></span> <code>alien.png</code> should already be there, but
for other images you must add the files yourself.</p>
<div class="codelisting" id="code-prites" data-tralics-id="uid30" data-number="2.3"><div class="heading"><span class="number">Program 2.3:</span> <span class="description">Actor sprites</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">alien</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">50</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div></div><ul>
<li>Draw or download your own image to use instead of alien.<span class="intersentencespace"></span> You could use Microsoft Paint which comes with Windows.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid13" data-tralics-id="cid13" class="section" data-number="2.4"><h2><a href="#cid13" class="heading hyperref"><span class="number">2.4 </span>Keyboard input</a></h2>
<p class="noindent">The alien moves when you press the cursor keys.</p>
<div class="codelisting" id="code-keyboard_input" data-tralics-id="uid32" data-number="2.4"><div class="heading"><span class="number">Program 2.4:</span> <span class="description">Keyboard input</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">):</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">):</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
</pre></div></div></div><ul>
<li>Make the alien move up and down as well as left and right.<span class="intersentencespace"></span>
</li>
<li>Use the += operator to change the alien.x more concisely (see <a href="#code-shortcuts" class="hyperref">ProgramÂ <span class="ref">4.3</span></a>).<span class="intersentencespace"></span>
</li>
<li>Use the <code>or</code> operator to allow WASD keys to move the alien in addition to the cursor keys (see <a href="#code-logic" class="hyperref">ProgramÂ <span class="ref">4.1</span></a>).<span class="intersentencespace"></span>
</li>
<li>Make alien wrap around when he moves off edge of screen.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid14" data-tralics-id="cid14" class="section" data-number="2.5"><h2><a href="#cid14" class="heading hyperref"><span class="number">2.5 </span>Joystick input</a></h2>
<p class="noindent">You may call them <em>gamepads</em> or game <em>controllers</em>, but Pygame calls them <em>joysticks</em>.</p>
<p>Some controllers have different inputs and some are not compatible at all so donâ€™t be surprised if this doesnt work properly!<span class="intersentencespace"></span> PS4 and Xbox One controllers connected by USB cable seems to work best.<span class="intersentencespace"></span> Use <a href="#code-joystick_tester" class="hyperref">ProgramÂ <span class="ref">7.3</span></a> to test yours and find out what inputs it has.<span class="intersentencespace"></span> Note that if you come back to this program in future when you no longer have a controller plugged in you will get an error.</p>
<div class="codelisting" id="code-oystick_input" data-tralics-id="uid37" data-number="2.5"><div class="heading"><span class="number">Program 2.5:</span> <span class="description">Joystick input</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">joystick</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">Joystick</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">joystick</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span> <span class="ow">or</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span> <span class="ow">or</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
</pre></div></div></div><ul>
<li>Make the alien move up and down as well as left and right.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid15" data-tralics-id="cid15" class="chapter" data-number="3"><h1><a href="#cid15" class="heading hyperref"><span class="number">Lesson 3 </span>Arcade games</a></h1>
<p class="noindent">Now we can draw actor sprites to the screen we can begin to make simple arcade style games with them.</p>
</div>
<div id="cid16" data-tralics-id="cid16" class="section" data-number="3.1"><h2><a href="#cid16" class="heading hyperref"><span class="number">3.1 </span>Collisions</a></h2>
<p class="noindent">Arcade games need to know when one sprite has hit another sprite.<span class="intersentencespace"></span> Most of this code is copied from <a href="#code-moving_boxes" class="hyperref">ProgramÂ <span class="ref">2.2</span></a> and <a href="#code-keyboard_input" class="hyperref">ProgramÂ <span class="ref">2.4</span></a>.</p>
<div class="codelisting" id="code-collisions" data-tralics-id="uid39" data-number="3.1"><div class="heading"><span class="number">Program 3.1:</span> <span class="description">Lines and circles</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"hit"</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Add joystick input (as before); add vertical movement (as before).<span class="intersentencespace"></span>
</li>
<li>Make the box chase the alien.<span class="intersentencespace"></span>
</li>
<li>Print number of times hit (the score).<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid17" data-tralics-id="cid17" class="section" data-number="3.2"><h2><a href="#cid17" class="heading hyperref"><span class="number">3.2 </span>Sound and animation</a></h2>
<p class="noindent">Pygame Zero comes with one other image <code>alien_hurt.png</code> and one sound <code>eep.wav</code>.<span class="intersentencespace"></span> If you want more you will have to add them to the <code>sounds</code> and <code>images</code> folders.</p>
<p>Most of this code is copied from <a href="#code-collisions" class="hyperref">ProgramÂ <span class="ref">3.1</span></a></p>
<div class="codelisting" id="code-collisions2_sound_animation" data-tralics-id="uid43" data-number="3.2"><div class="heading"><span class="number">Program 3.2:</span> <span class="description">Sound and animation upon collision</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># PLAY SOUND AND SHOW IMAGE WHEN HIT</span>
<span class="hll">    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
</span><span class="hll">        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien_hurt'</span>
</span><span class="hll">        <span class="n">sounds</span><span class="o">.</span><span class="n">eep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien'</span>
</span></pre></div></div></div><ul>
<li>Record your own sound effect and add it to the game.<span class="intersentencespace"></span>
</li>
<li>Add more boxes or sprites that move in different ways for the player to avoid.<span class="intersentencespace"></span>
</li>
<li>Add a second alien controlled by different keys or gamepad for player 2.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid18" data-tralics-id="cid18" class="section" data-number="3.3"><h2><a href="#cid18" class="heading hyperref"><span class="number">3.3 </span>Mouse clicks</a></h2>
<p class="noindent">This uses a <em>function call-back</em> for event-based input.<span class="intersentencespace"></span> It is similiar to <a href="#code-collisions2_sound_animation" class="hyperref">ProgramÂ <span class="ref">3.2</span></a> but:</p>
<ul>
<li>The box has been removed.<span class="intersentencespace"></span>
</li>
<li>There is an <code>on_mouse_down()</code> special function that is called automatically when the player click the mouse.<span class="intersentencespace"></span>
</li>
<li>The score is displayed.<span class="intersentencespace"></span>
</li></ul>
<div class="aside" id="aside-mouseclicks" data-tralics-id="uid50" data-number="3.1"><div class="heading"><span class="number">Note 3.1.</span> 

<span class="description">Instructor note</span></div>
<p class="noindent">This is a good time to explain functions.<span class="intersentencespace"></span> See <a href="#code-functions" class="hyperref">ProgramÂ <span class="ref">4.6</span></a> for more functions.<span class="intersentencespace"></span></p>

</div><div class="codelisting" id="code-mouse_input" data-tralics-id="uid51" data-number="3.3"><div class="heading"><span class="number">Program 3.3:</span> <span class="description">Getting input from mouse clicks</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Score "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien'</span>

<span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">button</span> <span class="o">==</span> <span class="n">mouse</span><span class="o">.</span><span class="n">LEFT</span> <span class="ow">and</span> <span class="n">alien</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien_hurt'</span>
        <span class="n">sounds</span><span class="o">.</span><span class="n">eep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div></div></div></div>
<div id="cid19" data-tralics-id="cid19" class="section" data-number="3.4"><h2><a href="#cid19" class="heading hyperref"><span class="number">3.4 </span>Mouse movement</a></h2>
<p class="noindent">If you are more interested in controllers than mice this may be skipped for now.</p>
<div class="codelisting" id="code-mouse_movement" data-tralics-id="uid52" data-number="3.4"><div class="heading"><span class="number">Program 3.4:</span> <span class="description">Getting input from mouse movement</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># wiggle your mouse around the screen!</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">on_mouse_move</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
</pre></div></div></div><ul>
<li>What happens if you delete line 8 and replace it with this:
<div class="code"><div class="highlight"><pre><span></span>   <span class="n">animate</span><span class="p">(</span><span class="n">alien</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tween</span><span class="o">=</span><span class="s1">'bounce_end'</span><span class="p">)</span>
</pre></div></div>
</li>
<li>What happens if you change <code>on_mouse_move</code> to <code>on_mouse_down</code>?<span class="intersentencespace"></span>
</li>
<li>Can you make a game with one alien controlled by mouse and another controlled by keyboard?<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid20" data-tralics-id="cid20" class="chapter" data-number="4"><h1><a href="#cid20" class="heading hyperref"><span class="number">Lesson 4 </span>Python Fundamentals</a></h1>
<p class="noindent">Now weâ€™ve had some fun with games I hope to have generated enough interest to tackle some coding basics!</p>
<div class="aside" id="aside-funda" data-tralics-id="uid56" data-number="4.1"><div class="heading"><span class="number">Note 4.1.</span> 

<span class="description">Instructor note</span></div>
<p class="noindent">I donâ€™t have the students type these, just discuss them, and possibly not all in the same lesson but only when they relevant to other programs.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid21" data-tralics-id="cid21" class="section" data-number="4.1"><h2><a href="#cid21" class="heading hyperref"><span class="number">4.1 </span>Logic</a></h2>
<div class="codelisting" id="code-logic" data-tralics-id="uid57" data-number="4.1"><div class="heading"><span class="number">Program 4.1:</span> <span class="description">Boolean logic</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">b</span> <span class="o">=</span> <span class="bp">False</span>

<span class="k">if</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is true"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="ow">and</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a and b are both true"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="ow">or</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"either a or b is true"</span><span class="p">)</span>
</pre></div></div></div><div class="codelisting" id="code-logic2" data-tralics-id="uid58" data-number="4.2"><div class="heading"><span class="number">Program 4.2:</span> <span class="description">Greater than, lesser than, equality</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="mi">7</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"7 is less than 9"</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is equal to b"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is less than b"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is greater than b"</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid22" data-tralics-id="cid22" class="section" data-number="4.2"><h2><a href="#cid22" class="heading hyperref"><span class="number">4.2 </span>Shortcuts</a></h2>
<p class="noindent">You may have noticed some of these being used already.<span class="intersentencespace"></span> They are quicker ways of doing basic things.</p>
<div class="codelisting" id="code-shortcuts" data-tralics-id="uid59" data-number="4.3"><div class="heading"><span class="number">Program 4.3:</span> <span class="description">Shortcuts</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># f is an easy way to do string interpolation</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">56</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">"Richard"</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">f</span><span class="s2">"{name} scored {score} points"</span>
<span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="c1"># += is an easy way to increment a variable</span>
<span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">10</span>  <span class="c1"># hard way</span>
<span class="n">score</span> <span class="o">+=</span> <span class="mi">10</span>         <span class="c1"># easy way</span>
<span class="k">print</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>

<span class="c1"># double / means whole number division, no decimals</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">76</span> <span class="o">//</span> <span class="mi">10</span>
<span class="c1"># MODULO is the percent sign %. It means do division and take the remainder.</span>
<span class="n">remainder</span> <span class="o">=</span> <span class="mi">76</span> <span class="o">%</span> <span class="mi">10</span>
<span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"76 divided by 10 is {x} and the remainder is {remainder}"</span><span class="p">)</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">502</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">502</span>
<span class="c1"># Modulo is often used as a shortcut to reset a number back</span>
<span class="c1"># to zero if it gets too big.  So instead of:</span>
<span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">WIDTH</span>
<span class="c1"># You could simply do:</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">%</span> <span class="n">WIDTH</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid23" data-tralics-id="cid23" class="section" data-number="4.3"><h2><a href="#cid23" class="heading hyperref"><span class="number">4.3 </span>For loops</a></h2>
<p class="noindent">It is often useful to put one loop inside another loop.</p>
<div class="codelisting" id="code-for_loop" data-tralics-id="uid60" data-number="4.4"><div class="heading"><span class="number">Program 4.4:</span> <span class="description">Times tables with for loops</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"looping"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># loop with step 2</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"looping again"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># loop inside another loop</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s2">"times"</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="s2">"is"</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Can you print 12 times table?<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid24" data-tralics-id="cid24" class="section" data-number="4.4"><h2><a href="#cid24" class="heading hyperref"><span class="number">4.4 </span>Arrays</a></h2>
<p class="noindent">Python calls them <em>lists</em> but most languages call them <em>arrays</em>.</p>
<div class="codelisting" id="code-arrays" data-tralics-id="uid62" data-number="4.5"><div class="heading"><span class="number">Program 4.5:</span> <span class="description">Array lists</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># array is a list of variables</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">74</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"hello"</span><span class="p">,</span> <span class="s2">"goodbye"</span><span class="p">]</span>

<span class="c1"># can take a single element from the list</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># can use a for loop to take every element</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid25" data-tralics-id="cid25" class="section" data-number="4.5"><h2><a href="#cid25" class="heading hyperref"><span class="number">4.5 </span>Functions</a></h2>
<p class="noindent">You have already defined specially named functions that are called by Pygame: <code>draw()</code> and <code>update()</code>
However you can define a function named whatever you like and call it yourself.</p>
<p>Functions are useful for many reasons.<span class="intersentencespace"></span> The simplest is that they make your program look more organized.<span class="intersentencespace"></span> They also enable you re-use code without
needing to copy it and risk making mistakes.<span class="intersentencespace"></span> When your programs get longer they enable you to create <em>abstractions</em> so you only have to think about
what function you want to call and donâ€™t need to remember the details of the code inside the function.</p>
<div class="codelisting" id="code-functions" data-tralics-id="uid63" data-number="4.6"><div class="heading"><span class="number">Program 4.6:</span> <span class="description">Functions</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"This is my function"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Imagine there was lots of code here"</span>
          <span class="s2">" that you didnt want to type 3 times"</span><span class="p">)</span>


<span class="n">my_func</span><span class="p">()</span>
<span class="n">my_func</span><span class="p">()</span>
<span class="n">my_func</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid26" data-tralics-id="cid26" class="section" data-number="4.6"><h2><a href="#cid26" class="heading hyperref"><span class="number">4.6 </span>Bugs</a></h2>
<p class="noindent">Fixing bugs can feel frustrating but all programmers must wrestle with them.<span class="intersentencespace"></span> The simplest (but still annoying!)<span class="intersentencespace"></span> are <em>syntax errors</em>.<span class="intersentencespace"></span> The computer is not very intelligent and is unable to guess what you mean, so you must type the programs in this book <strong>exactly</strong> as they appear.<span class="intersentencespace"></span> A single wrong letter or space will prevent them from working.</p>
<p>A particular issue in Python is that <em>indentation</em> must be correct.</p>
<p>Can you spot and fix the bug in this program?</p>
<div class="codelisting" id="code-bug1" data-tralics-id="uid64" data-number="4.7"><div class="heading"><span class="number">Program 4.7:</span> <span class="description">Buggy program</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
 <span class="n">y</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">12</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div></div></div><p>This one has two bugs to fix.</p>
<div class="codelisting" id="code-bug2" data-tralics-id="uid65" data-number="4.8"><div class="heading"><span class="number">Program 4.8:</span> <span class="description">More bugs</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">:</span>
    <span class="k">print</span> <span class="s2">"hello"</span>

<span class="n">myfunction</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid27" data-tralics-id="cid27" class="chapter" data-number="5"><h1><a href="#cid27" class="heading hyperref"><span class="number">Lesson 5 </span>More graphics</a></h1>
<p class="noindent">Here are some tips that will enable you to enhance your games.</p>
</div>
<div id="cid28" data-tralics-id="cid28" class="section" data-number="5.1"><h2><a href="#cid28" class="heading hyperref"><span class="number">5.1 </span>Using loops</a></h2>
<p class="noindent">The loops from <a href="#code-loop" class="hyperref">ProgramÂ <span class="ref">1.6</span></a> are useful for something!<span class="intersentencespace"></span> We draw red circles using a <em>for loop</em>.</p>
<p>We draw greeen circles using a loop within another loop.</p>
<div class="codelisting" id="code-loops" data-tralics-id="uid66" data-number="5.1"><div class="heading"><span class="number">Program 5.1:</span> <span class="description">Loops are useful</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">"green"</span><span class="p">)</span>
</pre></div></div></div><ul>
<li><code>import random</code> and make the positions random, e.g.<span class="intersentencespace"></span> use
<div class="code"><div class="highlight"><pre><span></span>random.randint(0, 100)
</pre></div></div>
</li>
<li>Learn about RGB colour and make random colours (see <a href="#code-colours" class="hyperref">ProgramÂ <span class="ref">5.2</span></a>).<span class="intersentencespace"></span>
</li>
<li>Create a timer variable and change colours based on time (see <a href="#code-timer" class="hyperref">ProgramÂ <span class="ref">6.5</span></a>)
</li></ul>
</div>
<div id="cid29" data-tralics-id="cid29" class="section" data-number="5.2"><h2><a href="#cid29" class="heading hyperref"><span class="number">5.2 </span>Colours</a></h2>
<p class="noindent">Note that sometimes <em>colour</em> is spelt <em>color</em> in American programs.</p>
<p>Instead of using ready made colours like â€˜redâ€™, â€˜yellowâ€™, etc.<span class="intersentencespace"></span> you can create your
own color from three numbers.<span class="intersentencespace"></span> The numbers must be between 0 - 255 and represent
how much <em>red</em>, <em>green</em> and <em>blue</em> to mix together.</p>
<div class="codelisting" id="code-colours" data-tralics-id="uid70" data-number="5.2"><div class="heading"><span class="number">Program 5.2:</span> <span class="description">RGB Colours</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># my_colour = (0,0,0) # makes black</span>
<span class="c1"># my_colour = (255,255,255) # makes white</span>

<span class="n">red_amount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">green_amount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">blue_amount</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">my_colour</span> <span class="o">=</span> <span class="p">(</span><span class="n">red_amount</span><span class="p">,</span> <span class="n">green_amount</span><span class="p">,</span> <span class="n">blue_amount</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">my_colour</span><span class="p">)</span>

<span class="c1"># This function makes the colour change every frame</span>
<span class="c1"># Remove it if you just want to see a static colour.</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">red_amount</span>
    <span class="n">red_amount</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">red_amount</span> <span class="o">=</span> <span class="n">red_amount</span> <span class="o">%</span> <span class="mi">255</span>
</pre></div></div></div><ul>
<li>Change the green and blue amounts to make different colours
</li>
<li>Can you make gray?<span class="intersentencespace"></span>
</li>
<li>Make random colours
</li></ul>
</div>
<div id="cid30" data-tralics-id="cid30" class="section" data-number="5.3"><h2><a href="#cid30" class="heading hyperref"><span class="number">5.3 </span>Fullscreen mode</a></h2>
<p class="noindent">Sometimes it is nice to play your game using the entire screen rather than in a window.<span class="intersentencespace"></span> Add these lines to any game to enable fullscreen mode.<span class="intersentencespace"></span> Then press <em>F</em> to go fullscreen, <em>ESCAPE</em> to quit.</p>
<div class="codelisting" id="code-full_screen_mode" data-tralics-id="uid74" data-number="5.3"><div class="heading"><span class="number">Program 5.3:</span> <span class="description">Fullscreen mode</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">f</span><span class="p">:</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">FULLSCREEN</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">escape</span><span class="p">:</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid31" data-tralics-id="cid31" class="section" data-number="5.4"><h2><a href="#cid31" class="heading hyperref"><span class="number">5.4 </span>Displaying the score</a></h2>
<p class="noindent">This game shows how you can keep the score in a variable and print it on to the game screen.<span class="intersentencespace"></span> You can print any other
messages to the player the same way.</p>
<div class="codelisting" id="code-displaying_text" data-tralics-id="uid75" data-number="5.4"><div class="heading"><span class="number">Program 5.4:</span> <span class="description">Keeping score</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">f</span><span class="s2">"Player 1 score: {score}"</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">textbox</span><span class="p">(</span><span class="s2">"Hello mum"</span><span class="p">,</span> <span class="n">Rect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>

<span class="c1"># This is another special function that is called by Pygame automatically</span>
<span class="c1"># each time a key is pressed. That way player cannot just hold down key!</span>

<span class="k">def</span> <span class="nf">on_key_down</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div></div></div><ul>
<li>Make the score text larger.<span class="intersentencespace"></span>
</li>
<li>Add a second player who presses a different key and show their score too.<span class="intersentencespace"></span>
</li>
<li>Add text to one of your other games.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid32" data-tralics-id="cid32" class="chapter" data-number="6"><h1><a href="#cid32" class="heading hyperref"><span class="number">Lesson 6 </span>More games</a></h1>
<p class="noindent">These games demonstrate some essential building blocks you will need to make more advanced games of your own.</p>
</div>
<div id="cid33" data-tralics-id="cid33" class="section" data-number="6.1"><h2><a href="#cid33" class="heading hyperref"><span class="number">6.1 </span>Array lists</a></h2>
<p class="noindent">We introduced arrays in <a href="#code-arrays" class="hyperref">ProgramÂ <span class="ref">4.5</span></a>.</p>
<p>In this game, we create an empty array <em>[]</em> and use a loop to fill it with aliens.</p>
<p>We again use loops to draw all the aliens and move all the aliens in the array.</p>
<p>When the mouse is clicked we add a new alien to the array.</p>
<div class="codelisting" id="code-arrays" data-tralics-id="uid79" data-number="6.1"><div class="heading"><span class="number">Program 6.1:</span> <span class="description">Array lists are useful in games!</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">aliens</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">aliens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="mi">30</span><span class="p">,</span> <span class="n">i</span><span class="o">*</span><span class="mi">30</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">alien</span> <span class="ow">in</span> <span class="n">aliens</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">alien</span> <span class="ow">in</span> <span class="n">aliens</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
            <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
    <span class="n">aliens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">,</span> <span class="n">pos</span><span class="p">))</span>
</pre></div></div></div><ul>
<li>Go back to a previous game (e.g.<span class="intersentencespace"></span> <a href="#code-collisions" class="hyperref">ProgramÂ <span class="ref">3.1</span></a>)
make an array of bullets that move up the screen.<span class="intersentencespace"></span> When the player presses the spacebar to shoot,
add a new bullet to the array.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid34" data-tralics-id="cid34" class="section" data-number="6.2"><h2><a href="#cid34" class="heading hyperref"><span class="number">6.2 </span>Animation</a></h2>
<p class="noindent">Animation is another use for functions.<span class="intersentencespace"></span> (See <a href="#code-functions" class="hyperref">ProgramÂ <span class="ref">4.6</span></a>) We define our own function and then ask Pygame to <em>call it back</em>
every 0.2 seconds.<span class="intersentencespace"></span> Most of this code is from <a href="#code-collisions" class="hyperref">ProgramÂ <span class="ref">3.1</span></a>.</p>
<div class="codelisting" id="code-animation" data-tralics-id="uid81" data-number="6.2"><div class="heading"><span class="number">Program 6.2:</span> <span class="description">Animation</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>

<span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"alien_hurt"</span><span class="p">,</span> <span class="s2">"alien"</span><span class="p">]</span>
<span class="n">image_counter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">animateAlien</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">image_counter</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">images</span><span class="p">[</span><span class="n">image_counter</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">)]</span>
    <span class="n">image_counter</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="n">animateAlien</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
</pre></div></div></div><ul>
<li>Make the alien animate faster.<span class="intersentencespace"></span>
</li>
<li>Add another image to list of images.<span class="intersentencespace"></span>
</li>
<li>Draw your own animation, e.g.<span class="intersentencespace"></span> a man walking left which plays when the left key is pressed
</li></ul>
</div>
<div id="cid35" data-tralics-id="cid35" class="section" data-number="6.3"><h2><a href="#cid35" class="heading hyperref"><span class="number">6.3 </span>Simple physics</a></h2>
<p class="noindent">Instead of moving this ball by a fixed number of pixels, we store the number of pixels to move in variables, <em>vx</em> and <em>vy</em>.<span class="intersentencespace"></span> These are velocities, i.e.<span class="intersentencespace"></span> speed in a fixed direction.<span class="intersentencespace"></span> This allow us to change the velocity - reverse it in fact - when the ball hits the edge.</p>
<div class="codelisting" id="code-simple_physics" data-tralics-id="uid85" data-number="6.3"><div class="heading"><span class="number">Program 6.3:</span> <span class="description">Simple physics: velocity</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">vx</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">vx</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">vx</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">vy</span>
</pre></div></div></div><ul>
<li>Make the ball get faster each time it hits the sides
</li></ul>
</div>
<div id="cid36" data-tralics-id="cid36" class="section" data-number="6.4"><h2><a href="#cid36" class="heading hyperref"><span class="number">6.4 </span>Pong</a></h2>
<p class="noindent">Pong is a classic bat and ball game.</p>
<div class="codelisting" id="code-pong" data-tralics-id="uid87" data-number="6.4"><div class="heading"><span class="number">Program 6.4:</span> <span class="description">Pong</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">bat</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">480</span><span class="p">),</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">vx</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">vy</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">bat</span><span class="p">,</span> <span class="s2">"white"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">vx</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">vx</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">bat</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span><span class="p">:</span>
        <span class="nb">exit</span><span class="p">()</span>
    <span class="k">if</span><span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">):</span>
        <span class="n">bat</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">elif</span><span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">):</span>
        <span class="n">bat</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mi">2</span>
</pre></div></div></div><ul>
<li>Make the ball more quickly.<span class="intersentencespace"></span>
</li>
<li>Add another bat at the top of the screen for player 2.<span class="intersentencespace"></span>
</li>
<li>Add bricks (Rects) that disappear when the ball hits them.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid37" data-tralics-id="cid37" class="section" data-number="6.5"><h2><a href="#cid37" class="heading hyperref"><span class="number">6.5 </span>Timer</a></h2>
<p class="noindent">Pygame can tell us how much time has passed since the last frame
in a parameter to our update function.<span class="intersentencespace"></span> We use this to keep a timer.</p>
<div class="codelisting" id="code-timer" data-tralics-id="uid91" data-number="6.5"><div class="heading"><span class="number">Program 6.5:</span> <span class="description">Timer</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">timer</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">timer</span>
    <span class="n">timer</span> <span class="o">+=</span> <span class="n">dt</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">f</span><span class="s2">"Time passed: {timer}"</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">timer</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">textbox</span><span class="p">(</span><span class="s2">"Time's up!"</span><span class="p">,</span> <span class="n">Rect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
</pre></div></div></div><ul>
<li>Make the timer count down, not up.<span class="intersentencespace"></span>
</li>
<li>Add a timer to one of your other games.<span class="intersentencespace"></span>
</li>
<li>Add a timer to <a href="#code-arrays" class="hyperref">ProgramÂ <span class="ref">4.5</span></a> that deletes one of the aliens when the timer runs out, then starts the timer again.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid38" data-tralics-id="cid38" class="section" data-number="6.6"><h2><a href="#cid38" class="heading hyperref"><span class="number">6.6 </span>Another timer</a></h2>
<p class="noindent">Pygame has its own clock which we can use by asking it to <em>call back</em> one of our
functions at a certain time, or regularly over and over at an interval.</p>
<div class="codelisting" id="code-timer2" data-tralics-id="uid95" data-number="6.6"><div class="heading"><span class="number">Program 6.6:</span> <span class="description">Timer with callback functions</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">aliens</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">add_alien</span><span class="p">():</span>
    <span class="n">aliens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">)))</span>
    <span class="p">)</span>

<span class="c1"># call add_alien once, 0.5 seconds from now</span>
<span class="n">clock</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">add_alien</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># call add_alien over and over again, ever 2 seconds</span>
<span class="n">clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="n">add_alien</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">alien</span> <span class="ow">in</span> <span class="n">aliens</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div></div><ul>
<li>Make the aliens appear much faster
</li>
<li>Use <code>len(aliens)</code> to print how many aliens there are
</li>
<li>When there are too many aliens, stop adding them using this code:
<div class="code"><div class="highlight"><pre><span></span>    <span class="n">clock</span><span class="o">.</span><span class="n">unschedule</span><span class="p">(</span><span class="n">add_alien</span><span class="p">)</span>
</pre></div></div>
</li></ul>
</div>
<div id="cid39" data-tralics-id="cid39" class="chapter" data-number="7"><h1><a href="#cid39" class="heading hyperref"><span class="number">Lesson 7 </span>Advanced topics</a></h1>
<div class="aside" id="aside-advanced" data-tralics-id="uid99" data-number="7.1"><div class="heading"><span class="number">Note 7.1.</span> 

<span class="description">Instructor note</span></div>
<p class="noindent">This is beginning of my attempts to teach object oriented programming, but I wouldnâ€™t attempt this with young students.</p>

</div></div>
<div id="cid40" data-tralics-id="cid40" class="section" data-number="7.1"><h2><a href="#cid40" class="heading hyperref"><span class="number">7.1 </span>Classes</a></h2>
<p class="noindent">Youâ€™ve already been using class types, e.g.<span class="intersentencespace"></span> Rect and Actor.<span class="intersentencespace"></span> But if we want to store velocity as in <a href="#code-simple_physics" class="hyperref">ProgramÂ <span class="ref">6.3</span></a> we find classes do not include <em>vx</em> and <em>vy</em> variables inside them.</p>
<p>There letâ€™s
create our own class, Sprite, that is the same as Actor but with
these variables included.</p>
<div class="codelisting" id="code-classes" data-tralics-id="uid100" data-number="7.1"><div class="heading"><span class="number">Program 7.1:</span> <span class="description">Classes</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">class</span> <span class="nc">Sprite</span><span class="p">(</span><span class="n">Actor</span><span class="p">):</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">ball</span><span class="o">.</span><span class="n">vx</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">ball</span><span class="o">.</span><span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">vx</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">vy</span>
</pre></div></div></div></div>
<div id="cid41" data-tralics-id="cid41" class="section" data-number="7.2"><h2><a href="#cid41" class="heading hyperref"><span class="number">7.2 </span>Methods</a></h2>
<p class="noindent">Classes can contain functions (called <em>methods</em>) as well as variables.<span class="intersentencespace"></span> Methods are the best place to modify the classâ€™s variables.</p>
<div class="codelisting" id="code-classes2" data-tralics-id="uid101" data-number="7.2"><div class="heading"><span class="number">Program 7.2:</span> <span class="description">Class methods</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">class</span> <span class="nc">Sprite</span><span class="p">(</span><span class="n">Actor</span><span class="p">):</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vy</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">vx</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">vy</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid42" data-tralics-id="cid42" class="section" data-number="7.3"><h2><a href="#cid42" class="heading hyperref"><span class="number">7.3 </span>Joystick tester</a></h2>
<p class="noindent">This is an example of controller input and example of for loops but
mostly here so you can test your controllersâ€™ input.<span class="intersentencespace"></span> I dontâ€™s suggest typing this one yourself.</p>
<div class="codelisting" id="code-joystick_tester" data-tralics-id="uid102" data-number="7.3"><div class="heading"><span class="number">Program 7.3:</span> <span class="description">Joystick tester</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygame</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">joystick_count</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">get_count</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">joystick_count</span><span class="p">):</span>
        <span class="n">joystick</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">Joystick</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">joystick</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_numaxes</span><span class="p">()</span>
        <span class="n">buttons</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_numbuttons</span><span class="p">()</span>
        <span class="n">hats</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_numhats</span><span class="p">()</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="s2">"Joystick {} name: {} axes:{} buttons:{} hats:{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">hats</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>
            <span class="n">axis</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_axis</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Axis {} value: {:&gt;6.3f}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">axis</span><span class="p">),</span>
                             <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">buttons</span><span class="p">):</span>
            <span class="n">button</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_button</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Button {:&gt;2} value: {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">button</span><span class="p">),</span>
                             <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hats</span><span class="p">):</span>
            <span class="n">hat</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_hat</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Hat {} value: {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">hat</span><span class="p">)),</span>
                             <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
</pre></div></div></div></div>
    </div>
  </body>
</html>
