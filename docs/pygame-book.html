<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/softcover.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/custom.css" media="screen" rel="stylesheet" type="text/css" />
    
    <title>pygame-book</title>
    
      <script type="text/x-mathjax-config">
              MathJax.Hub.Config({
        "HTML-CSS": {
          availableFonts: ["TeX"],
        },
        TeX: {
          extensions: ["AMSmath.js", "AMSsymbols.js", "color.js"],
          equationNumbers: {
            autoNumber: "AMS",
            
          },
          Macros: {
            PolyTeX:    "Poly{\\TeX}",
            PolyTeXnic: "Poly{\\TeX}nic",
            "softcover": "\\texttt{softcover}",
"unitvec": ["{\\hat #1}", 1]
          }
        },
        showProcessingMessages: false,
        messageStyle: "none",
        imageFont: null,
        "AssistiveMML": { disabled: true }
      });

        if (/PhantomJS/.test(window.navigator.userAgent)) {
          MathJax.Hub.Queue([alert, 'MathJax Done']);
        }
      </script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_SVG"></script>
    
  </head>
  <body>
    
    <div id="book">
      <div id="frontmatter" data-number="0"><div id="title_page"><h1 class="title">Coding Games With Pygame Zero &amp; Python</h1><h1 class="subtitle">Student workbook (2nd edition)</h1><h2 class="author">Richard Smith</h2></div>
<h1 class="contents">Contents</h1><div id="table_of_contents"><ul><li class="chapter-star"><a href="#for_the_instructor" class="heading hyperref">For the instructor</a></li><li class="chapter-star"><a href="#the_second_edition" class="heading hyperref">The second edition</a></li><li class="chapter"><a href="#cid1" class="heading hyperref"><span class="number">Chapter 1 </span>Overview of Python</a></li><li><ul><li class="section"><a href="#cid2" class="heading hyperref"><span class="number">1.1 </span>Comments</a></li><li class="section"><a href="#cid3" class="heading hyperref"><span class="number">1.2 </span>Literals</a></li><li class="section"><a href="#cid4" class="heading hyperref"><span class="number">1.3 </span>Keywords</a></li><li class="section"><a href="#cid5" class="heading hyperref"><span class="number">1.4 </span>Built-ins</a></li><li class="section"><a href="#cid6" class="heading hyperref"><span class="number">1.5 </span>Libraries</a></li><li class="section"><a href="#cid7" class="heading hyperref"><span class="number">1.6 </span>Names</a></li><li class="section"><a href="#cid8" class="heading hyperref"><span class="number">1.7 </span>Whitespace</a></li></ul></li><li class="chapter"><a href="#cid9" class="heading hyperref"><span class="number">Chapter 2 </span>Python Fundamentals</a></li><li><ul><li class="section"><a href="#cid10" class="heading hyperref"><span class="number">2.1 </span>The REPL</a></li><li class="section"><a href="#cid11" class="heading hyperref"><span class="number">2.2 </span>Arithmetic operators</a></li><li class="section"><a href="#cid12" class="heading hyperref"><span class="number">2.3 </span>Variables</a></li><li class="section"><a href="#cid13" class="heading hyperref"><span class="number">2.4 </span>Input</a></li><li class="section"><a href="#cid14" class="heading hyperref"><span class="number">2.5 </span>Booleans</a></li><li class="section"><a href="#cid15" class="heading hyperref"><span class="number">2.6 </span>Comparison operators</a></li><li class="section"><a href="#cid16" class="heading hyperref"><span class="number">2.7 </span>Boolean logic</a></li><li><ul><li class="subsection"><a href="#uid22" class="heading hyperref"><span class="number">2.7.1 </span>Or</a></li><li class="subsection"><a href="#uid24" class="heading hyperref"><span class="number">2.7.2 </span>And</a></li><li class="subsection"><a href="#uid26" class="heading hyperref"><span class="number">2.7.3 </span>Not</a></li></ul></li><li class="section"><a href="#cid17" class="heading hyperref"><span class="number">2.8 </span>For loops</a></li><li><ul><li class="subsection"><a href="#uid28" class="heading hyperref"><span class="number">2.8.1 </span>Nested loops</a></li><li class="subsection"><a href="#uid31" class="heading hyperref"><span class="number">2.8.2 </span>Incrementing a variable in a loop</a></li></ul></li><li class="section"><a href="#cid18" class="heading hyperref"><span class="number">2.9 </span>Array lists</a></li><li><ul><li class="subsection"><a href="#uid40" class="heading hyperref"><span class="number">2.9.1 </span>Looping over lists</a></li></ul></li><li class="section"><a href="#cid19" class="heading hyperref"><span class="number">2.10 </span>Functions</a></li><li class="section"><a href="#cid20" class="heading hyperref"><span class="number">2.11 </span>Shortcuts</a></li><li class="section"><a href="#cid21" class="heading hyperref"><span class="number">2.12 </span>Indentation</a></li><li class="section"><a href="#cid22" class="heading hyperref"><span class="number">2.13 </span>Global variables</a></li><li class="section"><a href="#cid23" class="heading hyperref"><span class="number">2.14 </span>Dictionaries</a></li><li><ul><li class="subsection"><a href="#uid52" class="heading hyperref"><span class="number">2.14.1 </span>Counting</a></li><li class="subsection"><a href="#uid55" class="heading hyperref"><span class="number">2.14.2 </span>Combining tests</a></li><li class="subsection"><a href="#uid57" class="heading hyperref"><span class="number">2.14.3 </span>Finding</a></li><li class="subsection"><a href="#uid59" class="heading hyperref"><span class="number">2.14.4 </span>Finding names</a></li><li class="subsection"><a href="#uid61" class="heading hyperref"><span class="number">2.14.5 </span>Find the average</a></li></ul></li><li class="section"><a href="#cid24" class="heading hyperref"><span class="number">2.15 </span>Bugs</a></li></ul></li><li class="chapter"><a href="#cid25" class="heading hyperref"><span class="number">Chapter 3 </span>Text-based quiz games</a></li><li><ul><li class="section"><a href="#cid26" class="heading hyperref"><span class="number">3.1 </span>Hello, world</a></li><li class="section"><a href="#cid27" class="heading hyperref"><span class="number">3.2 </span>Getting input from the keyboard</a></li><li class="section"><a href="#cid28" class="heading hyperref"><span class="number">3.3 </span>Making decisions: if, elif, else</a></li><li class="section"><a href="#cid29" class="heading hyperref"><span class="number">3.4 </span>A random maths question</a></li><li class="section"><a href="#cid30" class="heading hyperref"><span class="number">3.5 </span>Keeping score</a></li><li class="section"><a href="#cid31" class="heading hyperref"><span class="number">3.6 </span>Guessing game with a loop</a></li><li class="section"><a href="#cid32" class="heading hyperref"><span class="number">3.7 </span>Improved guessing game</a></li></ul></li><li class="chapter"><a href="#cid33" class="heading hyperref"><span class="number">Chapter 4 </span>Drawing graphics</a></li><li><ul><li class="section"><a href="#cid34" class="heading hyperref"><span class="number">4.1 </span>Lines and circles</a></li><li class="section"><a href="#cid35" class="heading hyperref"><span class="number">4.2 </span>Moving rectangles</a></li><li class="section"><a href="#cid36" class="heading hyperref"><span class="number">4.3 </span>Actor sprites</a></li><li class="section"><a href="#cid37" class="heading hyperref"><span class="number">4.4 </span>Background image</a></li><li class="section"><a href="#cid38" class="heading hyperref"><span class="number">4.5 </span>Keyboard input</a></li></ul></li><li class="chapter"><a href="#cid39" class="heading hyperref"><span class="number">Chapter 5 </span>Arcade games</a></li><li><ul><li class="section"><a href="#cid40" class="heading hyperref"><span class="number">5.1 </span>Collisions</a></li><li class="section"><a href="#cid41" class="heading hyperref"><span class="number">5.2 </span>Chase</a></li><li class="section"><a href="#cid42" class="heading hyperref"><span class="number">5.3 </span>Powerup</a></li><li class="section"><a href="#cid43" class="heading hyperref"><span class="number">5.4 </span>Sound and animation</a></li><li class="section"><a href="#cid44" class="heading hyperref"><span class="number">5.5 </span>Mouse clicks</a></li><li class="section"><a href="#cid45" class="heading hyperref"><span class="number">5.6 </span>Mouse movement</a></li></ul></li><li class="chapter"><a href="#cid46" class="heading hyperref"><span class="number">Chapter 6 </span>Improving your games</a></li><li><ul><li class="section"><a href="#cid47" class="heading hyperref"><span class="number">6.1 </span>Joystick input</a></li><li class="section"><a href="#cid48" class="heading hyperref"><span class="number">6.2 </span>Colours</a></li><li class="section"><a href="#cid49" class="heading hyperref"><span class="number">6.3 </span>Using loops</a></li><li class="section"><a href="#cid50" class="heading hyperref"><span class="number">6.4 </span>Fullscreen mode</a></li><li class="section"><a href="#cid51" class="heading hyperref"><span class="number">6.5 </span>Displaying the score</a></li></ul></li><li class="chapter"><a href="#cid52" class="heading hyperref"><span class="number">Chapter 7 </span>More advanced games</a></li><li><ul><li class="section"><a href="#cid53" class="heading hyperref"><span class="number">7.1 </span>Lists</a></li><li class="section"><a href="#cid54" class="heading hyperref"><span class="number">7.2 </span>Animation</a></li><li class="section"><a href="#cid55" class="heading hyperref"><span class="number">7.3 </span>Simple physics</a></li><li class="section"><a href="#cid56" class="heading hyperref"><span class="number">7.4 </span>Bat and ball game</a></li><li class="section"><a href="#cid57" class="heading hyperref"><span class="number">7.5 </span>Timer</a></li><li class="section"><a href="#cid58" class="heading hyperref"><span class="number">7.6 </span>Callbacks: another kind of timer</a></li></ul></li><li class="chapter"><a href="#cid59" class="heading hyperref"><span class="number">Chapter 8 </span>Tutorial: Chase game</a></li><li><ul><li class="section"><a href="#cid60" class="heading hyperref"><span class="number">8.1 </span>Moving Actor over a background</a></li><li class="section"><a href="#cid61" class="heading hyperref"><span class="number">8.2 </span>Screen wrap-around</a></li><li class="section"><a href="#cid62" class="heading hyperref"><span class="number">8.3 </span>Enemy chases the player</a></li><li class="section"><a href="#cid63" class="heading hyperref"><span class="number">8.4 </span>Collecting items</a></li><li class="section"><a href="#cid64" class="heading hyperref"><span class="number">8.5 </span>Player 2</a></li><li class="section"><a href="#cid65" class="heading hyperref"><span class="number">8.6 </span>Showing the score on the screen</a></li><li class="section"><a href="#cid66" class="heading hyperref"><span class="number">8.7 </span>Timer</a></li><li class="section"><a href="#cid67" class="heading hyperref"><span class="number">8.8 </span>Finished game</a></li></ul></li><li class="chapter"><a href="#cid68" class="heading hyperref"><span class="number">Chapter 9 </span>Tutorial: Maze game</a></li><li><ul><li class="section"><a href="#cid69" class="heading hyperref"><span class="number">9.1 </span>Tilemap</a></li><li class="section"><a href="#cid70" class="heading hyperref"><span class="number">9.2 </span>Moving the player</a></li><li class="section"><a href="#cid71" class="heading hyperref"><span class="number">9.3 </span>Restricting where the player can move</a></li><li class="section"><a href="#cid72" class="heading hyperref"><span class="number">9.4 </span>Animate the movement of the player</a></li><li class="section"><a href="#cid73" class="heading hyperref"><span class="number">9.5 </span>Create an enemy</a></li><li class="section"><a href="#cid74" class="heading hyperref"><span class="number">9.6 </span>A locked door and a key</a></li><li class="section"><a href="#cid75" class="heading hyperref"><span class="number">9.7 </span>Finished game</a></li></ul></li><li class="chapter"><a href="#cid76" class="heading hyperref"><span class="number">Chapter 10 </span>Tutorial: Shooting game</a></li><li><ul><li class="section"><a href="#cid77" class="heading hyperref"><span class="number">10.1 </span>Step 1: Decide what Actors you will need</a></li><li class="section"><a href="#cid78" class="heading hyperref"><span class="number">10.2 </span>Step 2: Draw your Actors</a></li><li class="section"><a href="#cid79" class="heading hyperref"><span class="number">10.3 </span>Step 3: Move your Actors</a></li><li class="section"><a href="#cid80" class="heading hyperref"><span class="number">10.4 </span>Step 4: Define your functions</a></li><li class="section"><a href="#cid81" class="heading hyperref"><span class="number">10.5 </span>Create enemies</a></li><li class="section"><a href="#cid82" class="heading hyperref"><span class="number">10.6 </span>Move the player</a></li><li class="section"><a href="#cid83" class="heading hyperref"><span class="number">10.7 </span>Move the enemies</a></li><li class="section"><a href="#cid84" class="heading hyperref"><span class="number">10.8 </span>Draw text on the screen</a></li><li class="section"><a href="#cid85" class="heading hyperref"><span class="number">10.9 </span>Player bullets</a></li><li class="section"><a href="#cid86" class="heading hyperref"><span class="number">10.10 </span>Enemy bombs</a></li><li class="section"><a href="#cid87" class="heading hyperref"><span class="number">10.11 </span>Check for end of level</a></li><li class="section"><a href="#cid88" class="heading hyperref"><span class="number">10.12 </span>Ideas for extension</a></li></ul></li><li class="chapter"><a href="#cid89" class="heading hyperref"><span class="number">Chapter 11 </span>Tutorial: Race game</a></li><li><ul><li class="section"><a href="#cid90" class="heading hyperref"><span class="number">11.1 </span>Basic game</a></li><li class="section"><a href="#cid91" class="heading hyperref"><span class="number">11.2 </span>Player input</a></li><li class="section"><a href="#cid92" class="heading hyperref"><span class="number">11.3 </span>Generate the walls</a></li><li class="section"><a href="#cid93" class="heading hyperref"><span class="number">11.4 </span>Make the walls colourful</a></li><li class="section"><a href="#cid94" class="heading hyperref"><span class="number">11.5 </span>Scrolling</a></li><li class="section"><a href="#cid95" class="heading hyperref"><span class="number">11.6 </span>Wall collisions</a></li><li class="section"><a href="#cid96" class="heading hyperref"><span class="number">11.7 </span>Timer</a></li><li class="section"><a href="#cid97" class="heading hyperref"><span class="number">11.8 </span>Mouse movement</a></li><li class="section"><a href="#cid98" class="heading hyperref"><span class="number">11.9 </span>Extension ideas</a></li></ul></li><li class="chapter"><a href="#cid99" class="heading hyperref"><span class="number">Chapter 12 </span>Advanced topics</a></li><li><ul><li class="section"><a href="#cid100" class="heading hyperref"><span class="number">12.1 </span>Instructor note</a></li><li class="section"><a href="#cid101" class="heading hyperref"><span class="number">12.2 </span>Classes</a></li><li class="section"><a href="#cid102" class="heading hyperref"><span class="number">12.3 </span>Methods</a></li><li class="section"><a href="#cid103" class="heading hyperref"><span class="number">12.4 </span>Joystick tester</a></li><li class="section"><a href="#cid104" class="heading hyperref"><span class="number">12.5 </span>Distributing your Pygame Zero games</a></li></ul></li></ul></div>
<div class="chapter-star" id="for_the_instructor"><h1><a href="#for_the_instructor" class="heading hyperref">For the instructor</a></h1>
<p class="noindent">This book contains all the example programs used in my CoderDojo class to teach Python programming.<span class="intersentencespace"></span> The primary goal of the class is to teach
programming using action games to make learning more interesting.<span class="intersentencespace"></span> Some of the examples are entirely focused on
introducing new language concepts or showing how the Pygame Zero API works, but most are a mixture of both.</p>
<p>The intention is that
each program in the example chapters is <em>brief, complete</em> and <em>introduces only one or two new concepts</em>.</p>
<ul>
<li>The programs are short so that students can feasibly type them in during the class.<span class="intersentencespace"></span> Typing for themselves is very valuable for beginners, because it helps them learn to type, and to type precisely without mistakes (which show up as syntax errors).<span class="intersentencespace"></span> Even if it takes them a while, they should feel proud when they type a program correctly in the end!<sup id="cha-0_footnote-ref-1" class="footnote"><a href="#cha-0_footnote-1">1</a></sup>
</li>
<li>Each program is complete to avoid the confusion caused by worksheets that tell a student to add lines to a program piecemeal.<span class="intersentencespace"></span> If they make an error or omit a step they may never recover and not produce a working program.<span class="intersentencespace"></span> Also being <em>complete</em> and <em>separate</em> means the whole class can be told to skip to the same program and it won’t matter so much that some of them didn’t complete all the prior programs.<span class="intersentencespace"></span>
</li>
<li>Introducing ideas one or two at a time allows the students to learn mostly through <em>doing</em> and observing the output of each program rather than memorizing.<span class="intersentencespace"></span> To this end the <em>order</em> of the programs within each chapter has been carefully selected.<span class="intersentencespace"></span> The chapter ordering is more loose and it is possible to skip back and forth between chapters.<span class="intersentencespace"></span> If the text quizzes or the Python fundamentals are boring the students, skip ahead to the graphical games, then come back to the earlier examples when necessary.<span class="intersentencespace"></span>
</li></ul>
<p>Following each program are some ideas for how students can modify the program.<span class="intersentencespace"></span> Hopefully they will go further and modify these programs into their own unique games!<span class="intersentencespace"></span> The difficulty of these suggestions varies, to accommodate students of different age and ability.</p>
<p>This book may be suitable for self-teaching by a motivated learner, but does not attempt to be comprehensive or give detailed explanations because it is intended to be used in a class with an instructor who will fill in the gaps as needed by the students.</p>
</div>
<div class="chapter-star" id="the_second_edition"><h1><a href="#the_second_edition" class="heading hyperref">The second edition</a></h1>
<p class="noindent">I discovered two important things from feedback from the first edition:</p>
<ol>
<li>It’s not possible to learn coding with only a single lesson each week.<span class="intersentencespace"></span> Therefore if that is all we have, the time is better spent inspiring interest in the subject rather than memorizing syntax or wrapping their heads around
abstract concepts.<span class="intersentencespace"></span> Those who are motivated to learn more in their own time will require more syntax and concepts, of course, and hence the Fundamentals chapter
has been greatly expanded for their use.<span class="intersentencespace"></span>
</li>
<li>Many students wanted to create larger games than the simple examples given in the first edition.<span class="intersentencespace"></span> It was always the intention that they absorb the knowledge from the examples
and then go on to greater larger games of their own but some will require more hand-holding.<span class="intersentencespace"></span>
</li></ol>
<p>Therefore there are four new chapters of tutorial style examples.<span class="intersentencespace"></span> These are intended to be done in class, with the initial code file given to the students to save time.<span class="intersentencespace"></span> They are intended to create a sense of accomplishment
as each subsequent modifcation improves the game, and also to allow lots of scope for student creativity and customisation.</p>
<p>As noted above, tutorials can become confusing, but I hope the class
instructors can resolve any issues.</p>
</div></div>

<div id="cha-0_footnotes">
  <div class="footnotes">
    <div id="cha-0_footnote-1" class="footnote"><a class="footnote-link" href="#cha-0_footnote-ref-1">1.</a> For writing essays nowadays people can use voice input and touch-screen input, but for programming the majority of programmers still type on a keyboard.<span class="intersentencespace"></span> There’s no sign of this changing in the immediate future, so practising keyboard skills now is still very important for the future.<span class="intersentencespace"></span> Students can practise at home with a program such as TuxType.<span class="intersentencespace"></span> That being said, many programs contain similar code, so it’s also a useful skill for them be able to copy and paste from their other programs.</div>
  </div>
</div><div id="cid1" data-tralics-id="cid1" class="chapter" data-number="1"><h1><a href="#cid1" class="heading hyperref"><span class="number">Chapter 1 </span>Overview of Python</a></h1>
</div>
<div id="cid2" data-tralics-id="cid2" class="section" data-number="1.1"><h2><a href="#cid2" class="heading hyperref"><span class="number">1.1 </span>Comments</a></h2>
<p class="noindent">A computer program is intended to be understood by both humans and computers.<span class="intersentencespace"></span> However to make it easier for the humans, it can also contain
comments written in English.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="c1"># A comment looks like this</span>
</pre></div></div>
<p>Python ignores comments.<span class="intersentencespace"></span> They provide explanations for the human readers.</p>
</div>
<div id="cid3" data-tralics-id="cid3" class="section" data-number="1.2"><h2><a href="#cid3" class="heading hyperref"><span class="number">1.2 </span>Literals</a></h2>
<p class="noindent">A Python program can contain any number and any <em>string</em> of text surrounded by quotes.</p>
<p>Examples:</p>
<table class="tabular"><tr class="top_border bottom_border"><td class="left_border align_left right_border">5</td>
<td class="align_left right_border">1.23</td>
<td class="align_left right_border">“Hello”</td>
<td class="align_left right_border">‘Barry’</td>
</tr></table>
</div>
<div id="cid4" data-tralics-id="cid4" class="section" data-number="1.3"><h2><a href="#cid4" class="heading hyperref"><span class="number">1.3 </span>Keywords</a></h2>
<p class="noindent">Every computer language has a number of <em>keywords</em> that you will need to learn along with their meanings.<span class="intersentencespace"></span> Fortunately they look like English words and there are only a few of them in Python.<span class="intersentencespace"></span> You could tick them off
as you meet them.</p>
<table class="tabular"><tr class="top_border"><td class="left_border align_left right_border">False</td>
<td class="align_left right_border">None</td>
<td class="align_left right_border">True</td>
<td class="align_left right_border">and</td>
<td class="align_left right_border">as</td>
<td class="align_left right_border">assert</td>
<td class="align_left right_border">async</td>
<td class="align_left right_border">await</td>
</tr><tr><td class="left_border align_left right_border">break</td>
<td class="align_left right_border">class</td>
<td class="align_left right_border">continue</td>
<td class="align_left right_border">def</td>
<td class="align_left right_border">del</td>
<td class="align_left right_border">elif</td>
<td class="align_left right_border">else</td>
<td class="align_left right_border">except</td>
</tr><tr><td class="left_border align_left right_border">finally</td>
<td class="align_left right_border">for</td>
<td class="align_left right_border">from</td>
<td class="align_left right_border">global</td>
<td class="align_left right_border">if</td>
<td class="align_left right_border">import</td>
<td class="align_left right_border">in</td>
<td class="align_left right_border">is</td>
</tr><tr><td class="left_border align_left right_border">lambda</td>
<td class="align_left right_border">nonlocal</td>
<td class="align_left right_border">not</td>
<td class="align_left right_border">or</td>
<td class="align_left right_border">pass</td>
<td class="align_left right_border">raise</td>
<td class="align_left right_border">return</td>
<td class="align_left right_border">try</td>
</tr><tr class="bottom_border"><td class="left_border align_left right_border">while</td>
<td class="align_left right_border">with</td>
<td class="align_left right_border">yield</td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
</tr></table>
</div>
<div id="cid5" data-tralics-id="cid5" class="section" data-number="1.4"><h2><a href="#cid5" class="heading hyperref"><span class="number">1.4 </span>Built-ins</a></h2>
<p class="noindent">Python also comes with a large number of <em>functions</em>.<span class="intersentencespace"></span> The most common ones are built-in and always available, much
like the keywords.<span class="intersentencespace"></span> Here is a list of them, just for the sake of completeness, <em>but you probably won’t ever use them all</em>, and when you do use one
you will probably look it up in the documentation.<span class="intersentencespace"></span> So you <em>don’t need to remember these</em>.</p>
<table class="tabular"><tr class="top_border"><td class="left_border align_left right_border">abs</td>
<td class="align_left right_border">all</td>
<td class="align_left right_border">any</td>
<td class="align_left right_border">ascii</td>
<td class="align_left right_border">bin</td>
<td class="align_left right_border">bool</td>
</tr><tr><td class="left_border align_left right_border">breakpoint</td>
<td class="align_left right_border">bytearray</td>
<td class="align_left right_border">bytes</td>
<td class="align_left right_border">callable</td>
<td class="align_left right_border">chr</td>
<td class="align_left right_border">classmethod</td>
</tr><tr><td class="left_border align_left right_border">compile</td>
<td class="align_left right_border">complex</td>
<td class="align_left right_border">copyright</td>
<td class="align_left right_border">credits</td>
<td class="align_left right_border">delattr</td>
<td class="align_left right_border">dict</td>
</tr><tr><td class="left_border align_left right_border">dir</td>
<td class="align_left right_border">divmod</td>
<td class="align_left right_border">enumerate</td>
<td class="align_left right_border">eval</td>
<td class="align_left right_border">exec</td>
<td class="align_left right_border">exit</td>
</tr><tr><td class="left_border align_left right_border">filter</td>
<td class="align_left right_border">float</td>
<td class="align_left right_border">format</td>
<td class="align_left right_border">frozenset</td>
<td class="align_left right_border">getattr</td>
<td class="align_left right_border">globals</td>
</tr><tr><td class="left_border align_left right_border">hasattr</td>
<td class="align_left right_border">hash</td>
<td class="align_left right_border">help</td>
<td class="align_left right_border">hex</td>
<td class="align_left right_border">id</td>
<td class="align_left right_border">input</td>
</tr><tr><td class="left_border align_left right_border">int</td>
<td class="align_left right_border">isinstance</td>
<td class="align_left right_border">issubclass</td>
<td class="align_left right_border">iter</td>
<td class="align_left right_border">len</td>
<td class="align_left right_border">license</td>
</tr><tr><td class="left_border align_left right_border">list</td>
<td class="align_left right_border">locals</td>
<td class="align_left right_border">map</td>
<td class="align_left right_border">max</td>
<td class="align_left right_border">memoryview</td>
<td class="align_left right_border">min</td>
</tr><tr><td class="left_border align_left right_border">next</td>
<td class="align_left right_border">object</td>
<td class="align_left right_border">oct</td>
<td class="align_left right_border">open</td>
<td class="align_left right_border">ord</td>
<td class="align_left right_border">pow</td>
</tr><tr><td class="left_border align_left right_border">print</td>
<td class="align_left right_border">property</td>
<td class="align_left right_border">quit</td>
<td class="align_left right_border">range</td>
<td class="align_left right_border">repr</td>
<td class="align_left right_border">reversed</td>
</tr><tr><td class="left_border align_left right_border">round</td>
<td class="align_left right_border">set</td>
<td class="align_left right_border">setattr</td>
<td class="align_left right_border">slice</td>
<td class="align_left right_border">sorted</td>
<td class="align_left right_border">staticmethod</td>
</tr><tr><td class="left_border align_left right_border">str</td>
<td class="align_left right_border">sum</td>
<td class="align_left right_border">super</td>
<td class="align_left right_border">tuple</td>
<td class="align_left right_border">type</td>
<td class="align_left right_border">vars</td>
</tr><tr class="bottom_border"><td class="left_border align_left right_border">zip</td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
<td class="align_left right_border"></td>
</tr></table>
<p>Once you understand all of these you effectively understand all of the Python language.<span class="intersentencespace"></span> By the end of this book you
will be familiar with at least 20 keywords / functions which is enough to create a huge variety of programs.</p>
</div>
<div id="cid6" data-tralics-id="cid6" class="section" data-number="1.5"><h2><a href="#cid6" class="heading hyperref"><span class="number">1.5 </span>Libraries</a></h2>
<p class="noindent">There are many more functions available (too many to list here), but not everyone will need them, so they are kept in libraries.<span class="intersentencespace"></span> Some libraries
are supplied with Python.<span class="intersentencespace"></span> You can use their functions only after first <em>importing</em> the relevant library module.<span class="intersentencespace"></span> For
example, if you want a random number, import the random library:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<span class="k">print</span><span class="p">(</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div></div>
<p>Other libraries are not supplied with Python and must be downloaded separately, such as the Minecraft, Pygame and Richlib libraries.</p>
</div>
<div id="cid7" data-tralics-id="cid7" class="section" data-number="1.6"><h2><a href="#cid7" class="heading hyperref"><span class="number">1.6 </span>Names</a></h2>
<p class="noindent">You will see many words in a program that appear to be English words and yet they are not literals, keywords or library functions.<span class="intersentencespace"></span> These are names chosen by the programmer.<span class="intersentencespace"></span> For example, if the program needs to record a score and store it in a variable, the
programmer might choose to give that variable the name <code>score</code>:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">score</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Score: "</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div>
<p>Python has no understanding of what <code>score</code> means.<span class="intersentencespace"></span> It only cares that the same word is used every time.<span class="intersentencespace"></span> So a different programmer
might decide to write the program like this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">points</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Score: "</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>
</pre></div></div>
<p>A programmer who doesn’t like typing might use a shorter, less descriptive name:
</p><div class="code"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Score: "</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
</pre></div></div>
<p>However the programmer must be consistent.<span class="intersentencespace"></span> This <strong>would not work</strong>:
</p><div class="code"><div class="highlight"><pre><span></span><span class="n">points</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Score: "</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="cid8" data-tralics-id="cid8" class="section" data-number="1.7"><h2><a href="#cid8" class="heading hyperref"><span class="number">1.7 </span>Whitespace</a></h2>
<p class="noindent">Python is unusual in that it cares about <em>whitespace</em>, i.e.<span class="intersentencespace"></span> what you get when you press the <em>tab</em> key or the <em>space</em> bar on the keyboard.</p>
<p>Python programs are arranged in blocks of lines.<span class="intersentencespace"></span> Every line in a block must have the same amount of whitespace preceding it - the <em>indentation</em>.<span class="intersentencespace"></span> See <a href="#code-blocks" class="hyperref">Program <span class="ref">2.19</span></a> for an example.</p>
</div>
<div id="cid9" data-tralics-id="cid9" class="chapter" data-number="2"><h1><a href="#cid9" class="heading hyperref"><span class="number">Chapter 2 </span>Python Fundamentals</a></h1>
<p class="noindent">There are some exercises here.<span class="intersentencespace"></span> Each exercise will ask you to write a program.<span class="intersentencespace"></span> The solution is
often on the following page - do not turn the page until you have attempted your own solution!<span class="intersentencespace"></span> Save each program in a separate file.</p>
<ul>
<li><strong>Instructor note:</strong> Unlike the rest of the book, these examples are not games.<span class="intersentencespace"></span> You may want to just discuss some of them, rather than having the students type them.<span class="intersentencespace"></span> Also you can skip this chapter entirely and leave it for motivated students to read at home, or use them to reinforce concepts from the games for students who need additional examples.<span class="intersentencespace"></span> There are also some more formal exercises here
that you can use to evaluate students in a more academic setting.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid10" data-tralics-id="cid10" class="section" data-number="2.1"><h2><a href="#cid10" class="heading hyperref"><span class="number">2.1 </span>The REPL</a></h2>
<p class="noindent">REPL stands for <em>Read Evaluate Print Loop</em>.<span class="intersentencespace"></span> In Mu you access it via the <code>REPL</code> button.<span class="intersentencespace"></span> It appears at the bottom of the window.<span class="intersentencespace"></span> It’s a special mode in which you type an instruction to Python and Python
executes it immediately (no need to click <code>RUN</code>) and displays the result (no need to type <code>print()</code>).<span class="intersentencespace"></span> It’s useful for doing calculations and trying things out, but it won’t save what you type, so you will
only want to use it for very short programs.</p>
<div class="graphics image"><img src="images/figures/repl.png" alt="images/figures/repl" /></div>
</div>
<div id="cid11" data-tralics-id="cid11" class="section" data-number="2.2"><h2><a href="#cid11" class="heading hyperref"><span class="number">2.2 </span>Arithmetic operators</a></h2>
<p class="noindent">Python understands several operators from maths.<span class="intersentencespace"></span> You can use them in your programs, or just enter these examples at the REPL to use Python as a calculator, as in the screenshot above.</p>
<table class="tabular"><tr class="top_border bottom_border"><td class="left_border align_left right_border">Operator</td>
<td class="align_left right_border">Symbol</td>
<td class="align_left right_border">Example</td>
<td class="align_left right_border">Result</td>
</tr><tr><td class="left_border align_left right_border">Addition</td>
<td class="align_left right_border">+</td>
<td class="align_left right_border">20 + 10</td>
<td class="align_left right_border">30</td>
</tr><tr><td class="left_border align_left right_border">Subtraction</td>
<td class="align_left right_border">-</td>
<td class="align_left right_border">20 - 10</td>
<td class="align_left right_border">10</td>
</tr><tr><td class="left_border align_left right_border">Multiplication</td>
<td class="align_left right_border">*</td>
<td class="align_left right_border">20 * 10</td>
<td class="align_left right_border">200</td>
</tr><tr class="bottom_border"><td class="left_border align_left right_border">Division</td>
<td class="align_left right_border">/</td>
<td class="align_left right_border">20 / 10</td>
<td class="align_left right_border">2</td>
</tr></table>
<p>There are some more advanced operators in <a href="#code-shortcuts" class="hyperref">Program <span class="ref">2.18</span></a></p>
</div>
<div id="cid12" data-tralics-id="cid12" class="section" data-number="2.3"><h2><a href="#cid12" class="heading hyperref"><span class="number">2.3 </span>Variables</a></h2>
<p class="noindent">A <em>variable</em> is a place in the computer’s memory where data is stored.<span class="intersentencespace"></span> You can name a variable whatever you like; you should
try to make the name descriptive.<span class="intersentencespace"></span> There are many <em>types</em> of variable but Python sets the type for us automatically
when we store data in the variable.<span class="intersentencespace"></span> (Unlike in many other languages, we do not need to specify the type.)<span class="intersentencespace"></span> The types we will see most
often are whole numbers (<em>integers</em>) and <em>strings</em> of text.</p>
<p>We create a variable and assign a value to it using the <code>=</code> operator.<span class="intersentencespace"></span> Note this is different from the <code>==</code> operator which is used for comparisons.</p>
<p>We use the <code>print()</code> function to print the value of our variables.<span class="intersentencespace"></span> It will print any type of data (numbers, strings, both literals and variables) provided each
item is separated with a comma (<code>,</code>).</p>
<div class="codelisting" id="code-variables" data-tralics-id="uid8" data-number="2.1"><div class="heading"><span class="number">Program 2.1:</span> <span class="description">Variable assignment</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">my_number</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">"hello"</span>
<span class="k">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">,</span> <span class="n">my_number</span><span class="p">)</span>
</pre></div></div></div><p>We can use a variable anywhere we would use a literal number or string.<span class="intersentencespace"></span> The value of the variable will be retrieved from the computer’s memory and substituted for the variable in any expression.</p>
<div class="codelisting" id="code-fruits" data-tralics-id="uid9" data-number="2.2"><div class="heading"><span class="number">Program 2.2:</span> <span class="description">Adding two variables together</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">apples</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">pears</span> <span class="o">=</span> <span class="mi">33</span>
<span class="n">fruits</span> <span class="o">=</span> <span class="n">apples</span> <span class="o">+</span> <span class="n">pears</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Number of fruits:"</span><span class="p">,</span> <span class="n">fruits</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid10" data-number="2.1"><div class="heading"><span class="number">Exercise 2.1.</span> 

<span class="description"></span></div>
<p class="noindent">Copy <a href="#code-fruits" class="hyperref">Program <span class="ref">2.2</span></a>, but also add 17 bananas to the calculation of fruits.<span class="intersentencespace"></span></p>

</div><p>We can store a new value in the same variable.<span class="intersentencespace"></span> The old value will be forgotten.</p>
<div class="codelisting" id="code-overwriting" data-tralics-id="uid11" data-number="2.3"><div class="heading"><span class="number">Program 2.3:</span> <span class="description">Overwriting a variable with a new value</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">apples</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">apples</span> <span class="o">=</span> <span class="mi">40</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Number of apples:"</span><span class="p">,</span> <span class="n">apples</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid12" data-number="2.2"><div class="heading"><span class="number">Exercise 2.2.</span> 

<span class="description"></span></div>
<p class="noindent">What do you think <a href="#code-overwriting" class="hyperref">Program <span class="ref">2.3</span></a> will print?<span class="intersentencespace"></span> If you aren’t sure, type it in.<span class="intersentencespace"></span></p>

</div><p>More usefully, we can take the old value, modify it, then store it back in the same variable.</p>
<div class="codelisting" id="code-mod_variables" data-tralics-id="uid13" data-number="2.4"><div class="heading"><span class="number">Program 2.4:</span> <span class="description">Modifying a variable</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">7</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid14" data-number="2.3"><div class="heading"><span class="number">Exercise 2.3.</span> 

<span class="description"></span></div>
<p class="noindent">What will <a href="#code-mod_variables" class="hyperref">Program <span class="ref">2.4</span></a> print?<span class="intersentencespace"></span> Change the numbers in the program.<span class="intersentencespace"></span> Use a division <code>/</code> operation.<span class="intersentencespace"></span> Then ask your friend to predict what the new program will print.<span class="intersentencespace"></span> Was he right?<span class="intersentencespace"></span></p>

</div><p>You will often see this used for counting:</p>
<div class="codelisting" id="code-counting" data-tralics-id="uid15" data-number="2.5"><div class="heading"><span class="number">Program 2.5:</span> <span class="description">Counting</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid16" data-number="2.4"><div class="heading"><span class="number">Exercise 2.4.</span> 

<span class="description"></span></div>
<p class="noindent">What is the total count of <a href="#code-counting" class="hyperref">Program <span class="ref">2.5</span></a> ?<span class="intersentencespace"></span></p>

</div><p>See <a href="#code-shortcuts" class="hyperref">Program <span class="ref">2.18</span></a> for a quicker way of writing this.</p>
</div>
<div id="cid13" data-tralics-id="cid13" class="section" data-number="2.4"><h2><a href="#cid13" class="heading hyperref"><span class="number">2.4 </span>Input</a></h2>
<p class="noindent"><a href="#code-fruits" class="hyperref">Program <span class="ref">2.2</span></a> is not very useful if the number of apples changes.<span class="intersentencespace"></span> This would require the <em>programmer</em> to change the program.<span class="intersentencespace"></span> We can improve it by allowing the <em>user</em> of the program
to change the numbers.<span class="intersentencespace"></span> The <code>input()</code> function allows the user to type a string which can be different every time the program is run.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
</pre></div></div>
<p>Sometimes we want the user to type in a number rather than a string.<span class="intersentencespace"></span> We can combine the <code>int()</code> function with the <code>input()</code> function to convert the string to a number.</p>
<div class="codelisting" id="code-input3" data-tralics-id="uid17" data-number="2.6"><div class="heading"><span class="number">Program 2.6:</span> <span class="description">Getting input from user</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Enter a number"</span><span class="p">)</span>
<span class="n">my_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Double your number is"</span><span class="p">,</span> <span class="n">my_number</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid18" data-number="2.5"><div class="heading"><span class="number">Exercise 2.5.</span> 

<span class="description"></span></div>
<p class="noindent">Copy <a href="#code-fruits" class="hyperref">Program <span class="ref">2.2</span></a> but use <code>input()</code> to ask the user to enter the number of apples and pears.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid14" data-tralics-id="cid14" class="section" data-number="2.5"><h2><a href="#cid14" class="heading hyperref"><span class="number">2.5 </span>Booleans</a></h2>
<p class="noindent">A <em>boolean</em> is another type of variable that is not a string or a number.<span class="intersentencespace"></span> It can have only two possible values: <code>True</code> or <code>False</code>.<span class="intersentencespace"></span> In some
languages and in electronics you may see these represented as <code>0</code> and <code>1</code>.</p>
<p>Booleans are used by keywords such as <code>if</code> and <code>while</code>.<span class="intersentencespace"></span> In an <code>if</code> statement, the indented code block is only run if the boolean is
<code>True</code>.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">sunny</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">if</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Let's go to the park"</span><span class="p">)</span>
</pre></div></div>
<p>You could write it like this:
</p><div class="code"><div class="highlight"><pre><span></span><span class="n">sunny</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">if</span> <span class="n">sunny</span><span class="o">==</span><span class="bp">True</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Let's go to the park"</span><span class="p">)</span>
</pre></div></div>
<p>but that would be redundant because <code>if</code> always tests if the boolean is <code>True</code>.</p>
<p>If the boolean is not true, and if you write an <code>else</code> clause, the indented code block under <code>else</code> is run instead.<span class="intersentencespace"></span> </p><div class="code"><div class="highlight"><pre><span></span><span class="n">sunny</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">if</span> <span class="n">sunny</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Let's go to the park"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"We must stay at home"</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="cid15" data-tralics-id="cid15" class="section" data-number="2.6"><h2><a href="#cid15" class="heading hyperref"><span class="number">2.6 </span>Comparison operators</a></h2>
<p class="noindent">Comparison operators take two numbers, strings or other variables, compare them, and then return a <em>boolean</em> <code>True</code> or <code>False</code> from them.</p>
<table class="tabular"><tr class="top_border bottom_border"><td class="left_border align_left right_border">Operator</td>
<td class="align_left right_border">Symbol</td>
</tr><tr><td class="left_border align_left right_border">Equal</td>
<td class="align_left right_border">==</td>
</tr><tr><td class="left_border align_left right_border">Not equal</td>
<td class="align_left right_border">!=</td>
</tr><tr><td class="left_border align_left right_border">Less than</td>
<td class="align_left right_border">&lt;</td>
</tr><tr><td class="left_border align_left right_border">Less than or equal</td>
<td class="align_left right_border">&lt;=</td>
</tr><tr><td class="left_border align_left right_border">Greater than</td>
<td class="align_left right_border">&gt;</td>
</tr><tr class="bottom_border"><td class="left_border align_left right_border">Greater than or equal</td>
<td class="align_left right_border">&gt;=</td>
</tr></table>
<div class="codelisting" id="code-logic2" data-tralics-id="uid19" data-number="2.7"><div class="heading"><span class="number">Program 2.7:</span> <span class="description">Comparisons: greater than, lesser than, equal to</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="mi">7</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"7 is less than 9"</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is equal to b"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is less than b"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is greater than b"</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid16" data-tralics-id="cid16" class="section" data-number="2.7"><h2><a href="#cid16" class="heading hyperref"><span class="number">2.7 </span>Boolean logic</a></h2>
<p class="noindent">The <code>and</code>, <code>or</code> and <code>not</code> operators operate on booleans and return new boolean values.</p>
<div class="codelisting" id="code-logic" data-tralics-id="uid20" data-number="2.8"><div class="heading"><span class="number">Program 2.8:</span> <span class="description">Boolean operators</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">b</span> <span class="o">=</span> <span class="bp">False</span>

<span class="k">if</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a is true"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="ow">and</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"a and b are both true"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span> <span class="ow">or</span> <span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"either a or b is true"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid21" data-number="2.6"><div class="heading"><span class="number">Exercise 2.6.</span> 

<span class="description"></span></div>
<p class="noindent">Change the values of <code>a</code> and <code>b</code> in Progam <a href="#code-logic" class="hyperref"><span class="ref">2.8</span></a> and see what output is printed by different combinations of <code>True</code> and <code>False</code>.<span class="intersentencespace"></span></p>

</div>
<div id="uid22" data-tralics-id="uid22" class="subsection" data-number="2.7.1"><h3><a href="#uid22" class="heading hyperref"><span class="number">2.7.1 </span>Or</a></h3>
<p class="noindent">Only people older than 12 or taller than 150cm are allowed to ride the rollercoaster.<span class="intersentencespace"></span> This program checks whether people are allowed to ride.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"How old are you?"</span><span class="p">)</span>
<span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"How tall are you?"</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"You can ride"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"You can ride"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"YOU MAY NOT RIDE, GO AWAY!"</span><span class="p">)</span>
</pre></div></div>
<p>Boolean operators combine two truth values together.<span class="intersentencespace"></span> The <code>or</code> operator is <code>True</code> if either of its operands is true.<span class="intersentencespace"></span> Try this example:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">b</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">or</span> <span class="n">b</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid23" data-number="2.7"><div class="heading"><span class="number">Exercise 2.7.</span> 

<span class="description"></span></div>
<p class="noindent">Use the <code>or</code> operator to make the rollercoaster program shorter by combining the two tests into one test.<span class="intersentencespace"></span></p>

</div><p>A possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"How old are you?"</span><span class="p">)</span>
<span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"How tall are you?"</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">12</span> <span class="ow">or</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"You can ride"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"YOU MAY NOT RIDE, GO AWAY!"</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="uid24" data-tralics-id="uid24" class="subsection" data-number="2.7.2"><h3><a href="#uid24" class="heading hyperref"><span class="number">2.7.2 </span>And</a></h3>
<p class="noindent">The <code>and</code> operator is <code>True</code> if both of its operands is true.<span class="intersentencespace"></span> Try this example:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">b</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">and</span> <span class="n">b</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid25" data-number="2.8"><div class="heading"><span class="number">Exercise 2.8.</span> 

<span class="description"></span></div>
<p class="noindent">The rollercoaster is only allowed to run on days when the temperature is less than 30 degrees.<span class="intersentencespace"></span> Extend the program to ask the temperature and use the <code>and</code> operator to only allow riding when less than 30 degrees.<span class="intersentencespace"></span></p>

</div><p>A possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"How old are you?"</span><span class="p">)</span>
<span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"How tall are you?"</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"What is the temperature?"</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">12</span> <span class="ow">or</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">)</span> <span class="ow">and</span> <span class="n">temp</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"You can ride"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"YOU MAY NOT RIDE, GO AWAY!"</span><span class="p">)</span>
</pre></div></div>
<p>Note that we have put brackets around the <code>or</code> expression.<span class="intersentencespace"></span> This ensures it is calculated first and the result of that calculation
is then used in the <code>and</code> expression.<span class="intersentencespace"></span> This is the same way you use the BODMAS rule to decide the order of operations in maths.</p>
</div>
<div id="uid26" data-tralics-id="uid26" class="subsection" data-number="2.7.3"><h3><a href="#uid26" class="heading hyperref"><span class="number">2.7.3 </span>Not</a></h3>
<p class="noindent">The <code>not</code> operator is <code>True</code> if its operand is <code>False</code>.<span class="intersentencespace"></span> If its operand is <code>False</code> then it is <code>True</code>.<span class="intersentencespace"></span> Try this example:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">b</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">print</span><span class="p">(</span><span class="ow">not</span> <span class="n">a</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="ow">not</span> <span class="n">b</span><span class="p">)</span>
</pre></div></div>
<p>We can get a user input and convert it to a boolean like this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Is it raining? Y/N"</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">input</span><span class="p">()</span> <span class="o">==</span> <span class="s2">"Y"</span><span class="p">:</span>
    <span class="n">raining</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">raining</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid27" data-number="2.9"><div class="heading"><span class="number">Exercise 2.9.</span> 

<span class="description"></span></div>
<p class="noindent">Change the program so that you can only ride the rollercoaster if it is not raining.<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Is it raining? Y/N"</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">input</span><span class="p">()</span> <span class="o">==</span> <span class="s2">"Y"</span><span class="p">:</span>
    <span class="n">raining</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">raining</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"How old are you?"</span><span class="p">)</span>
<span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"How tall are you?"</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"What is the temperature?"</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="p">(</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">12</span> <span class="ow">or</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">)</span> <span class="ow">and</span> <span class="n">temp</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">raining</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"You can ride"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"YOU MAY NOT RIDE, GO AWAY!"</span><span class="p">)</span>
</pre></div></div>
</div></div>
<div id="cid17" data-tralics-id="cid17" class="section" data-number="2.8"><h2><a href="#cid17" class="heading hyperref"><span class="number">2.8 </span>For loops</a></h2>
<p class="noindent">A <code>for</code> loop repeats a block of code a number of times.<span class="intersentencespace"></span> A variable is created which we can use to find the current number within the loop.<span class="intersentencespace"></span> Here
the variable is called <code>x</code> but you can name it whatever you like.<span class="intersentencespace"></span> Run this program:</p>
<div class="code"><div class="highlight"><pre><span></span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div>
<p>You can also change the <em>step</em> of the loop.<span class="intersentencespace"></span> Run this program:</p>
<div class="code"><div class="highlight"><pre><span></span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div>
<div id="uid28" data-tralics-id="uid28" class="subsection" data-number="2.8.1"><h3><a href="#uid28" class="heading hyperref"><span class="number">2.8.1 </span>Nested loops</a></h3>
<p class="noindent">It is often useful to put one loop inside another loop.</p>
<div class="codelisting" id="code-for_loop" data-tralics-id="uid29" data-number="2.9"><div class="heading"><span class="number">Program 2.9:</span> <span class="description">Nested for loop</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s2">"times"</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="s2">"is"</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid30" data-number="2.10"><div class="heading"><span class="number">Exercise 2.10.</span> 

<span class="description"></span></div>
<p class="noindent">Write a program which prints out the 12 times table.<span class="intersentencespace"></span></p>

</div></div>
<div id="uid31" data-tralics-id="uid31" class="subsection" data-number="2.8.2"><h3><a href="#uid31" class="heading hyperref"><span class="number">2.8.2 </span>Incrementing a variable in a loop</a></h3>
<p class="noindent">A baker has three customers.<span class="intersentencespace"></span> He asks them each how many cakes they want
so he knows how many he must bake.<span class="intersentencespace"></span> He writes this program.</p>
<div class="code"><div class="highlight"><pre><span></span> <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
 <span class="k">print</span><span class="p">(</span><span class="s2">"Customer"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"how many cakes do you want?"</span><span class="p">)</span>
 <span class="n">cakes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
 <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">cakes</span>
 <span class="k">print</span><span class="p">(</span><span class="s2">"Customer"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"how many cakes do you want?"</span><span class="p">)</span>
 <span class="n">cakes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
 <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">cakes</span>
 <span class="k">print</span><span class="p">(</span><span class="s2">"Customer"</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"how many cakes do you want?"</span><span class="p">)</span>
 <span class="n">cakes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
 <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">cakes</span>
 <span class="k">print</span><span class="p">(</span><span class="s2">"I will bake"</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="s2">"cakes!"</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid32" data-number="2.11"><div class="heading"><span class="number">Exercise 2.11.</span> 

<span class="description"></span></div>
<p class="noindent">This program is longer than it needs to be.<span class="intersentencespace"></span> Write your own program that does the same thing using a <code>for</code> loop.<span class="intersentencespace"></span> It should be only 6 (or fewer) lines long.<span class="intersentencespace"></span></p>

</div><div class="codelisting" id="code-baker" data-tralics-id="uid33" data-number="2.10"><div class="heading"><span class="number">Program 2.10:</span> <span class="description">Possible solution to baker program exercise</span>


</div>

<div class="code"><div class="highlight"><pre><span></span> <span class="n">total</span><span class="o">=</span><span class="mi">0</span>
 <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="s2">"Customer"</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s2">"how many cakes do you want?"</span><span class="p">)</span>
     <span class="n">cakes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
     <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">cakes</span>
 <span class="k">print</span><span class="p">(</span><span class="s2">"I will bake"</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="s2">"cakes!"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid34" data-number="2.12"><div class="heading"><span class="number">Exercise 2.12.</span> 

<span class="description"></span></div>
<p class="noindent">The baker gets a fourth customer.<span class="intersentencespace"></span> Change <a href="#code-baker" class="hyperref">Program <span class="ref">2.10</span></a> so it works for 4 customers.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid35" data-number="2.13"><div class="heading"><span class="number">Exercise 2.13.</span> 

<span class="description"></span></div>
<p class="noindent">The baker has a different number of customers every day.<span class="intersentencespace"></span> Change the program so it
asks how many customers there are.<span class="intersentencespace"></span> Store the number typed by the user in a variable
called <code>c</code>.<span class="intersentencespace"></span> Change the loop so it works for <code>c</code> customers rather than 4 customers.<span class="intersentencespace"></span></p>

</div><div class="codelisting" id="code-baker2" data-tralics-id="uid36" data-number="2.11"><div class="heading"><span class="number">Program 2.11:</span> <span class="description">Possible solution to variable number of customers exercise</span>


</div>

<div class="code"><div class="highlight"><pre><span></span> <span class="k">print</span><span class="p">(</span><span class="s2">"How many customers are there today?"</span><span class="p">)</span>
 <span class="n">c</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
 <span class="n">total</span><span class="o">=</span><span class="mi">0</span>
 <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="s2">"Customer"</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s2">"how many cakes do you want?"</span><span class="p">)</span>
     <span class="n">cakes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
     <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">cakes</span>
 <span class="k">print</span><span class="p">(</span><span class="s2">"I will bake"</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="s2">"cakes!"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid37" data-number="2.14"><div class="heading"><span class="number">Exercise 2.14.</span> 

<span class="description"></span></div>
<p class="noindent">If a customer orders 12 cakes, he gets an extra cake for free.<span class="intersentencespace"></span> Use an <code>if</code> statement to check <code>cakes &gt; 12</code>.<span class="intersentencespace"></span> If so, add one more cake.<span class="intersentencespace"></span></p>

</div></div></div>
<div id="cid18" data-tralics-id="cid18" class="section" data-number="2.9"><h2><a href="#cid18" class="heading hyperref"><span class="number">2.9 </span>Array lists</a></h2>
<p class="noindent">Variables can be stored together in a <em>list</em>.<span class="intersentencespace"></span> Most languages call this an <em>array</em> so try to remember that word also.<sup id="cha-2_footnote-ref-1" class="footnote"><a href="#cha-2_footnote-1">1</a></sup></p>
<div class="codelisting" id="code-arrays" data-tralics-id="uid39" data-number="2.12"><div class="heading"><span class="number">Program 2.12:</span> <span class="description">Array lists</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># a is a list of integers</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">74</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>

<span class="c1"># b is a list of strings</span>

<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"hello"</span><span class="p">,</span> <span class="s2">"goodbye"</span><span class="p">]</span>

<span class="c1"># You can take a single element from the list.</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># You can use a for loop to print every element.</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></div></div>
<div id="uid40" data-tralics-id="uid40" class="subsection" data-number="2.9.1"><h3><a href="#uid40" class="heading hyperref"><span class="number">2.9.1 </span>Looping over lists</a></h3>
<p class="noindent">Rather than the user typing in data, your program might be supplied with data in a list.<span class="intersentencespace"></span> Here is a list of prices - a shopping list.<span class="intersentencespace"></span> Note we don’t use a currency symbol except when we print the price.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.49</span><span class="p">,</span> <span class="mf">9.99</span><span class="p">,</span> <span class="mf">2.50</span><span class="p">,</span> <span class="mf">20.00</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"item costs £"</span><span class="p">,</span> <span class="n">prices</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
</pre></div></div>
<p>In this program <code>x</code> is used an <em>index</em> for the array.<span class="intersentencespace"></span> Note that indices begin at <code>0</code> rather than <code>1</code>.<span class="intersentencespace"></span> If the array contains
4 elements then the final element will have index <code>3</code>, nor <code>4</code>.</p>
<p>However, <code>for</code> can directly give you all the array values without
the need for an index or to specify the size of the range:</p>
<div class="codelisting" id="code-shoppinglist" data-tralics-id="uid41" data-number="2.13"><div class="heading"><span class="number">Program 2.13:</span> <span class="description">A shopping list</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.49</span><span class="p">,</span> <span class="mf">9.99</span><span class="p">,</span> <span class="mf">2.50</span><span class="p">,</span> <span class="mf">20.00</span><span class="p">]</span>
<span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"item costs £"</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid42" data-number="2.15"><div class="heading"><span class="number">Exercise 2.15.</span> 

<span class="description"></span></div>
<p class="noindent">Change the <a href="#code-shoppinglist" class="hyperref">Program <span class="ref">2.13</span></a> so that it prints the total price of all the items added together.<span class="intersentencespace"></span></p>

</div><div class="codelisting" id="code-shoppinglist2" data-tralics-id="uid43" data-number="2.14"><div class="heading"><span class="number">Program 2.14:</span> <span class="description">Possible way of calculating the total cost of shopping list</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.49</span><span class="p">,</span> <span class="mf">9.99</span><span class="p">,</span> <span class="mf">2.50</span><span class="p">,</span> <span class="mf">20.00</span><span class="p">]</span>
<span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"item costs £"</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">price</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"shopping total"</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
</pre></div></div></div><p>There is a problem with solution, can you see what it is when you run it?</p>
<p>The problem is that we are using <em>floating point</em> numbers for the prices and floating point maths in the computer is not entirely accurate, so the answer will be very slightly wrong.<span class="intersentencespace"></span> One way to fix this is to round the result to two decimal places using the <code>round()</code> function:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"shopping total"</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">total</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div></div>
<p>This works for a short list, but if the list was millions of items long it might not give the right result.<span class="intersentencespace"></span> Can you think of a better way?</p>
<p>Instead of storing the number of pounds, store the the number of pennies.<span class="intersentencespace"></span> Britain no longer has a half-penny, so the numbers will always be whole numbers - <em>integers</em> - and
no floating points will be needed for the addition.</p>
<div class="codelisting" id="code-shoppinglist3" data-tralics-id="uid44" data-number="2.15"><div class="heading"><span class="number">Program 2.15:</span> <span class="description">Better way of calculating the total cost of shopping list</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">349</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">2000</span><span class="p">]</span>
<span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"item costs £"</span><span class="p">,</span> <span class="n">price</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">price</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"shopping total"</span><span class="p">,</span> <span class="n">total</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid45" data-number="2.16"><div class="heading"><span class="number">Exercise 2.16.</span> 

<span class="description"></span></div>
<p class="noindent">Conditional discount.<span class="intersentencespace"></span> Any item that costs more than £10 will be discounted by 20 percent.<span class="intersentencespace"></span> Use an <code>if</code> statement to check if the price is more than 1000 pennies.<span class="intersentencespace"></span> If it is, multiply the price by 0.8 to reduce it before you add it to the total.<span class="intersentencespace"></span></p>

</div><div class="codelisting" id="code-shoppinglist4" data-tralics-id="uid46" data-number="2.16"><div class="heading"><span class="number">Program 2.16:</span> <span class="description">Possible way of discounting shopping list</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">349</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">2000</span><span class="p">]</span>
<span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"item costs £"</span><span class="p">,</span> <span class="n">price</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">price</span> <span class="o">*</span> <span class="mf">0.8</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"  item discounted to"</span><span class="p">,</span> <span class="n">price</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">price</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"shopping total"</span><span class="p">,</span> <span class="n">total</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</pre></div></div></div></div></div>
<div id="cid19" data-tralics-id="cid19" class="section" data-number="2.10"><h2><a href="#cid19" class="heading hyperref"><span class="number">2.10 </span>Functions</a></h2>
<p class="noindent">You may have seen specially named functions that are called by Pygame: <code>draw()</code> and <code>update()</code>.<span class="intersentencespace"></span> However, you can define a function named whatever you like and call it yourself.</p>
<p>Functions are useful for many reasons.<span class="intersentencespace"></span> The simplest is that they make your program look more organized.<span class="intersentencespace"></span> They also enable you re-use code without
needing to copy it and risk making mistakes.<span class="intersentencespace"></span> When your programs get longer they enable you to create <em>abstractions</em> so you only have to think about
what function you want to call and don’t need to remember the details of the code inside the function.</p>
<div class="codelisting" id="code-functions" data-tralics-id="uid47" data-number="2.17"><div class="heading"><span class="number">Program 2.17:</span> <span class="description">Functions</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"This is my function"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Imagine there was lots of code here"</span>
          <span class="s2">" that you didnt want to type 3 times"</span><span class="p">)</span>


<span class="n">my_func</span><span class="p">()</span>
<span class="n">my_func</span><span class="p">()</span>
<span class="n">my_func</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid20" data-tralics-id="cid20" class="section" data-number="2.11"><h2><a href="#cid20" class="heading hyperref"><span class="number">2.11 </span>Shortcuts</a></h2>
<p class="noindent">Here are quicker ways of doing basic things.<span class="intersentencespace"></span> You may have noticed some of these being used already.</p>
<div class="codelisting" id="code-shortcuts" data-tralics-id="uid48" data-number="2.18"><div class="heading"><span class="number">Program 2.18:</span> <span class="description">Shortcuts</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># f is an easy way to insert variables into strings</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">56</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">"Richard"</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">f</span><span class="s2">"{name} scored {score} points"</span>
<span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="c1"># += is an easy way to increase the value of a variable</span>
<span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">10</span>  <span class="c1"># hard way</span>
<span class="n">score</span> <span class="o">+=</span> <span class="mi">10</span>         <span class="c1"># easy way</span>
<span class="k">print</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>

<span class="c1"># double / means whole number division, no decimals</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">76</span> <span class="o">//</span> <span class="mi">10</span>
<span class="c1"># MODULO is the percent sign %. It means do division and take the remainder.</span>
<span class="n">remainder</span> <span class="o">=</span> <span class="mi">76</span> <span class="o">%</span> <span class="mi">10</span>
<span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"76 divided by 10 is {x} and the remainder is {remainder}"</span><span class="p">)</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">502</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">502</span>
<span class="c1"># Modulo is often used as a shortcut to reset a number back</span>
<span class="c1"># to zero if it gets too big.  So instead of:</span>
<span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">WIDTH</span>
<span class="c1"># You could simply do:</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">%</span> <span class="n">WIDTH</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

<span class="c1"># input() takes a string argument which it prints out.</span>
<span class="c1"># Instead of:</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Enter a number"</span><span class="p">)</span>
<span class="n">num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="c1"># You can have a single line:</span>
<span class="n">num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter a number"</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid21" data-tralics-id="cid21" class="section" data-number="2.12"><h2><a href="#cid21" class="heading hyperref"><span class="number">2.12 </span>Indentation</a></h2>
<p class="noindent">Code is arranged in <em>blocks</em>.<span class="intersentencespace"></span> For example, a <em>function</em> consists of a one line declaration followed by a block of several lines of code.<span class="intersentencespace"></span> Similarly, all the lines
of a loop form one block.<span class="intersentencespace"></span> A <em>conditional</em> has a block of code following the <code>if</code> statement (and optionally blocks after the <code>elif</code> and <code>else</code>.<span class="intersentencespace"></span> )</p>
<p>Many languages use <code>{}</code> or <code>()</code> to delimit a block.<span class="intersentencespace"></span> However Python is unusual: each block begins with <code>:</code> and then all the lines of the block
are <em>indented</em> by the same amount of whitespace (tabs or spaces).<span class="intersentencespace"></span> The block ends when the indentation ends.</p>
<p>Blocks can be <em>nested</em> inside other blocks.</p>
<div class="codelisting" id="code-blocks" data-tralics-id="uid49" data-number="2.19"><div class="heading"><span class="number">Program 2.19:</span> <span class="description">Can you predict what this program will print?</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"entering function block"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"entering for loop block"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">"in if block"</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"leaving for loop block"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"leaving function block"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"not in any block"</span><span class="p">)</span>
<span class="n">test</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid22" data-tralics-id="cid22" class="section" data-number="2.13"><h2><a href="#cid22" class="heading hyperref"><span class="number">2.13 </span>Global variables</a></h2>
<p class="noindent">A variable defined inside a function has <em>local scope</em>: it cannot be used outside of the function.<span class="intersentencespace"></span> If you want to use the same
variable in different functions then you must define it outside the functions, in the <em>global scope</em>.<span class="intersentencespace"></span> However, if you attempt to
modify the value of the global variable inside a function you will get an error, or - even worse - you will create a local variable with the same name as the global variable
and your changes to the global variable will be silently lost.</p>
<p>You must explicitly tell Python that you
want to use a global variable with the <code>global</code> keyword.</p>
<div class="codelisting" id="code-globals" data-tralics-id="uid50" data-number="2.20"><div class="heading"><span class="number">Program 2.20:</span> <span class="description">Try removing line 3 and see what happens</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">a</span>
    <span class="n">a</span><span class="o">=</span><span class="mi">20</span>
<span class="n">my_function</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid23" data-tralics-id="cid23" class="section" data-number="2.14"><h2><a href="#cid23" class="heading hyperref"><span class="number">2.14 </span>Dictionaries</a></h2>
<p class="noindent">A dictionary (called a <em>HashMap</em> in some languages) stores pairs of values.<span class="intersentencespace"></span> You can use the first value to look-up the second,
just like how you look-up a word in a dictionary to find its meaning.<span class="intersentencespace"></span> Here is a dictionary of the ages of my friends:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"What is your name?"</span><span class="p">)</span>
<span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="n">age</span> <span class="o">=</span> <span class="n">friends</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Your age is"</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid51" data-number="2.17"><div class="heading"><span class="number">Exercise 2.17.</span> 

<span class="description"></span></div>
<p class="noindent">Change the program so it contains 5 of your friends’ ages.<span class="intersentencespace"></span></p>

</div>
<div id="uid52" data-tralics-id="uid52" class="subsection" data-number="2.14.1"><h3><a href="#uid52" class="heading hyperref"><span class="number">2.14.1 </span>Counting</a></h3>
<p class="noindent">Here is a loop that prints out all the ages:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s2">"is age"</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid53" data-number="2.18"><div class="heading"><span class="number">Exercise 2.18.</span> 

<span class="description"></span></div>
<p class="noindent">Can you add an <code>if</code> statement to only print the ages of friends older than 10?<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s2">"is age"</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid54" data-number="2.19"><div class="heading"><span class="number">Exercise 2.19.</span> 

<span class="description"></span></div>
<p class="noindent">Now add a <code>count</code> variable that counts how many of the friends are older than 10.<span class="intersentencespace"></span> Print the number at the end.<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"friends older than 10:"</span><span class="p">,</span><span class="n">count</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="uid55" data-tralics-id="uid55" class="subsection" data-number="2.14.2"><h3><a href="#uid55" class="heading hyperref"><span class="number">2.14.2 </span>Combining tests</a></h3>
<div class="aside" id="" data-tralics-id="uid56" data-number="2.20"><div class="heading"><span class="number">Exercise 2.20.</span> 

<span class="description"></span></div>
<p class="noindent">Use the <code>and</code> operator together with the <code>&lt;</code> and <code>&gt;</code> operators to only count friends between the ages of 11 to 13.<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="ow">and</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">14</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"friends age 11 to 13 :"</span><span class="p">,</span><span class="n">count</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="uid57" data-tralics-id="uid57" class="subsection" data-number="2.14.3"><h3><a href="#uid57" class="heading hyperref"><span class="number">2.14.3 </span>Finding</a></h3>
<p class="noindent">We make a variable <code>oldest</code> that will contain the oldest age in the list.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">oldest</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="n">oldest</span><span class="p">:</span>
        <span class="n">oldest</span> <span class="o">=</span> <span class="n">age</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"oldest age"</span><span class="p">,</span> <span class="n">oldest</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid58" data-number="2.21"><div class="heading"><span class="number">Exercise 2.21.</span> 

<span class="description"></span></div>
<p class="noindent">Make a variable <code>youngest</code> that will contain the youngest age in the list.<span class="intersentencespace"></span> Print the youngest at the end.<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">oldest</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">youngest</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="n">oldest</span><span class="p">:</span>
        <span class="n">oldest</span> <span class="o">=</span> <span class="n">age</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="n">youngest</span><span class="p">:</span>
        <span class="n">youngest</span> <span class="o">=</span> <span class="n">age</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"oldest age"</span><span class="p">,</span> <span class="n">oldest</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"youngest age"</span><span class="p">,</span> <span class="n">youngest</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="uid59" data-tralics-id="uid59" class="subsection" data-number="2.14.4"><h3><a href="#uid59" class="heading hyperref"><span class="number">2.14.4 </span>Finding names</a></h3>
<div class="aside" id="" data-tralics-id="uid60" data-number="2.22"><div class="heading"><span class="number">Exercise 2.22.</span> 

<span class="description"></span></div>
<p class="noindent">As well as the ages, print the names of the youngest and oldest friends.<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">oldest</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">youngest</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="n">oldest</span><span class="p">:</span>
        <span class="n">oldest</span> <span class="o">=</span> <span class="n">age</span>
        <span class="n">oldname</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="n">youngest</span><span class="p">:</span>
        <span class="n">youngest</span> <span class="o">=</span> <span class="n">age</span>
        <span class="n">youngname</span> <span class="o">=</span> <span class="n">name</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"oldest friend"</span><span class="p">,</span> <span class="n">oldname</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"youngest friend"</span><span class="p">,</span> <span class="n">youngname</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="uid61" data-tralics-id="uid61" class="subsection" data-number="2.14.5"><h3><a href="#uid61" class="heading hyperref"><span class="number">2.14.5 </span>Find the average</a></h3>
<div class="aside" id="" data-tralics-id="uid62" data-number="2.23"><div class="heading"><span class="number">Exercise 2.23.</span> 

<span class="description"></span></div>
<p class="noindent">Create a <code>total</code> variable.<span class="intersentencespace"></span> Add each age to the total.<span class="intersentencespace"></span> At the end, calculate the average by dividing the total by the number of friends.<span class="intersentencespace"></span></p>

</div><p>Possible solution:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">friends</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'richard'</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span> <span class="s1">'john'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'paul'</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="ow">in</span> <span class="n">friends</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">age</span>
<span class="n">average</span> <span class="o">=</span> <span class="n">total</span> <span class="o">/</span> <span class="mi">3</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"average age is "</span><span class="p">,</span> <span class="n">average</span><span class="p">)</span>
</pre></div></div>
</div></div>
<div id="cid24" data-tralics-id="cid24" class="section" data-number="2.15"><h2><a href="#cid24" class="heading hyperref"><span class="number">2.15 </span>Bugs</a></h2>
<p class="noindent">Fixing bugs can feel frustrating but all programmers must wrestle with them.<span class="intersentencespace"></span> The simplest (but still annoying!)<span class="intersentencespace"></span> are <em>syntax errors</em>.<span class="intersentencespace"></span> The computer is not very intelligent and is unable to guess what you mean, so you must type the programs in this book <strong>exactly</strong> as they appear.<span class="intersentencespace"></span> A single wrong letter or space will prevent them from working.</p>
<p>A particular issue in Python is that <em>indentation</em> must be correct.</p>
<div class="codelisting" id="code-bug1" data-tralics-id="uid63" data-number="2.21"><div class="heading"><span class="number">Program 2.21:</span> <span class="description">Buggy program</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
 <span class="n">y</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">12</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid64" data-number="2.24"><div class="heading"><span class="number">Exercise 2.24.</span> 

<span class="description"></span></div>
<p class="noindent">Can you spot and fix the bug in <a href="#code-bug1" class="hyperref">Program <span class="ref">2.21</span></a>?<span class="intersentencespace"></span></p>

</div><div class="codelisting" id="code-bug2" data-tralics-id="uid65" data-number="2.22"><div class="heading"><span class="number">Program 2.22:</span> <span class="description">More bugs</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">:</span>
    <span class="k">print</span> <span class="s2">"hello"</span>

<span class="n">myfunction</span><span class="p">()</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid66" data-number="2.25"><div class="heading"><span class="number">Exercise 2.25.</span> 

<span class="description"></span></div>
<p class="noindent"><a href="#code-bug2" class="hyperref">Program <span class="ref">2.22</span></a> has two bugs to fix.<span class="intersentencespace"></span></p>

</div></div>
<div id="cha-2_footnotes">
  <div class="footnotes">
    <div id="cha-2_footnote-1" class="footnote"><a class="footnote-link" href="#cha-2_footnote-ref-1">1.</a> There are other kinds of list that are not arrays but this need not concern the beginner.</div>
  </div>
</div><div id="cid25" data-tralics-id="cid25" class="chapter" data-number="3"><h1><a href="#cid25" class="heading hyperref"><span class="number">Chapter 3 </span>Text-based quiz games</a></h1>
<p class="noindent">These programs can be entered using any text editor, but I suggest using <a href="https://codewith.mu/" target="_blank" rel="noopener">the Mu editor</a>
because it comes with Python, Pygame Zero and other libraries all pre-installed in one easy download.</p>
</div>
<div id="cid26" data-tralics-id="cid26" class="section" data-number="3.1"><h2><a href="#cid26" class="heading hyperref"><span class="number">3.1 </span>Hello, world</a></h2>
<p class="noindent">The traditional first program used to make sure Python is working and that we can run programs.</p>
<div class="codelisting" id="code-hello" data-tralics-id="uid67" data-number="3.1"><div class="heading"><span class="number">Program 3.1:</span> <span class="description">Hello, world</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Hello world"</span><span class="p">)</span>

<span class="c1"># This line is a comment, you dont have to type these!</span>
</pre></div></div></div><p class="noindent">If using the Mu editor:</p>
<ol>
<li>Click the mode button and make sure the mode is set to <code>Python3</code>.<span class="intersentencespace"></span>
</li>
<li>Type in the program.<span class="intersentencespace"></span>
</li>
<li>Click <code>Save</code> and enter a name for the program.<span class="intersentencespace"></span>
</li>
<li>Click <code>Run</code>.<span class="intersentencespace"></span>
</li></ol>
</div>
<div id="cid27" data-tralics-id="cid27" class="section" data-number="3.2"><h2><a href="#cid27" class="heading hyperref"><span class="number">3.2 </span>Getting input from the keyboard</a></h2>
<p class="noindent">This program will pause and wait for you to enter some
text with the keyboard, followed by the return key.<span class="intersentencespace"></span> The text you enter
is stored in a variable, <code>x</code>.</p>
<div class="codelisting" id="code-input" data-tralics-id="uid72" data-number="3.2"><div class="heading"><span class="number">Program 3.2:</span> <span class="description">Getting input from the keyboard</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Enter your name:"</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">"richard"</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"That is a very cool name"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid73" data-number="3.1"><div class="heading"><span class="number">Exercise 3.1.</span> 

<span class="description"></span></div>
<p class="noindent">Add some names of your friends and display a different message for each friend.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid28" data-tralics-id="cid28" class="section" data-number="3.3"><h2><a href="#cid28" class="heading hyperref"><span class="number">3.3 </span>Making decisions: if, elif, else</a></h2>
<p class="noindent">This is how to add another name to <a href="#code-input" class="hyperref">Program <span class="ref">3.2</span></a></p>
<div class="codelisting" id="code-input2" data-tralics-id="uid74" data-number="3.3"><div class="heading"><span class="number">Program 3.3:</span> <span class="description">Decisions: if, elif, else</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Enter your name:"</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">"richard"</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"That is a very cool name"</span><span class="p">)</span>
<span class="hll"><span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">"nick"</span><span class="p">:</span>
</span><span class="hll">    <span class="k">print</span><span class="p">(</span><span class="s2">"That is a rubbish name"</span><span class="p">)</span>
</span><span class="hll"><span class="k">else</span><span class="p">:</span>
</span><span class="hll">    <span class="k">print</span><span class="p">(</span><span class="s2">"I do not know your name"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</span></pre></div></div></div><p class="noindent"><a href="#code-input2" class="hyperref">Program <span class="ref">3.3</span></a> is very similar to <a href="#code-input" class="hyperref">Program <span class="ref">3.2</span></a>.<span class="intersentencespace"></span> The new lines have been highlighted.<span class="intersentencespace"></span> You can either modify <a href="#code-input" class="hyperref">Program <span class="ref">3.2</span></a>, or else create
a new file and use copy and paste to copy the code from the old program into the new.</p>
</div>
<div id="cid29" data-tralics-id="cid29" class="section" data-number="3.4"><h2><a href="#cid29" class="heading hyperref"><span class="number">3.4 </span>A random maths question</a></h2>
<div class="codelisting" id="code-maths" data-tralics-id="uid75" data-number="3.4"><div class="heading"><span class="number">Program 3.4:</span> <span class="description">A random maths question</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"What is"</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="s2">"plus 7?"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>  <span class="c1"># Why do we use int() here?</span>
<span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">7</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Correct"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Wrong"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid76" data-number="3.2"><div class="heading"><span class="number">Exercise 3.2.</span> 

<span class="description"></span></div>
<p class="noindent">Add some more questions, e.g.</p>
<ul>
<li>Instead of 7, use another random number.<span class="intersentencespace"></span>
</li>
<li>Use a bigger random number.<span class="intersentencespace"></span>
</li>
<li>Multiply (use <code>*</code>), divide (use <code>/</code>) or subtract (use <code>-</code>) numbers.<span class="intersentencespace"></span>
</li></ul>

</div><div class="aside" id="" data-tralics-id="uid80" data-number="3.3"><div class="heading"><span class="number">Exercise 3.3.</span> 

<span class="description"></span></div>
<p class="noindent">Print how many questions the player got correct at the end.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid30" data-tralics-id="cid30" class="section" data-number="3.5"><h2><a href="#cid30" class="heading hyperref"><span class="number">3.5 </span>Keeping score</a></h2>
<p class="noindent">We create a <code>score</code> variable to record how many questions the player answered correctly.</p>
<div class="codelisting" id="code-maths2" data-tralics-id="uid81" data-number="3.5"><div class="heading"><span class="number">Program 3.5:</span> <span class="description">Keeping score</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"What is 1+1 ?"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Correct"</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"What is 35-25 ?"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Correct"</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"Your score:"</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid31" data-tralics-id="cid31" class="section" data-number="3.6"><h2><a href="#cid31" class="heading hyperref"><span class="number">3.6 </span>Guessing game with a loop</a></h2>
<p class="noindent">This <code>while</code> loop goes round and round forever … or until the player gets a correct
answer, and then it <code>break</code>s out of the loop.<span class="intersentencespace"></span> Note that everything in the loop is indented.</p>
<div class="codelisting" id="code-loop" data-tralics-id="uid82" data-number="3.6"><div class="heading"><span class="number">Program 3.6:</span> <span class="description">Guessing game with a loop</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"I am thinking of a number, can you guess what it is?"</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Wrong"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Correct!"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid83" data-number="3.4"><div class="heading"><span class="number">Exercise 3.4.</span> 

<span class="description"></span></div>
<p class="noindent">Give a hint to the player when they are wrong.<span class="intersentencespace"></span> Was their guess too high or too low?<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid84" data-number="3.5"><div class="heading"><span class="number">Exercise 3.5.</span> 

<span class="description"></span></div>
<p class="noindent">Print how many guesses they took to get it right at the end.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid32" data-tralics-id="cid32" class="section" data-number="3.7"><h2><a href="#cid32" class="heading hyperref"><span class="number">3.7 </span>Improved guessing game</a></h2>
<p class="noindent"><a href="#code-loop" class="hyperref">Program <span class="ref">3.6</span></a> with a hint whether the guess is greater or lesser than the answer.</p>
<div class="codelisting" id="code-loop2" data-tralics-id="uid85" data-number="3.7"><div class="heading"><span class="number">Program 3.7:</span> <span class="description">Improved guessing game</span>


.
</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">guesses</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">guesses</span> <span class="o">=</span> <span class="n">guesses</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"I am thinking of a number, can you guess what it is?"</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">g</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Too low"</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Too high"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Correct! You took"</span><span class="p">,</span> <span class="n">guesses</span><span class="p">,</span> <span class="s2">"guesses."</span><span class="p">)</span>
</pre></div></div></div></div>
<div id="cid33" data-tralics-id="cid33" class="chapter" data-number="4"><h1><a href="#cid33" class="heading hyperref"><span class="number">Chapter 4 </span>Drawing graphics</a></h1>
<p class="noindent">To create graphics for our games we will use <a href="https://pygame-zero.readthedocs.io" target="_blank" rel="noopener">the Pygame Zero library</a><sup id="cha-4_footnote-ref-1" class="footnote"><a href="#cha-4_footnote-1">1</a></sup>.<span class="intersentencespace"></span> You will find the documentation on the website useful!</p>
<p>The smallest square that can be displayed on a monitor is called a <em>pixel</em>.<span class="intersentencespace"></span> This diagram shows a close-up view
of a window that is 40 pixels wide and 40 pixels high.<span class="intersentencespace"></span> At normal size you will not see the grid lines.</p>
<div class="graphics image"><img src="images/figures/pixelgrid.png" alt="images/figures/pixelgrid" /></div>
<p>We can refer to any pixel by giving two co-ordinates, <em>(x,y)</em> Make sure you understand co-ordinates before moving on
because everything we do in Pygame Zero will use it.<span class="intersentencespace"></span> (In maths this called a ‘Cartesian coordinate system’).</p>
</div>
<div id="cid34" data-tralics-id="cid34" class="section" data-number="4.1"><h2><a href="#cid34" class="heading hyperref"><span class="number">4.1 </span>Lines and circles</a></h2>
<p class="noindent">If are using the Mu editor, Pygame Zero is built-in, but <strong>you must remember to click ‘Mode’ and select ‘Pygame Zero’ before running your program</strong>!</p>
<p>If you are using a different editor, <a href="https://pygame-zero.readthedocs.io/en/stable/ide-mode.html" target="_blank" rel="noopener">instructions are online</a><sup id="cha-4_footnote-ref-2" class="footnote"><a href="#cha-4_footnote-2">2</a></sup></p>
<div class="codelisting" id="code-lines_circles" data-tralics-id="uid88" data-number="4.1"><div class="heading"><span class="number">Program 4.1:</span> <span class="description">Lines and circles</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># What are these units? What if we change them?</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># What if we delete this line?</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"white"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">450</span><span class="p">),</span> <span class="s2">"purple"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">350</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="s2">"purple"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid89" data-number="4.1"><div class="heading"><span class="number">Exercise 4.1.</span> 

<span class="description"></span></div>
<p class="noindent">Finish drawing this picture</p>

</div><div class="aside" id="" data-tralics-id="uid90" data-number="4.2"><div class="heading"><span class="number">Exercise 4.2.</span> 

<span class="description"></span></div>
<p class="noindent">Draw your own picture.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid35" data-tralics-id="cid35" class="section" data-number="4.2"><h2><a href="#cid35" class="heading hyperref"><span class="number">4.2 </span>Moving rectangles</a></h2>
<p class="noindent">To make things move we need to add the special <code>update()</code> function.<span class="intersentencespace"></span> We don’t need to write our own loop because <em>Pygame Zero calls this function for us in its own loop</em>, over and over, many times per second.</p>
<div class="codelisting" id="code-moving_boxes" data-tralics-id="uid91" data-number="4.2"><div class="heading"><span class="number">Program 4.2:</span> <span class="description">Moving rectangles</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid92" data-number="4.3"><div class="heading"><span class="number">Exercise 4.3.</span> 

<span class="description"></span></div>
<p class="noindent">Make the box move faster.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid93" data-number="4.4"><div class="heading"><span class="number">Exercise 4.4.</span> 

<span class="description"></span></div>
<p class="noindent">Make the box move in different directions.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid94" data-number="4.5"><div class="heading"><span class="number">Exercise 4.5.</span> 

<span class="description"></span></div>
<p class="noindent">Make two boxes with different colours.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid36" data-tralics-id="cid36" class="section" data-number="4.3"><h2><a href="#cid36" class="heading hyperref"><span class="number">4.3 </span>Actor sprites</a></h2>
<p class="noindent">Actor sprites are very similar to boxes!<span class="intersentencespace"></span> Click <code>Images</code> to see the folder of image files available.<span class="intersentencespace"></span> <code>alien.png</code> should already be there, but
for other images you must add the files yourself.</p>
<p>You could use Microsoft Paint which comes with Windows but
I recommend you download and install <a href="https://krita.org" target="_blank" rel="noopener">Krita</a><sup id="cha-4_footnote-ref-3" class="footnote"><a href="#cha-4_footnote-3">3</a></sup>.</p>
<div class="codelisting" id="code-sprites" data-tralics-id="uid96" data-number="4.3"><div class="heading"><span class="number">Program 4.3:</span> <span class="description">Actor sprites</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">alien</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">50</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid97" data-number="4.6"><div class="heading"><span class="number">Exercise 4.6.</span> 

<span class="description"></span></div>
<p class="noindent">Draw or download your own image to use instead of alien.</p>

</div></div>
<div id="cid37" data-tralics-id="cid37" class="section" data-number="4.4"><h2><a href="#cid37" class="heading hyperref"><span class="number">4.4 </span>Background image</a></h2>
<p class="noindent">We are going to add a background image to <a href="#code-sprites" class="hyperref">Program <span class="ref">4.3</span></a></p>
<p>Click <code>Images</code> to see the folder of image files available.</p>
<p><strong>You must create or download a picture
to use a background.<span class="intersentencespace"></span> Save it as <code>background.png</code> in the directory <code>mu_code/images</code>.<span class="intersentencespace"></span> It should be the same size as the window, 500×500 pixels and it must be in <code>.png</code> format.</strong></p>
<div class="codelisting" id="code-background" data-tralics-id="uid98" data-number="4.4"><div class="heading"><span class="number">Program 4.4:</span> <span class="description">Background</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">alien</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">background</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'background'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid99" data-number="4.7"><div class="heading"><span class="number">Exercise 4.7.</span> 

<span class="description"></span></div>
<p class="noindent">Create a picture to use a background.<span class="intersentencespace"></span> Save it as <code>background.png</code>.<span class="intersentencespace"></span> Run the program.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid38" data-tralics-id="cid38" class="section" data-number="4.5"><h2><a href="#cid38" class="heading hyperref"><span class="number">4.5 </span>Keyboard input</a></h2>
<p class="noindent">The alien moves when you press the cursor keys.</p>
<div class="codelisting" id="code-keyboard_input" data-tralics-id="uid100" data-number="4.5"><div class="heading"><span class="number">Program 4.5:</span> <span class="description">Keyboard input</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
</pre></div></div></div><div class="aside" id="exercise-updown" data-tralics-id="uid101" data-number="4.8"><div class="heading"><span class="number">Exercise 4.8.</span> 

<span class="description"></span></div>
<p class="noindent">Make the alien move up and down as well as left and right.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid102" data-number="4.9"><div class="heading"><span class="number">Exercise 4.9.</span> 

<span class="description"></span></div>
<p class="noindent">Use the more concise += operator to change the <code>alien.x</code> value (see <a href="#code-shortcuts" class="hyperref">Program <span class="ref">2.18</span></a>).<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid103" data-number="4.10"><div class="heading"><span class="number">Exercise 4.10.</span> 

<span class="description"></span></div>
<p class="noindent">Use the <code>or</code> operator to allow WASD keys to move the alien in addition to the cursor keys (see <a href="#code-logic" class="hyperref">Program <span class="ref">2.8</span></a>).<span class="intersentencespace"></span></p>

</div></div>
<div id="cha-4_footnotes">
  <div class="footnotes">
    <div id="cha-4_footnote-1" class="footnote"><a class="footnote-link" href="#cha-4_footnote-ref-1">1.</a> https://pygame-zero.readthedocs.io</div>
    <div id="cha-4_footnote-2" class="footnote"><a class="footnote-link" href="#cha-4_footnote-ref-2">2.</a> https://pygame-zero.readthedocs.io/en/stable/ide-mode.html</div>
    <div id="cha-4_footnote-3" class="footnote"><a class="footnote-link" href="#cha-4_footnote-ref-3">3.</a> https://krita.org</div>
  </div>
</div><div id="cid39" data-tralics-id="cid39" class="chapter" data-number="5"><h1><a href="#cid39" class="heading hyperref"><span class="number">Chapter 5 </span>Arcade games</a></h1>
</div>
<div id="cid40" data-tralics-id="cid40" class="section" data-number="5.1"><h2><a href="#cid40" class="heading hyperref"><span class="number">5.1 </span>Collisions</a></h2>
<p class="noindent">Arcade games need to know when one Actor sprite has hit another Actor sprite.<span class="intersentencespace"></span> Most of this code is copied from <a href="#code-moving_boxes" class="hyperref">Program <span class="ref">4.2</span></a> and <a href="#code-keyboard_input" class="hyperref">Program <span class="ref">4.5</span></a>.</p>
<div class="codelisting" id="code-collisions" data-tralics-id="uid104" data-number="5.1"><div class="heading"><span class="number">Program 5.1:</span> <span class="description">Collisions</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"hit"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid105" data-number="5.1"><div class="heading"><span class="number">Exercise 5.1.</span> 

<span class="description"></span></div>
<p class="noindent">Add vertical movement (as you did in <a href="#exercise-updown" class="hyperref">Exercise <span class="ref">4.8</span></a>).<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid106" data-number="5.2"><div class="heading"><span class="number">Exercise 5.2.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Make the box chase the alien.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid107" data-number="5.3"><div class="heading"><span class="number">Exercise 5.3.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Print number of times the box hits the alien (i.e.<span class="intersentencespace"></span> the score).<span class="intersentencespace"></span></p>

</div></div>
<div id="cid41" data-tralics-id="cid41" class="section" data-number="5.2"><h2><a href="#cid41" class="heading hyperref"><span class="number">5.2 </span>Chase</a></h2>
<p class="noindent">Instead of moving constantly to the right we can make the movement conditional with an <code>if</code> statement so the box chases the alien.<span class="intersentencespace"></span> Most of this code is copied from <a href="#code-collisions" class="hyperref">Program <span class="ref">5.1</span></a>.<span class="intersentencespace"></span> New lines are highlighted.<span class="intersentencespace"></span> We have also changed what happens when the box
catches the alien: the program now exits and you must run it again to play again.<span class="intersentencespace"></span> This may not be what you want in your game!</p>
<div class="codelisting" id="code-chase" data-tralics-id="uid108" data-number="5.2"><div class="heading"><span class="number">Program 5.2:</span> <span class="description">Alien chase</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
<span class="hll">    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
</span><span class="hll">        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
</span><span class="hll">        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
</span><span class="hll">        <span class="nb">exit</span><span class="p">()</span>
</span></pre></div></div></div><div class="aside" id="" data-tralics-id="uid109" data-number="5.4"><div class="heading"><span class="number">Exercise 5.4.</span> 

<span class="description"></span></div>
<p class="noindent">Add vertical movement (as you did in <a href="#exercise-updown" class="hyperref">Exercise <span class="ref">4.8</span></a>).<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid110" data-number="5.5"><div class="heading"><span class="number">Exercise 5.5.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Draw a new enemy image.<span class="intersentencespace"></span> Save it as <code>enemy.png</code> in your <code>mu_code/images</code> folder.<span class="intersentencespace"></span> Load it as an <code>Actor('enemy')</code> instead of the <code>Rect()</code>.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid42" data-tralics-id="cid42" class="section" data-number="5.3"><h2><a href="#cid42" class="heading hyperref"><span class="number">5.3 </span>Powerup</a></h2>
<p class="noindent">Instead of an enemy the box here is a powerup that the player must collect.<span class="intersentencespace"></span> When he does it disappears and moves to a new location.</p>
<div class="codelisting" id="code-powerup" data-tralics-id="uid111" data-number="5.3"><div class="heading"><span class="number">Program 5.3:</span> <span class="description">Collect the powerups</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"green"</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">)</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Score:"</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid112" data-number="5.6"><div class="heading"><span class="number">Exercise 5.6.</span> 

<span class="description"></span></div>
<p class="noindent">Add vertical movement (as you did in <a href="#exercise-updown" class="hyperref">Exercise <span class="ref">4.8</span></a>).<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid113" data-number="5.7"><div class="heading"><span class="number">Exercise 5.7.</span> 

<span class="description"></span></div>
<p class="noindent">Draw a new powerup image.<span class="intersentencespace"></span> Save it as <code>powerup.png</code> in your <code>mu_code/images</code> folder.<span class="intersentencespace"></span> Load it as an <code>Actor('powerup')</code> instead of the <code>Rect()</code>.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid114" data-number="5.8"><div class="heading"><span class="number">Exercise 5.8.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Combine this program with the enemy from <a href="#code-chase" class="hyperref">Program <span class="ref">5.2</span></a> and the background from <a href="#code-background" class="hyperref">Program <span class="ref">4.4</span></a> and whatever else you want to make your own game.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid43" data-tralics-id="cid43" class="section" data-number="5.4"><h2><a href="#cid43" class="heading hyperref"><span class="number">5.4 </span>Sound and animation</a></h2>
<p class="noindent">Pygame Zero comes with one other image <code>alien_hurt.png</code> and one sound <code>eep.wav</code>.<span class="intersentencespace"></span> If you want more you will have to add them to the <code>sounds</code> and <code>images</code> folders.</p>
<p>Most of this code is copied from <a href="#code-collisions" class="hyperref">Program <span class="ref">5.1</span></a></p>
<div class="codelisting" id="code-collisions2_sound_animation" data-tralics-id="uid115" data-number="5.4"><div class="heading"><span class="number">Program 5.4:</span> <span class="description">Sound and animation upon collision</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># PLAY SOUND AND SHOW IMAGE WHEN HIT</span>
    <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
<span class="hll">        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien_hurt'</span>
</span><span class="hll">        <span class="n">sounds</span><span class="o">.</span><span class="n">eep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien'</span>
</span></pre></div></div></div><div class="aside" id="" data-tralics-id="uid116" data-number="5.9"><div class="heading"><span class="number">Exercise 5.9.</span> 

<span class="description"></span></div>
<p class="noindent">Record your own sound effect and add it to the game.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid117" data-number="5.10"><div class="heading"><span class="number">Exercise 5.10.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add more boxes or sprites that move in different ways for the player to avoid.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid118" data-number="5.11"><div class="heading"><span class="number">Exercise 5.11.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add a second alien controlled by different keys or gamepad for player 2.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid44" data-tralics-id="cid44" class="section" data-number="5.5"><h2><a href="#cid44" class="heading hyperref"><span class="number">5.5 </span>Mouse clicks</a></h2>
<p class="noindent">This uses a <em>function call-back</em> for event-based input.<span class="intersentencespace"></span> It is similiar to <a href="#code-collisions2_sound_animation" class="hyperref">Program <span class="ref">5.4</span></a> but:</p>
<ul>
<li>The box has been removed.<span class="intersentencespace"></span>
</li>
<li>There is an <code>on_mouse_down()</code> special function that is called automatically when the player click the mouse.<span class="intersentencespace"></span>
</li>
<li>The score is displayed.<span class="intersentencespace"></span>
</li></ul>
<p>See <a href="#code-functions" class="hyperref">Program <span class="ref">2.17</span></a> for more about functions.</p>
<div class="codelisting" id="code-mouse_input" data-tralics-id="uid122" data-number="5.5"><div class="heading"><span class="number">Program 5.5:</span> <span class="description">Getting input from mouse clicks</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Score "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien'</span>

<span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">button</span> <span class="o">==</span> <span class="n">mouse</span><span class="o">.</span><span class="n">LEFT</span> <span class="ow">and</span> <span class="n">alien</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">'alien_hurt'</span>
        <span class="n">sounds</span><span class="o">.</span><span class="n">eep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div></div></div></div>
<div id="cid45" data-tralics-id="cid45" class="section" data-number="5.6"><h2><a href="#cid45" class="heading hyperref"><span class="number">5.6 </span>Mouse movement</a></h2>
<div class="codelisting" id="code-mouse_movement" data-tralics-id="uid123" data-number="5.6"><div class="heading"><span class="number">Program 5.6:</span> <span class="description">Getting input from mouse movement</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># wiggle your mouse around the screen!</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">on_mouse_move</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid124" data-number="5.12"><div class="heading"><span class="number">Exercise 5.12.</span> 

<span class="description"></span></div>
<p class="noindent">What happens if you delete line 8 and replace it with this:
</p><div class="code"><div class="highlight"><pre><span></span>     <span class="n">animate</span><span class="p">(</span><span class="n">alien</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tween</span><span class="o">=</span><span class="s1">'bounce_end'</span><span class="p">)</span>
</pre></div></div>

</div><div class="aside" id="" data-tralics-id="uid125" data-number="5.13"><div class="heading"><span class="number">Exercise 5.13.</span> 

<span class="description"></span></div>
<p class="noindent">What happens if you change <code>on_mouse_move</code> to <code>on_mouse_down</code>?<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid126" data-number="5.14"><div class="heading"><span class="number">Exercise 5.14.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Make a game with one alien controlled by mouse and another controlled by keyboard</p>

</div></div>
<div id="cid46" data-tralics-id="cid46" class="chapter" data-number="6"><h1><a href="#cid46" class="heading hyperref"><span class="number">Chapter 6 </span>Improving your games</a></h1>
<p class="noindent">Here are some tips that will enable you to enhance your games.</p>
</div>
<div id="cid47" data-tralics-id="cid47" class="section" data-number="6.1"><h2><a href="#cid47" class="heading hyperref"><span class="number">6.1 </span>Joystick input</a></h2>
<p class="noindent">You may call them <em>gamepads</em> or <em>controllers</em>, but Pygame calls them <em>joysticks</em>.</p>
<p>Some controllers have different inputs and some are not compatible at all so don’t be surprised if this doesnt work properly!<span class="intersentencespace"></span> PS4 and Xbox One controllers connected by USB cable seems to work best.<span class="intersentencespace"></span> Use <a href="#code-joystick_tester" class="hyperref">Program <span class="ref">12.3</span></a> to test yours and find out what inputs it has.<span class="intersentencespace"></span> Note: if you run this program with no controller plugged in you will get an error.</p>
<div class="codelisting" id="code-joystick_input" data-tralics-id="uid127" data-number="6.1"><div class="heading"><span class="number">Program 6.1:</span> <span class="description">Joystick input</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">joystick</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">Joystick</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">joystick</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span> <span class="ow">or</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span> <span class="ow">or</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid128" data-number="6.1"><div class="heading"><span class="number">Exercise 6.1.</span> 

<span class="description">Optional, if you have a controller</span></div>
<p class="noindent">Make the alien move up and down as well as left and right using the controller.<span class="intersentencespace"></span> Do the same for any other examples that use the keyboard!<span class="intersentencespace"></span></p>

</div></div>
<div id="cid48" data-tralics-id="cid48" class="section" data-number="6.2"><h2><a href="#cid48" class="heading hyperref"><span class="number">6.2 </span>Colours</a></h2>
<p class="noindent">Note that sometimes <em>colour</em> is spelt <em>color</em> in American programs.</p>
<p>Instead of using ready made colours like ‘red’, ‘yellow’, etc.<span class="intersentencespace"></span> you can create your
own color with a <em>tuple</em> of three numbers.<span class="intersentencespace"></span> The numbers must be between 0 - 255 and represent
how much <em>red</em>, <em>green</em> and <em>blue</em> to mix together.</p>
<div class="codelisting" id="code-colours" data-tralics-id="uid129" data-number="6.2"><div class="heading"><span class="number">Program 6.2:</span> <span class="description">RGB colours</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="c1"># my_colour = (0,0,0) # makes black</span>
<span class="c1"># my_colour = (255,255,255) # makes white</span>

<span class="n">red_amount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">green_amount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">blue_amount</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">my_colour</span> <span class="o">=</span> <span class="p">(</span><span class="n">red_amount</span><span class="p">,</span> <span class="n">green_amount</span><span class="p">,</span> <span class="n">blue_amount</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">my_colour</span><span class="p">)</span>

<span class="c1"># This function makes the colour change every frame</span>
<span class="c1"># Remove it if you just want to see a static colour.</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">red_amount</span>
    <span class="n">red_amount</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">red_amount</span> <span class="o">=</span> <span class="n">red_amount</span> <span class="o">%</span> <span class="mi">255</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid130" data-number="6.2"><div class="heading"><span class="number">Exercise 6.2.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Change the green and blue amounts to make different colours.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid131" data-number="6.3"><div class="heading"><span class="number">Exercise 6.3.</span> 

<span class="description"></span></div>
<p class="noindent">Make a gray colour.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid132" data-number="6.4"><div class="heading"><span class="number">Exercise 6.4.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Make random colours.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid49" data-tralics-id="cid49" class="section" data-number="6.3"><h2><a href="#cid49" class="heading hyperref"><span class="number">6.3 </span>Using loops</a></h2>
<p class="noindent">The loops from <a href="#code-loop" class="hyperref">Program <span class="ref">3.6</span></a> are useful for graphical games too!<span class="intersentencespace"></span> Here we draw red circles using a <em>for loop</em>.</p>
<p>We draw green circles using a <em>loop within another loop</em>.</p>
<div class="codelisting" id="code-loops" data-tralics-id="uid133" data-number="6.3"><div class="heading"><span class="number">Program 6.3:</span> <span class="description">Loops are useful</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">,</span> <span class="mi">40</span><span class="p">):</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">"green"</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid134" data-number="6.5"><div class="heading"><span class="number">Exercise 6.5.</span> 

<span class="description"></span></div>
<p class="noindent"><code>import random</code> at the top of the program and then make the positions random, e.g.<span class="intersentencespace"></span> </p><div class="code"><div class="highlight"><pre><span></span>x = random.randint(0, 100)
</pre></div></div>

</div><div class="aside" id="" data-tralics-id="uid135" data-number="6.6"><div class="heading"><span class="number">Exercise 6.6.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Learn about RGB colour and make random colours (see <a href="#code-colours" class="hyperref">Program <span class="ref">6.2</span></a>).<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid136" data-number="6.7"><div class="heading"><span class="number">Exercise 6.7.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Create a timer variable and change colours based on time (see <a href="#code-timer" class="hyperref">Program <span class="ref">7.5</span></a>)</p>

</div></div>
<div id="cid50" data-tralics-id="cid50" class="section" data-number="6.4"><h2><a href="#cid50" class="heading hyperref"><span class="number">6.4 </span>Fullscreen mode</a></h2>
<p class="noindent">Sometimes it is nice to play your game using the entire screen rather than in a window.<span class="intersentencespace"></span> Add these lines to any game to enable fullscreen mode.<span class="intersentencespace"></span> Then press <em>F</em> to go fullscreen, <em>ESCAPE</em> to quit.</p>
<div class="codelisting" id="code-full_screen_mode" data-tralics-id="uid137" data-number="6.4"><div class="heading"><span class="number">Program 6.4:</span> <span class="description">Fullscreen mode</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">f</span><span class="p">:</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">FULLSCREEN</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">escape</span><span class="p">:</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid51" data-tralics-id="cid51" class="section" data-number="6.5"><h2><a href="#cid51" class="heading hyperref"><span class="number">6.5 </span>Displaying the score</a></h2>
<p class="noindent">This game shows how you can keep the score in a variable and print it on to the game screen.<span class="intersentencespace"></span> You can display any other
messages to the player the same way.</p>
<div class="codelisting" id="code-displaying_text" data-tralics-id="uid138" data-number="6.5"><div class="heading"><span class="number">Program 6.5:</span> <span class="description">Keeping score in a variable and displaying it</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">f</span><span class="s2">"Player 1 score: {score}"</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">textbox</span><span class="p">(</span><span class="s2">"Hello mum"</span><span class="p">,</span> <span class="n">Rect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>

<span class="c1"># This is another special function that is called by Pygame automatically</span>
<span class="c1"># each time a key is pressed. That way player cannot just hold down key!</span>

<span class="k">def</span> <span class="nf">on_key_down</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid139" data-number="6.8"><div class="heading"><span class="number">Exercise 6.8.</span> 

<span class="description"></span></div>
<p class="noindent">Make the score text larger.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid140" data-number="6.9"><div class="heading"><span class="number">Exercise 6.9.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add a second player who presses a different key and show their score too.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid141" data-number="6.10"><div class="heading"><span class="number">Exercise 6.10.</span> 

<span class="description"></span></div>
<p class="noindent">Add text to one of your other games.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid52" data-tralics-id="cid52" class="chapter" data-number="7"><h1><a href="#cid52" class="heading hyperref"><span class="number">Chapter 7 </span>More advanced games</a></h1>
<p class="noindent">These games demonstrate some essential building blocks you will need to make more advanced games of your own.</p>
</div>
<div id="cid53" data-tralics-id="cid53" class="section" data-number="7.1"><h2><a href="#cid53" class="heading hyperref"><span class="number">7.1 </span>Lists</a></h2>
<p class="noindent">We introduced lists in <a href="#code-arrays" class="hyperref">Program <span class="ref">2.12</span></a>.<span class="intersentencespace"></span> In this game, we create an empty list <code>[]</code> and use a loop to fill it with alien Actors.</p>
<p>We again use loops to draw all the aliens and move all the aliens in the list.<span class="intersentencespace"></span> When the mouse is clicked we add a new alien to the list.</p>
<div class="codelisting" id="code-arrays2" data-tralics-id="uid142" data-number="7.1"><div class="heading"><span class="number">Program 7.1:</span> <span class="description">Lists are useful in games!</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">aliens</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">aliens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="mi">30</span><span class="p">,</span> <span class="n">i</span><span class="o">*</span><span class="mi">30</span><span class="p">)))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">alien</span> <span class="ow">in</span> <span class="n">aliens</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">alien</span> <span class="ow">in</span> <span class="n">aliens</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
            <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
    <span class="n">aliens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">,</span> <span class="n">pos</span><span class="p">))</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid143" data-number="7.1"><div class="heading"><span class="number">Exercise 7.1.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Go back to a previous game (e.g.<span class="intersentencespace"></span> <a href="#code-collisions" class="hyperref">Program <span class="ref">5.1</span></a>)
and add a list of bullets that move up the screen.<span class="intersentencespace"></span> When the player presses the spacebar to shoot,
add a new bullet to the list.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid54" data-tralics-id="cid54" class="section" data-number="7.2"><h2><a href="#cid54" class="heading hyperref"><span class="number">7.2 </span>Animation</a></h2>
<p class="noindent">Animation is another use for functions.<span class="intersentencespace"></span> (See <a href="#code-functions" class="hyperref">Program <span class="ref">2.17</span></a>) We define our own function and then ask Pygame to <em>call it back</em>
every 0.2 seconds.<span class="intersentencespace"></span> Most of this code is from <a href="#code-collisions" class="hyperref">Program <span class="ref">5.1</span></a>.</p>
<div class="codelisting" id="code-animation" data-tralics-id="uid144" data-number="7.2"><div class="heading"><span class="number">Program 7.2:</span> <span class="description">Animation</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">alien</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">2</span>

<span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"alien_hurt"</span><span class="p">,</span> <span class="s2">"alien"</span><span class="p">]</span>
<span class="n">image_counter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">animateAlien</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">image_counter</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">images</span><span class="p">[</span><span class="n">image_counter</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">images</span><span class="p">)]</span>
    <span class="n">image_counter</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="n">animateAlien</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid145" data-number="7.2"><div class="heading"><span class="number">Exercise 7.2.</span> 

<span class="description"></span></div>
<p class="noindent">Make the alien animate more quickly.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid146" data-number="7.3"><div class="heading"><span class="number">Exercise 7.3.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add another image to the list of images.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid147" data-number="7.4"><div class="heading"><span class="number">Exercise 7.4.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Draw your own animation, e.g.<span class="intersentencespace"></span> a man walking left which plays when the left key is pressed</p>

</div></div>
<div id="cid55" data-tralics-id="cid55" class="section" data-number="7.3"><h2><a href="#cid55" class="heading hyperref"><span class="number">7.3 </span>Simple physics</a></h2>
<p class="noindent">Here we draw a ball and move it, like we did in <a href="#code-moving_boxes" class="hyperref">Program <span class="ref">4.2</span></a>.<span class="intersentencespace"></span> But instead of moving it by a fixed number of pixels, we store the number of pixels to move in variables, <code>vx</code> and <code>vy</code>.<span class="intersentencespace"></span> These are <em>velocities</em>, i.e.<span class="intersentencespace"></span> speed in a fixed direction.<span class="intersentencespace"></span> <code>vx</code> is the speed in the horizontal direction and <code>vy</code> is the speed in the vertical direction.<span class="intersentencespace"></span> This allow us to change the velocity.<span class="intersentencespace"></span> Here we reverse the velocity when the ball hits the edge of the screen.</p>
<div class="codelisting" id="code-simple_physics" data-tralics-id="uid148" data-number="7.3"><div class="heading"><span class="number">Program 7.3:</span> <span class="description">Simple physics: velocity</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">vx</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">vx</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">vx</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">vy</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid149" data-number="7.5"><div class="heading"><span class="number">Exercise 7.5.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Make the ball move faster by increasing its velocity each time it hits the sides.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid56" data-tralics-id="cid56" class="section" data-number="7.4"><h2><a href="#cid56" class="heading hyperref"><span class="number">7.4 </span>Bat and ball game</a></h2>
<p class="noindent"><em>Pong</em> is the classic bat and ball game.</p>
<div class="codelisting" id="code-pong" data-tralics-id="uid150" data-number="7.4"><div class="heading"><span class="number">Program 7.4:</span> <span class="description">Pong</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">bat</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">480</span><span class="p">),</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">vx</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">vy</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">ball</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">bat</span><span class="p">,</span> <span class="s2">"white"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">vx</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">vx</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">bat</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span><span class="p">:</span>
        <span class="nb">exit</span><span class="p">()</span>
    <span class="k">if</span><span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">):</span>
        <span class="n">bat</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">elif</span><span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">):</span>
        <span class="n">bat</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mi">2</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid151" data-number="7.6"><div class="heading"><span class="number">Exercise 7.6.</span> 

<span class="description"></span></div>
<p class="noindent">Make the ball move more quickly.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid152" data-number="7.7"><div class="heading"><span class="number">Exercise 7.7.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add another bat at the top of the screen for player 2.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid153" data-number="7.8"><div class="heading"><span class="number">Exercise 7.8.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add bricks (Rects) that disappear when the ball hits them.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid57" data-tralics-id="cid57" class="section" data-number="7.5"><h2><a href="#cid57" class="heading hyperref"><span class="number">7.5 </span>Timer</a></h2>
<p class="noindent">The <code>update()</code> and <code>draw()</code> functions are called by Pygame many times every second.<span class="intersentencespace"></span> Each time <code>draw()</code> is called we say it draws one <em>frame</em>.<span class="intersentencespace"></span> The exact number of frames per second is called the <em>framerate</em> and
it will vary from one computer to another.<span class="intersentencespace"></span> Therefore counting frames is not the most reliable way of keeping time.</p>
<p>Fortunately Pygame can tell us exactly how much many seconds have passed since the last frame
in a parameter to our update function.<span class="intersentencespace"></span> We use this <em>delta time</em> to keep a timer.</p>
<div class="codelisting" id="code-timer" data-tralics-id="uid154" data-number="7.5"><div class="heading"><span class="number">Program 7.5:</span> <span class="description">Timer</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">timer</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">timer</span>
    <span class="n">timer</span> <span class="o">+=</span> <span class="n">dt</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">f</span><span class="s2">"Time passed: {timer}"</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">timer</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">textbox</span><span class="p">(</span><span class="s2">"Time's up!"</span><span class="p">,</span> <span class="n">Rect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid155" data-number="7.9"><div class="heading"><span class="number">Exercise 7.9.</span> 

<span class="description"></span></div>
<p class="noindent">Make the timer count down, not up.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid156" data-number="7.10"><div class="heading"><span class="number">Exercise 7.10.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add a timer to one of your other games.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid157" data-number="7.11"><div class="heading"><span class="number">Exercise 7.11.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Add a timer to <a href="#code-arrays" class="hyperref">Program <span class="ref">2.12</span></a> that deletes one of the aliens when the timer runs out, then starts the timer again.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid58" data-tralics-id="cid58" class="section" data-number="7.6"><h2><a href="#cid58" class="heading hyperref"><span class="number">7.6 </span>Callbacks: another kind of timer</a></h2>
<p class="noindent">Pygame has its own clock which we can use by asking it to <em>callback</em> one of our
functions at a certain time, or regularly over and over at an interval.</p>
<div class="codelisting" id="code-timer2" data-tralics-id="uid158" data-number="7.6"><div class="heading"><span class="number">Program 7.6:</span> <span class="description">Timer with callback functions</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">aliens</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">add_alien</span><span class="p">():</span>
    <span class="n">aliens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">)))</span>
    <span class="p">)</span>

<span class="c1"># call add_alien once, 0.5 seconds from now</span>
<span class="n">clock</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">add_alien</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># call add_alien over and over again, ever 2 seconds</span>
<span class="n">clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="n">add_alien</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">alien</span> <span class="ow">in</span> <span class="n">aliens</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid159" data-number="7.12"><div class="heading"><span class="number">Exercise 7.12.</span> 

<span class="description"></span></div>
<p class="noindent">Make the aliens appear more often.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid160" data-number="7.13"><div class="heading"><span class="number">Exercise 7.13.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Use <code>len(aliens)</code> to print how many aliens there are</p>

</div><div class="aside" id="" data-tralics-id="uid161" data-number="7.14"><div class="heading"><span class="number">Exercise 7.14.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">When there are too many aliens, stop adding them using this code:
</p><div class="code"><div class="highlight"><pre><span></span>       <span class="n">clock</span><span class="o">.</span><span class="n">unschedule</span><span class="p">(</span><span class="n">add_alien</span><span class="p">)</span>
</pre></div></div>

</div></div>
<div id="cid59" data-tralics-id="cid59" class="chapter" data-number="8"><h1><a href="#cid59" class="heading hyperref"><span class="number">Chapter 8 </span>Tutorial: Chase game</a></h1>
<p class="noindent">In this chapter we will build a complete chase game together, step by step.<span class="intersentencespace"></span> The Python we will use is very simple: just conditionals and loops.</p>
<p>The techniques here should be familiar to you because we used them in <a href="#code-background" class="hyperref">Program <span class="ref">4.4</span></a>, <a href="#code-keyboard_input" class="hyperref"><span class="ref">4.5</span></a>, <a href="#code-collisions" class="hyperref"><span class="ref">5.1</span></a> and <a href="#code-chase" class="hyperref"><span class="ref">5.2</span></a></p>
<p>Now we will show you how to put them all together in one program.</p>
</div>
<div id="cid60" data-tralics-id="cid60" class="section" data-number="8.1"><h2><a href="#cid60" class="heading hyperref"><span class="number">8.1 </span>Moving Actor over a background</a></h2>
<p class="noindent">We must create two image files for our game.<span class="intersentencespace"></span> You can use a program such as Krita<sup id="cha-8_footnote-ref-1" class="footnote"><a href="#cha-8_footnote-1">1</a></sup> to draw them and save them in the <code>mu_code/images</code> folder (accessible with the
<code>images</code> button in Mu).<span class="intersentencespace"></span> One is the player, called <code>player.png</code>.<span class="intersentencespace"></span> It should be small, about 64×64 pixels.<span class="intersentencespace"></span> Ideally it should have a transparent background.</p>
<p>The other is the background for the game itself.<span class="intersentencespace"></span> It can look like whatever you want, but it must be the same size as the game window, which will be 600×600 pixels.</p>
<div class="center figure" id="fig-krita" data-tralics-id="uid163" data-number="8.1">
<div class="graphics image"><img src="images/figures/krita.png" alt="images/figures/krita" /></div><div class="caption"><span class="header">Figure 8.1: </span><span class="description">New image in Krita, 600×600 pixels
</span></div></div>
<div class="codelisting" id="code-chase1" data-tralics-id="uid164" data-number="8.1"><div class="heading"><span class="number">Program 8.1:</span> <span class="description">Chase game</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">600</span>

<span class="n">background</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"background"</span><span class="p">)</span>
<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">)</span>
<span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">200</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">down</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">up</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid165" data-number="8.1"><div class="heading"><span class="number">Exercise 8.1.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program and move the Actor around with the keys.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid61" data-tralics-id="cid61" class="section" data-number="8.2"><h2><a href="#cid61" class="heading hyperref"><span class="number">8.2 </span>Screen wrap-around</a></h2>
<p class="noindent">One problem you will soon find with the program is that you can move off the edge of the screen and get lost.<span class="intersentencespace"></span> One way to solve this would be
to stop movement at the screen edges.<span class="intersentencespace"></span> Instead we going to make the player teleport to the opposite edge when he leaves the screen.<span class="intersentencespace"></span> Add this code
to the end of the program, and make sure it is indented so that it becomes part of the <code>update()</code> function.</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">WIDTH</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">HEIGHT</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid166" data-number="8.2"><div class="heading"><span class="number">Exercise 8.2.</span> 

<span class="description"></span></div>
<p class="noindent">Change the code so that the player stops at the edges rather than wraps-around.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid62" data-tralics-id="cid62" class="section" data-number="8.3"><h2><a href="#cid62" class="heading hyperref"><span class="number">8.3 </span>Enemy chases the player</a></h2>
<p class="noindent">Let’s add an enemy to chase the player.<span class="intersentencespace"></span> At the top of the program, create a variable to store the enemy Actor:
</p><div class="code"><div class="highlight"><pre><span></span><span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
</pre></div></div>
<p>At the end of the <code>draw()</code> function (but still indented so part of the function), draw the enemy.<span class="intersentencespace"></span> Remember there is only ever one single <code>draw()</code> function.<span class="intersentencespace"></span> No
program has two.<span class="intersentencespace"></span> All drawing goes inside this function.</p>
<p>Here is the complete function including the new line at the end:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div>
<p>At the end of the <code>update()</code> function (but still indented so part of the function), add these lines to move the enemy:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">enemy</span><span class="p">):</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid167" data-number="8.3"><div class="heading"><span class="number">Exercise 8.3.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program verify the enemy chases the player.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid168" data-number="8.4"><div class="heading"><span class="number">Exercise 8.4.</span> 

<span class="description"></span></div>
<p class="noindent">Make the enemy faster so the game is more difficult.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid169" data-number="8.5"><div class="heading"><span class="number">Exercise 8.5.</span> 

<span class="description"></span></div>
<p class="noindent">Create an image file <code>enemy.png</code> and save it in the <code>images</code> folder.<span class="intersentencespace"></span> Change the code so it loads <code>"enemy"</code> instead of <code>"alien"</code>.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid63" data-tralics-id="cid63" class="section" data-number="8.4"><h2><a href="#cid63" class="heading hyperref"><span class="number">8.4 </span>Collecting items</a></h2>
<p class="noindent">Create a small image file <code>coin.png</code> and save it in the <code>images</code> folder.<span class="intersentencespace"></span> It should look like a coin or something else you would like to collect.<span class="intersentencespace"></span> We will also need a variable to store the <em>score</em>, i.e.<span class="intersentencespace"></span> number of coins collected.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">coin</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"coin"</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">))</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div>
<p>At the end of the <code>draw()</code> function (but still indented so part of the function), draw the coin.<span class="intersentencespace"></span> Remember there is only ever one single <code>draw()</code> function.<span class="intersentencespace"></span> No
program has two.<span class="intersentencespace"></span> All drawing goes inside this function.</p>
<p>Here is the complete function including the new line at the end:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">coin</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div>
<p>At the end of the <code>update()</code> function (but still indented so part of the function), add these lines to move the coin when it is collected:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">coin</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
        <span class="n">coin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">)</span>
        <span class="n">coin</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">)</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Score:"</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid170" data-number="8.6"><div class="heading"><span class="number">Exercise 8.6.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program and collect a coin.<span class="intersentencespace"></span> What happens?<span class="intersentencespace"></span></p>

</div><div class="code"><div class="highlight"><pre><span></span>NameError: name 'random' is not defined
</pre></div></div>
<p>This happens because we are using a function <code>randint()</code> to get a random number.<span class="intersentencespace"></span> This function is not build-in to Python; it is part of the <em>random</em> library.<span class="intersentencespace"></span> So at the top of the program, add the first line:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid171" data-number="8.7"><div class="heading"><span class="number">Exercise 8.7.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program again and collect a coin.<span class="intersentencespace"></span> Does it work now?<span class="intersentencespace"></span></p>

</div><p>No!</p>
<div class="code"><div class="highlight"><pre><span></span>UnboundLocalError: local variable 'score' referenced before assignment
</pre></div></div>
<p>You will get an error because <code>score</code> is a global variable and we are trying to modify it inside the <code>update()</code> function.<span class="intersentencespace"></span> Therefore at the <strong>top</strong> of the <code>update()</code> function, add this line to declare to Python
our intention to modify a global variable:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">global</span> <span class="n">score</span>
</pre></div></div>
<p>It must be the <strong>first</strong> line in the function and it must be <strong>indented</strong>.<span class="intersentencespace"></span> The lines surrounding it should look like this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid172" data-number="8.8"><div class="heading"><span class="number">Exercise 8.8.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program again and verify it works!<span class="intersentencespace"></span></p>

</div></div>
<div id="cid64" data-tralics-id="cid64" class="section" data-number="8.5"><h2><a href="#cid64" class="heading hyperref"><span class="number">8.5 </span>Player 2</a></h2>
<p class="noindent">We can make any game into a two player game.<span class="intersentencespace"></span> At the top of the program, create a variable to store the Actor for the second player:
</p><div class="code"><div class="highlight"><pre><span></span><span class="n">player2</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
</pre></div></div>
<p>At the end of the <code>draw()</code> function (but still indented so part of the function), draw the enemy.<span class="intersentencespace"></span> Here is the complete function with the new line at the end:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">coin</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div>
<p>At the end of the <code>update()</code> function (but still indented so part of the function), add these lines to move the second player:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">d</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">a</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">s</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">w</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player2</span><span class="p">):</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid173" data-number="8.9"><div class="heading"><span class="number">Exercise 8.9.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Create a variable <code>score2</code> and store the score for player two, i.e.<span class="intersentencespace"></span> it goes up when he collides with a coin.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid65" data-tralics-id="cid65" class="section" data-number="8.6"><h2><a href="#cid65" class="heading hyperref"><span class="number">8.6 </span>Showing the score on the screen</a></h2>
<p class="noindent">At the end of the <code>draw()</code> function (but still indented so part of the function), draw a title on the screen:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"My game"</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
</pre></div></div>
<p>The <code>draw.text()</code> function is not like <code>print()</code> - it can only print strings of text, not numbers.<span class="intersentencespace"></span> Therefore we must convert
the score into a string.<span class="intersentencespace"></span> Add these lines to the end of the <code>draw()</code> function:
</p><div class="code"><div class="highlight"><pre><span></span>    <span class="n">score_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">score_string</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid174" data-number="8.10"><div class="heading"><span class="number">Exercise 8.10.</span> 

<span class="description"></span></div>
<p class="noindent">Change the colour of the text.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid175" data-number="8.11"><div class="heading"><span class="number">Exercise 8.11.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Display the word “Score: “ before the score.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid176" data-number="8.12"><div class="heading"><span class="number">Exercise 8.12.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">When the <code>score</code> reaches 10, show a message on the screen to congratulate the player</p>

</div></div>
<div id="cid66" data-tralics-id="cid66" class="section" data-number="8.7"><h2><a href="#cid66" class="heading hyperref"><span class="number">8.7 </span>Timer</a></h2>
<p class="noindent">Add a variable at the top of the program (but preferably after any <code>import</code> statements) to store the number of seconds
of time remaining in the game:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">time</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div></div>
<p>Pygame Zero calls our <code>update()</code> function many times per second.<span class="intersentencespace"></span> We can ask it to tell us how much time has passed
by adding a <em>parameter</em> to the function, <code>delta</code>.<span class="intersentencespace"></span> We then subtract this from the remaining time.<span class="intersentencespace"></span> Modify <code>update()</code> so
the first lines look like this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span><span class="p">,</span> <span class="n">time</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">time</span> <span class="o">-</span> <span class="n">delta</span>
    <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
         <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
<p>We can also display the time on the screen.<span class="intersentencespace"></span> At the end of the <code>draw()</code> function (but still indented so part of the function) add these lines:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="n">time_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">time_string</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid177" data-number="8.13"><div class="heading"><span class="number">Exercise 8.13.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program.<span class="intersentencespace"></span> Could the displayed time be improved?<span class="intersentencespace"></span></p>

</div><p>We don’t need to see the decimal places in the time.<span class="intersentencespace"></span> Modify those lines to use the <code>round()</code> function, like this:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="n">time_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">time_string</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="cid67" data-tralics-id="cid67" class="section" data-number="8.8"><h2><a href="#cid67" class="heading hyperref"><span class="number">8.8 </span>Finished game</a></h2>
<p class="noindent">Here is the finished game with all the changes included:</p>
<div class="codelisting" id="code-chaser7" data-tralics-id="uid178" data-number="8.2"><div class="heading"><span class="number">Program 8.2:</span> <span class="description">Finished chase game</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">600</span>

<span class="n">background</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"background"</span><span class="p">)</span>
<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">)</span>
<span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">200</span>

<span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>
<span class="n">player2</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">)</span>
<span class="n">coin</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">))</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">20</span>


<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">coin</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"My game"</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>
    <span class="n">score_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">score_string</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
    <span class="n">time_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">time_string</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">score</span><span class="p">,</span> <span class="n">time</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">time</span> <span class="o">-</span> <span class="n">delta</span>
    <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">exit</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">down</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">up</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span>

    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">WIDTH</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">HEIGHT</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">enemy</span><span class="p">):</span>
        <span class="nb">exit</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">d</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">a</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">s</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">w</span><span class="p">:</span>
        <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">player2</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player2</span><span class="p">):</span>
        <span class="nb">exit</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">coin</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
        <span class="n">coin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">)</span>
        <span class="n">coin</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">)</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Score:"</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</pre></div></div></div><p>However that is not the end!<span class="intersentencespace"></span> There are many things you could add to this game.</p>
<ul>
<li>Add more enemies.<span class="intersentencespace"></span>
</li>
<li>Give the player three lives.<span class="intersentencespace"></span>
</li>
<li>Add music and sound effects.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cha-8_footnotes">
  <div class="footnotes">
    <div id="cha-8_footnote-1" class="footnote"><a class="footnote-link" href="#cha-8_footnote-ref-1">1.</a> https://krita.org</div>
  </div>
</div><div id="cid68" data-tralics-id="cid68" class="chapter" data-number="9"><h1><a href="#cid68" class="heading hyperref"><span class="number">Chapter 9 </span>Tutorial: Maze game</a></h1>
<p class="noindent">In this chapter we will build a maze game together, step by step.<span class="intersentencespace"></span> The Python we will use is quite simple: mostly just conditionals and loops.<span class="intersentencespace"></span> The technique of creating a tilemap is common in games and after seeing it here you should be able to incorporate it into your own projects.</p>
<div class="center figure" id="fig-maze_fig" data-tralics-id="uid182" data-number="9.1">
<div class="graphics image"><img src="images/figures/mazegame.png" alt="images/figures/mazegame" /></div><div class="caption"><span class="header">Figure 9.1: </span><span class="description">Maze game
</span></div></div>
</div>
<div id="cid69" data-tralics-id="cid69" class="section" data-number="9.1"><h2><a href="#cid69" class="heading hyperref"><span class="number">9.1 </span>Tilemap</a></h2>
<p class="noindent">A tilemap uses a small number of images (the tiles) and draws them many times to build a much larger game level (the map).<span class="intersentencespace"></span> This saves you from creating a lot of artwork and makes it very easy to change the design of the level on a whim.<span class="intersentencespace"></span> Here we create a maze level.</p>
<p>We must create three image files for the tiles: <code>empty.png</code>, <code>wall.png</code> and <code>goal.png</code> and save them in the <code>mu_code/images</code> folder (accessible with the
<code>images</code> button in Mu).</p>
<p>They must each be 64×64 pixels.<span class="intersentencespace"></span> For the player
we will use the built in <code>alien</code> image.</p>
<div class="codelisting" id="code-maze2" data-tralics-id="uid183" data-number="9.1"><div class="heading"><span class="number">Program 9.1:</span> <span class="description">Drawing a tilemap</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">TILE_SIZE</span> <span class="o">=</span> <span class="mi">64</span>
<span class="n">WIDTH</span> <span class="o">=</span> <span class="n">TILE_SIZE</span> <span class="o">*</span> <span class="mi">8</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="n">TILE_SIZE</span> <span class="o">*</span> <span class="mi">8</span>

<span class="n">tiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'empty'</span><span class="p">,</span> <span class="s1">'wall'</span><span class="p">,</span> <span class="s1">'goal'</span><span class="p">]</span>

<span class="n">maze</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">maze</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">])):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
            <span class="n">tile</span> <span class="o">=</span> <span class="n">tiles</span><span class="p">[</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]]</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">tile</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div></div><p>The filenames of the tile images are stored in a <em>list</em>, <code>tiles</code>.<span class="intersentencespace"></span> The level design is stored in a list of lists, more commonly called a <em>two dimensional array</em>.<span class="intersentencespace"></span> There are 8 rows
and 8 columns in the array.<span class="intersentencespace"></span> If you change the size of the array you will need to change the <code>WIDTH</code> and <code>HEIGHT</code> values too.<span class="intersentencespace"></span> The numbers in the <code>maze</code> array refers to elements in the <code>tiles</code> array.<span class="intersentencespace"></span> So <code>0</code> means <code>empty</code> and <code>1</code> means <code>wall</code>, etc.</p>
<div class="center figure" id="fig-maze_fig_grid" data-tralics-id="uid184" data-number="9.2">
<div class="graphics image"><img src="images/figures/maze2.png" alt="images/figures/maze2" /></div><div class="caption"><span class="header">Figure 9.2: </span><span class="description">Tile grid
</span></div></div>
<p>To draw the maze we use a <code>for</code> loop within another <code>for</code> loop.<span class="intersentencespace"></span> The outer loop iterates over the rows and the inner loop
iterates over the columns, i.e.<span class="intersentencespace"></span> the elements of the row.</p>
<div class="aside" id="" data-tralics-id="uid185" data-number="9.1"><div class="heading"><span class="number">Exercise 9.1.</span> 

<span class="description"></span></div>
<p class="noindent">Create your own images <code>empty.png</code>, <code>wall.png</code> and <code>goal.png</code> and run the program.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid186" data-number="9.2"><div class="heading"><span class="number">Exercise 9.2.</span> 

<span class="description"></span></div>
<p class="noindent">The player appears at the top left of the maze at row 1 column 1.<span class="intersentencespace"></span> Change the <code>pos</code> parameter so he appears at the bottom instead.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid187" data-number="9.3"><div class="heading"><span class="number">Exercise 9.3.</span> 

<span class="description"></span></div>
<p class="noindent">Change the design of the maze by changing the numbers in the <code>maze</code> array.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid188" data-number="9.4"><div class="heading"><span class="number">Exercise 9.4.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Make the maze bigger.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid70" data-tralics-id="cid70" class="section" data-number="9.2"><h2><a href="#cid70" class="heading hyperref"><span class="number">9.2 </span>Moving the player</a></h2>
<p class="noindent">Add this code to the <em>end</em> of the program:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_key_down</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="n">column</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">UP</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">DOWN</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">LEFT</span><span class="p">:</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">column</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">column</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
    <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
</pre></div></div>
<p>This function will be called automatically by Pygame, like <code>draw()</code> and <code>update()</code>.<span class="intersentencespace"></span> However <code>on_key_down()</code> is not called every frame; it is
only called when the player presses a key.<span class="intersentencespace"></span> The key that was pressed is passed to the function in the <code>key</code> <em>parameter</em>.</p>
<div class="aside" id="" data-tralics-id="uid189" data-number="9.5"><div class="heading"><span class="number">Exercise 9.5.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program and move the player.<span class="intersentencespace"></span> Are there any problems with the movement?<span class="intersentencespace"></span></p>

</div></div>
<div id="cid71" data-tralics-id="cid71" class="section" data-number="9.3"><h2><a href="#cid71" class="heading hyperref"><span class="number">9.3 </span>Restricting where the player can move</a></h2>
<p class="noindent">Delete the last two lines of the program and replace them with this modified version:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'empty'</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
    <span class="k">elif</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'goal'</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Well done"</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid190" data-number="9.6"><div class="heading"><span class="number">Exercise 9.6.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program and check that the player now <em>only</em> moves if the tile is empty.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid191" data-number="9.7"><div class="heading"><span class="number">Exercise 9.7.</span> 

<span class="description"></span></div>
<p class="noindent">Check that the game ends when the player reaches the goal.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid72" data-tralics-id="cid72" class="section" data-number="9.4"><h2><a href="#cid72" class="heading hyperref"><span class="number">9.4 </span>Animate the movement of the player</a></h2>
<p class="noindent">First, the alien Actor is bit too big.<span class="intersentencespace"></span> Draw a new image of size 64×64 pixels and save it as <code>player.png</code> in the <code>images</code>
folder.<span class="intersentencespace"></span> In the program, change the line:</p>
<div class="code"><div class="highlight"><pre><span></span>player = Actor("alien", anchor=(0, 0), pos=(1 * TILE_SIZE, 1 * TILE_SIZE))
</pre></div></div>
<p>to</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">))</span>
</pre></div></div>
<p>Next, the movement of the Actor is sudden and jerky.<span class="intersentencespace"></span> Luckily Pygame includes a function to do smooth movement for us automatically.<span class="intersentencespace"></span> Find these lines of the program:</p>
<div class="code"><div class="highlight"><pre><span></span>    if tile == 'empty':
          player.x = column * TILE_SIZE
          player.y = row * TILE_SIZE
</pre></div></div>
<p>replace them with:</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'empty'</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">animate</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid192" data-number="9.8"><div class="heading"><span class="number">Exercise 9.8.</span> 

<span class="description"></span></div>
<p class="noindent">Verify the player image has changed and moves smoothly.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid73" data-tralics-id="cid73" class="section" data-number="9.5"><h2><a href="#cid73" class="heading hyperref"><span class="number">9.5 </span>Create an enemy</a></h2>
<p class="noindent">We will create a simple enemy that moves up and down.<span class="intersentencespace"></span> Add to the top of the program:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"enemy"</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">))</span>
<span class="n">enemy</span><span class="o">.</span><span class="n">yv</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div></div>
<p>To make the enemy visible, add this line at the end of the <code>draw()</code> function, after the player is drawn:</p>
<div class="code"><div class="highlight"><pre><span></span>  <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div></div>
<p><code>enemy.yv</code> is the velocity in the y-axis direction (up and down).<span class="intersentencespace"></span> Add these lines to end of the program (still inside the <code>on_key_down()</code>
function) to make the enemy move and reverse velocity when it hits a wall.</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="c1"># enemy movement</span>
    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="n">column</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="n">enemy</span><span class="o">.</span><span class="n">yv</span>
    <span class="n">tile</span> <span class="o">=</span> <span class="n">tiles</span><span class="p">[</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'wall'</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">animate</span><span class="p">(</span><span class="n">enemy</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">yv</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">yv</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"You died"</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid193" data-number="9.9"><div class="heading"><span class="number">Exercise 9.9.</span> 

<span class="description"></span></div>
<p class="noindent">Verify that the enemy moves up and down and kills the player.<span class="intersentencespace"></span></p>

</div><div class="aside" id="" data-tralics-id="uid194" data-number="9.10"><div class="heading"><span class="number">Exercise 9.10.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Make another enemy that moves horizontally (left and right).<span class="intersentencespace"></span></p>

</div></div>
<div id="cid74" data-tralics-id="cid74" class="section" data-number="9.6"><h2><a href="#cid74" class="heading hyperref"><span class="number">9.6 </span>A locked door and a key</a></h2>
<p class="noindent">We will add two new tiles to the game.<span class="intersentencespace"></span> Draw images <code>door.png</code> and <code>key.png</code> and save them in <code>images</code> folder.</p>
<p>Find the <code>tiles</code> list near the top and <strong>change</strong> it to include the new images, and modify the <code>maze</code> with some number 3s and 4s where
you want to new tiles to appear.<span class="intersentencespace"></span> Mine looks like this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">tiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'empty'</span><span class="p">,</span> <span class="s1">'wall'</span><span class="p">,</span> <span class="s1">'goal'</span><span class="p">,</span> <span class="s1">'door'</span><span class="p">,</span> <span class="s1">'key'</span><span class="p">]</span>
<span class="n">unlock</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">maze</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">]</span>
</pre></div></div>
<p>At the top of the program, create a new variable to store the number of keys the player is carrying:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="n">unlock</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div>
<p>Find the <code>if</code> statement where we test for <code>goal</code>:</p>
<div class="code"><div class="highlight"><pre><span></span>   if tile == 'goal':
        print("Well done")
        exit()
</pre></div></div>
<p>Modify it like this to also test for the key and door tiles.<span class="intersentencespace"></span> Since we are modifying a <em>global</em> variable inside a function we must declare it.</p>
<div class="code"><div class="highlight"><pre><span></span>    <span class="k">global</span> <span class="n">unlock</span>
    <span class="k">if</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'goal'</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Well done"</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'key'</span><span class="p">:</span>
        <span class="n">unlock</span> <span class="o">=</span> <span class="n">unlock</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># 0 is 'empty' tile</span>
    <span class="k">elif</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'door'</span> <span class="ow">and</span> <span class="n">unlock</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">unlock</span> <span class="o">=</span> <span class="n">unlock</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># 0 is 'empty' tile</span>
</pre></div></div>
</div>
<div id="cid75" data-tralics-id="cid75" class="section" data-number="9.7"><h2><a href="#cid75" class="heading hyperref"><span class="number">9.7 </span>Finished game</a></h2>
<p class="noindent">Here is the finished game with all the changes included:</p>
<div class="codelisting" id="code-maze7" data-tralics-id="uid195" data-number="9.2"><div class="heading"><span class="number">Program 9.2:</span> <span class="description">Finished maze game</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">TILE_SIZE</span> <span class="o">=</span> <span class="mi">64</span>
<span class="n">WIDTH</span> <span class="o">=</span> <span class="n">TILE_SIZE</span> <span class="o">*</span> <span class="mi">8</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="n">TILE_SIZE</span> <span class="o">*</span> <span class="mi">8</span>

<span class="n">tiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'empty'</span><span class="p">,</span> <span class="s1">'wall'</span><span class="p">,</span> <span class="s1">'goal'</span><span class="p">,</span> <span class="s1">'door'</span><span class="p">,</span> <span class="s1">'key'</span><span class="p">]</span>
<span class="n">unlock</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">maze</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">))</span>
<span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"enemy"</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">))</span>
<span class="n">enemy</span><span class="o">.</span><span class="n">yv</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">maze</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">])):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
            <span class="n">tile</span> <span class="o">=</span> <span class="n">tiles</span><span class="p">[</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]]</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">tile</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">on_key_down</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="c1"># player movement</span>
    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="n">column</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">UP</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">DOWN</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">LEFT</span><span class="p">:</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">column</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">column</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">tile</span> <span class="o">=</span> <span class="n">tiles</span><span class="p">[</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'empty'</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">animate</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">global</span> <span class="n">unlock</span>
    <span class="k">if</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'goal'</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"Well done"</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'key'</span><span class="p">:</span>
        <span class="n">unlock</span> <span class="o">=</span> <span class="n">unlock</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># 0 is 'empty' tile</span>
    <span class="k">elif</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'door'</span> <span class="ow">and</span> <span class="n">unlock</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">unlock</span> <span class="o">=</span> <span class="n">unlock</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># 0 is 'empty' tile</span>

    <span class="c1"># enemy movement</span>
    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="n">column</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">)</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="n">enemy</span><span class="o">.</span><span class="n">yv</span>
    <span class="n">tile</span> <span class="o">=</span> <span class="n">tiles</span><span class="p">[</span><span class="n">maze</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">column</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tile</span> <span class="o">==</span> <span class="s1">'wall'</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">column</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">TILE_SIZE</span>
        <span class="n">animate</span><span class="p">(</span><span class="n">enemy</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">yv</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">yv</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">"You died"</span><span class="p">)</span>
        <span class="nb">exit</span><span class="p">()</span>
</pre></div></div></div><p>However that is not the end!<span class="intersentencespace"></span> There are many things you could add to this game.</p>
<ul>
<li>Show the player score.<span class="intersentencespace"></span>
</li>
<li>Coins that the player collects to increase score.<span class="intersentencespace"></span>
</li>
<li>Trap tiles that are difficult to see and kill the player.<span class="intersentencespace"></span>
</li>
<li>Treasure chest that is unlocked with the key and increases score.<span class="intersentencespace"></span>
</li>
<li>Instead of ending the game, give the player 3 lives.<span class="intersentencespace"></span>
</li>
<li>Add more types of tile to the map: water, rock, brick, etc.<span class="intersentencespace"></span>
</li>
<li>Change the player image depending on the direction they are moving.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid76" data-tralics-id="cid76" class="chapter" data-number="10"><h1><a href="#cid76" class="heading hyperref"><span class="number">Chapter 10 </span>Tutorial: Shooting game</a></h1>
<p class="noindent">In this chapter we will build a shooting game together, step by step.<span class="intersentencespace"></span> The Python we will use is: conditionals, loops, lists and functions.</p>
</div>
<div id="cid77" data-tralics-id="cid77" class="section" data-number="10.1"><h2><a href="#cid77" class="heading hyperref"><span class="number">10.1 </span>Step 1: Decide what Actors you will need</a></h2>
<p class="noindent">Our game will need these Actors, so <strong>we must create images for all of them and save them as <code>.png</code> files in the <code>images</code> folder.</strong></p>
<table class="tabular"><tr class="top_border bottom_border"><td class="left_border align_left right_border">variable name</td>
<td class="align_left right_border">image file name</td>
<td class="align_left right_border">image size</td>
<td class="align_left right_border">description</td>
</tr><tr><td class="left_border align_left right_border">player</td>
<td class="align_left right_border">player.png</td>
<td class="align_left right_border">64x64</td>
<td class="align_left right_border">spaceship controlled by the player</td>
</tr><tr><td class="left_border align_left right_border">background</td>
<td class="align_left right_border">background.png</td>
<td class="align_left right_border">600x800</td>
<td class="align_left right_border">image of stars</td>
</tr><tr><td class="left_border align_left right_border">enemies (list)</td>
<td class="align_left right_border">enemy.png</td>
<td class="align_left right_border">64x64</td>
<td class="align_left right_border">evil alien</td>
</tr><tr><td class="left_border align_left right_border">bullets (list)</td>
<td class="align_left right_border">bullet.png</td>
<td class="align_left right_border">16x16</td>
<td class="align_left right_border">fired by the player upwards</td>
</tr><tr class="bottom_border"><td class="left_border align_left right_border">bombs (list)</td>
<td class="align_left right_border">bomb.png</td>
<td class="align_left right_border">16x16</td>
<td class="align_left right_border">dropped by the enemies downwards</td>
</tr></table>
<p>The <code>player</code> and <code>background</code> variables will contain Actors.<span class="intersentencespace"></span> The others are lists which
we initialize to the empty list <code>[]</code>.<span class="intersentencespace"></span> Actors will be appended to the lists later.</p>
<div class="codelisting" id="code-shoot17a" data-tralics-id="uid203" data-number="10.1"><div class="heading"><span class="number">Program 10.1:</span> <span class="description">Shooter game part 1 of 4</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">MAX_BULLETS</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">level</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">lives</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">background</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"background"</span><span class="p">)</span>
<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">780</span><span class="p">))</span>
<span class="n">enemies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">bullets</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">bombs</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div></div></div></div>
<div id="cid78" data-tralics-id="cid78" class="section" data-number="10.2"><h2><a href="#cid78" class="heading hyperref"><span class="number">10.2 </span>Step 2: Draw your Actors</a></h2>
<p class="noindent">Every Pygame game needs an <code>draw()</code> function, and it should draw all the Actors we created above.</p>
<div class="codelisting" id="code-shoot17b" data-tralics-id="uid204" data-number="10.2"><div class="heading"><span class="number">Program 10.2:</span> <span class="description">Shooter game part 2 of 4</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">background</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">enemy</span> <span class="ow">in</span> <span class="n">enemies</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">bullet</span> <span class="ow">in</span> <span class="n">bullets</span><span class="p">:</span>
        <span class="n">bullet</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">bomb</span> <span class="ow">in</span> <span class="n">bombs</span><span class="p">:</span>
        <span class="n">bomb</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">draw_text</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid79" data-tralics-id="cid79" class="section" data-number="10.3"><h2><a href="#cid79" class="heading hyperref"><span class="number">10.3 </span>Step 3: Move your Actors</a></h2>
<p class="noindent">Every Pygame game needs an <code>update()</code> function to move the Actors, check for collisions, etc.</p>
<div class="codelisting" id="code-shoot17c" data-tralics-id="uid205" data-number="10.3"><div class="heading"><span class="number">Program 10.3:</span> <span class="description">Shooter game part 3 of 4</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
    <span class="n">move_player</span><span class="p">()</span>
    <span class="n">move_bullets</span><span class="p">()</span>
    <span class="n">move_enemies</span><span class="p">()</span>
    <span class="n">create_bombs</span><span class="p">()</span>
    <span class="n">move_bombs</span><span class="p">()</span>
    <span class="n">check_for_end_of_level</span><span class="p">()</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid206" data-number="10.1"><div class="heading"><span class="number">Exercise 10.1.</span> 

<span class="description"></span></div>
<p class="noindent">Create the png image files (<code>player.png, background.png, bullet.png, bomb.png, enemy.png</code>).<span class="intersentencespace"></span> Type in <a href="#code-shoot17a" class="hyperref">program <span class="ref">10.1</span></a>, <a href="#code-shoot17b" class="hyperref"><span class="ref">10.2</span></a> and <a href="#code-shoot17c" class="hyperref"><span class="ref">10.3</span></a> into a single file.<span class="intersentencespace"></span> Save the file.<span class="intersentencespace"></span> Why doesn’t it run?<span class="intersentencespace"></span></p>

</div></div>
<div id="cid80" data-tralics-id="cid80" class="section" data-number="10.4"><h2><a href="#cid80" class="heading hyperref"><span class="number">10.4 </span>Step 4: Define your functions</a></h2>
<p class="noindent">Python cannot call a function that has not yet been defined.<span class="intersentencespace"></span> Therefore we must at least provide empty, dummy versions
of our functions that don’t do anything so we can fill them in later.<span class="intersentencespace"></span> However Python cannot define a completely empty
function - it must contain at least one line.<span class="intersentencespace"></span> Therefore we use the <code>pass</code> keyword to create a line that doesn’t do anything.</p>
<div class="codelisting" id="code-shoot17d" data-tralics-id="uid207" data-number="10.4"><div class="heading"><span class="number">Program 10.4:</span> <span class="description">Shooter game part 4 of 4</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">move_player</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">move_enemies</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">move_bullets</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">create_bombs</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">move_bombs</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">check_for_end_of_level</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">draw_text</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid208" data-number="10.2"><div class="heading"><span class="number">Exercise 10.2.</span> 

<span class="description"></span></div>
<p class="noindent">Add listing <a href="#code-shoot17d" class="hyperref"><span class="ref">10.4</span></a> to the end of the file.<span class="intersentencespace"></span> Verify the game now runs and you can see the player at the bottom of the screen.<span class="intersentencespace"></span> (He can’t move yet.)<span class="intersentencespace"></span></p>

</div></div>
<div id="cid81" data-tralics-id="cid81" class="section" data-number="10.5"><h2><a href="#cid81" class="heading hyperref"><span class="number">10.5 </span>Create enemies</a></h2>
<p class="noindent">Add this new function to the end of the program, and then call it immediately.<span class="intersentencespace"></span> It uses a loop within a loop to create enemy Actors and put them in the <code>enemies</code> list.<span class="intersentencespace"></span> The reason we put this in a function is we will need to call it again at the start of each level.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_enemies</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">60</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">60</span><span class="p">):</span>
            <span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">enemy</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="n">level</span> <span class="o">*</span> <span class="mi">2</span>
            <span class="n">enemies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">enemy</span><span class="p">)</span>


<span class="n">create_enemies</span><span class="p">()</span>
</pre></div></div>
</div>
<div id="cid82" data-tralics-id="cid82" class="section" data-number="10.6"><h2><a href="#cid82" class="heading hyperref"><span class="number">10.6 </span>Move the player</a></h2>
<p class="noindent">Replace the <code>move_player()</code> dummy function definition with this.<span class="intersentencespace"></span> Remember <strong>there can only be one function with a given name</strong>.<span class="intersentencespace"></span> <em>There cannot be two <code>move_player()</code> function
definitions.</em></p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">move_player</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">WIDTH</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div>
</div>
<div id="cid83" data-tralics-id="cid83" class="section" data-number="10.7"><h2><a href="#cid83" class="heading hyperref"><span class="number">10.7 </span>Move the enemies</a></h2>
<p class="noindent">Replace the <code>move_enemies()</code> dummy function definition with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">move_enemies</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">score</span>
    <span class="k">for</span> <span class="n">enemy</span> <span class="ow">in</span> <span class="n">enemies</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">enemy</span><span class="o">.</span><span class="n">vx</span>
        <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">enemy</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">enemy</span><span class="o">.</span><span class="n">vx</span>
            <span class="n">animate</span><span class="p">(</span><span class="n">enemy</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">60</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">bullet</span> <span class="ow">in</span> <span class="n">bullets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">bullet</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">enemy</span><span class="p">):</span>
                <span class="n">enemies</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">enemy</span><span class="p">)</span>
                <span class="n">bullets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">bullet</span><span class="p">)</span>
                <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
            <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
</div>
<div id="cid84" data-tralics-id="cid84" class="section" data-number="10.8"><h2><a href="#cid84" class="heading hyperref"><span class="number">10.8 </span>Draw text on the screen</a></h2>
<p class="noindent">Replace the <code>draw_text()</code> dummy function definition with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Level "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">level</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"red"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Score "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"red"</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Lives "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">lives</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"red"</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="cid85" data-tralics-id="cid85" class="section" data-number="10.9"><h2><a href="#cid85" class="heading hyperref"><span class="number">10.9 </span>Player bullets</a></h2>
<p class="noindent">Add this new function to the end of the program.<span class="intersentencespace"></span> Pygame will call it for us automatically when a key is pressed.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_key_down</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">bullets</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">MAX_BULLETS</span><span class="p">:</span>
        <span class="n">bullet</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
        <span class="n">bullets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bullet</span><span class="p">)</span>
</pre></div></div>
<p>Replace the <code>move_bullets()</code> dummy function definition with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">move_bullets</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">bullet</span> <span class="ow">in</span> <span class="n">bullets</span><span class="p">:</span>
        <span class="n">bullet</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">bullet</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="mi">6</span>
        <span class="k">if</span> <span class="n">bullet</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">bullets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">bullet</span><span class="p">)</span>
</pre></div></div>
</div>
<div id="cid86" data-tralics-id="cid86" class="section" data-number="10.10"><h2><a href="#cid86" class="heading hyperref"><span class="number">10.10 </span>Enemy bombs</a></h2>
<p class="noindent">Replace the <code>create_bombs()</code> dummy function definition with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_bombs</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">level</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">enemy</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">enemies</span><span class="p">)</span>
        <span class="n">bomb</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"player"</span><span class="p">,</span> <span class="n">enemy</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="n">bombs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bomb</span><span class="p">)</span>
</pre></div></div>
<p>Replace the <code>move_bombs()</code> dummy function definition with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">move_bombs</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">lives</span>
    <span class="k">for</span> <span class="n">bomb</span> <span class="ow">in</span> <span class="n">bombs</span><span class="p">:</span>
        <span class="n">bomb</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">bomb</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="n">bomb</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
            <span class="n">bombs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">bomb</span><span class="p">)</span>
            <span class="n">lives</span> <span class="o">=</span> <span class="n">lives</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">lives</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">exit</span><span class="p">()</span>
</pre></div></div>
</div>
<div id="cid87" data-tralics-id="cid87" class="section" data-number="10.11"><h2><a href="#cid87" class="heading hyperref"><span class="number">10.11 </span>Check for end of level</a></h2>
<p class="noindent">Replace the <code>check_for_end_of_level()</code> dummy function definition with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_for_end_of_level</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">level</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">enemies</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">create_enemies</span><span class="p">()</span>
</pre></div></div>
</div>
<div id="cid88" data-tralics-id="cid88" class="section" data-number="10.12"><h2><a href="#cid88" class="heading hyperref"><span class="number">10.12 </span>Ideas for extension</a></h2>
<ul>
<li>Draw an explosion image and create an explosion Actor every time an alien dies.<span class="intersentencespace"></span>
</li>
<li>Make the explosion Actor disappear after a short time.<span class="intersentencespace"></span>
</li>
<li>Draw several explosion images, put them in a list and make the Actor animate displaying each of them in order.<span class="intersentencespace"></span>
</li>
<li>The player can only fire 3 bullets at a time.<span class="intersentencespace"></span> Create a powerup that allows him to fire additional bullets.<span class="intersentencespace"></span>
</li>
<li>Add music and sound effects.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid89" data-tralics-id="cid89" class="chapter" data-number="11"><h1><a href="#cid89" class="heading hyperref"><span class="number">Chapter 11 </span>Tutorial: Race game</a></h1>
<p class="noindent">In this chapter we will build a racing game together, step by step.<span class="intersentencespace"></span> The Python we will use is: conditionals, loops, lists, functions and tuples.<span class="intersentencespace"></span> We will show use of velocity, high score and a title screen.</p>
</div>
<div id="cid90" data-tralics-id="cid90" class="section" data-number="11.1"><h2><a href="#cid90" class="heading hyperref"><span class="number">11.1 </span>Basic game</a></h2>
<p class="noindent">Similar to the shooter game, we will begin with a complete program listing but with empty bodies for some of the functions
that we will fill in later.<span class="intersentencespace"></span> (Python will not run a program with completely empty functions, so they just contain <code>pass</code> to indicate to
Python they do nothing.)</p>
<div class="center figure" id="fig-race_fig" data-tralics-id="uid214" data-number="11.1">
<div class="graphics image"><img src="images/figures/race.png" alt="images/figures/race" /></div><div class="caption"><span class="header">Figure 11.1: </span><span class="description">Race game
</span></div></div>
<p>Like the shooter program, we begin we three things:</p>
<ol>
<li>Definitions of global variables.<span class="intersentencespace"></span>
</li>
<li>A <code>draw()</code> function.<span class="intersentencespace"></span>
</li>
<li>An <code>update()</code> function.<span class="intersentencespace"></span>
</li></ol>
<p>These functions now check a boolean variable <code>playing</code>.<span class="intersentencespace"></span> If <code>False</code> then instead of drawing/updating the game
we show the title screen.</p>
<p>The only really complicated part of this program is how we store the shape of the tunnel the player is racing down.<span class="intersentencespace"></span> <code>lines</code> is a list of <em>tuples</em>.<span class="intersentencespace"></span> A tuple is like a list but <em>cannot be modified</em> and can be <em>unpacked</em> into separate variables.<span class="intersentencespace"></span> Each tuple will represent one horizontal line of the screen.<span class="intersentencespace"></span> It will have three values, <code>x</code>, <code>x2</code> and <code>color</code>, representing the position of the left wall,
the gap between the left wall and the right wall and the colour of the wall.</p>
<div class="codelisting" id="code-race7" data-tralics-id="uid218" data-number="11.1"><div class="heading"><span class="number">Program 11.1:</span> <span class="description">Basic skeleton of race game</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">800</span>

<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">,</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">780</span><span class="p">))</span>
<span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># horizontal velocity</span>
<span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># vertical velocity</span>

<span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>          <span class="c1"># list of tuples of horizontal lines of walls</span>
<span class="n">wall_gradient</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>  <span class="c1"># steepness of wall</span>
<span class="n">left_wall_x</span> <span class="o">=</span> <span class="mi">200</span>   <span class="c1"># x-coordinate of wall</span>
<span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>        <span class="c1"># how far player has travelled</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">15</span>           <span class="c1"># time left until game ends</span>
<span class="n">playing</span> <span class="o">=</span> <span class="bp">False</span>     <span class="c1"># True when in game, False when on title screen</span>
<span class="n">best_distance</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># remember the highest distance scored</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">playing</span><span class="p">:</span> <span class="c1"># we are in game</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span> <span class="c1"># draw the walls</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">x2</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="p">(</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span>
        <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>   <span class="c1"># we are on title screen</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"PRESS SPACE TO START"</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"BEST DISTANCE: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">best_distance</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)),</span>
            <span class="p">(</span><span class="mi">170</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"SPEED: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">vy</span><span class="p">)),</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"DISTANCE: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)),</span>
        <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"TIME: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">)),</span>
        <span class="p">(</span><span class="mi">480</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"green"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">playing</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">time</span>
    <span class="k">if</span> <span class="n">playing</span><span class="p">:</span>
        <span class="n">wall_collisions</span><span class="p">()</span>
        <span class="n">scroll_walls</span><span class="p">()</span>
        <span class="n">generate_lines</span><span class="p">()</span>
        <span class="n">player_input</span><span class="p">()</span>
        <span class="n">timer</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">space</span><span class="p">:</span>
        <span class="n">playing</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">time</span> <span class="o">=</span> <span class="mi">10</span>


<span class="k">def</span> <span class="nf">player_input</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">generate_lines</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">generate_lines</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">scroll_walls</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">wall_collisions</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">on_mouse_move</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div></div></div><div class="aside" id="" data-tralics-id="uid219" data-number="11.1"><div class="heading"><span class="number">Exercise 11.1.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program.<span class="intersentencespace"></span> Verify it has a title screen and you can start the game and see the player.<span class="intersentencespace"></span> (That is all it will do until we fill in the
remaining functions.)<span class="intersentencespace"></span></p>

</div></div>
<div id="cid91" data-tralics-id="cid91" class="section" data-number="11.2"><h2><a href="#cid91" class="heading hyperref"><span class="number">11.2 </span>Player input</a></h2>
<p class="noindent">Replace the definiton of <code>player_input()</code> with this:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">player_input</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">up</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">+=</span> <span class="mf">0.1</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">down</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">-=</span> <span class="mf">0.1</span>
        <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">+=</span> <span class="mf">0.4</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">-=</span> <span class="mf">0.4</span>
    <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">player</span><span class="o">.</span><span class="n">vx</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid220" data-number="11.2"><div class="heading"><span class="number">Exercise 11.2.</span> 

<span class="description"></span></div>
<p class="noindent">Run the program.<span class="intersentencespace"></span> Verify the player can move left and right and has momentum.<span class="intersentencespace"></span> Try adjusting the speed or making a limit so you can’t go too fast.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid92" data-tralics-id="cid92" class="section" data-number="11.3"><h2><a href="#cid92" class="heading hyperref"><span class="number">11.3 </span>Generate the walls</a></h2>
<p class="noindent">We already have code to draw the walls, but currently <code>lines</code> is empty so nothing gets drawn.<span class="intersentencespace"></span> Replace the function <code>generate_lines()</code> with this.<span class="intersentencespace"></span> Note that we immediately call <code>generate_lines()</code> after
defining it to generate the walls for the start of the game.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generate_lines</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">wall_gradient</span><span class="p">,</span> <span class="n">left_wall_x</span>
    <span class="n">gap_width</span> <span class="o">=</span> <span class="mi">300</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="mi">3000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">HEIGHT</span><span class="p">:</span>
        <span class="n">pretty_colour</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">left_wall_x</span><span class="p">,</span> <span class="n">gap_width</span><span class="p">,</span> <span class="n">pretty_colour</span><span class="p">))</span>
        <span class="n">left_wall_x</span> <span class="o">+=</span> <span class="n">wall_gradient</span>
        <span class="k">if</span> <span class="n">left_wall_x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">left_wall_x</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">wall_gradient</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mf">0.1</span>
        <span class="k">elif</span> <span class="n">left_wall_x</span> <span class="o">+</span> <span class="n">gap_width</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
            <span class="n">left_wall_x</span> <span class="o">=</span> <span class="n">WIDTH</span> <span class="o">-</span> <span class="n">gap_width</span>
            <span class="n">wall_gradient</span> <span class="o">=</span> <span class="o">-</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mf">0.1</span>

<span class="n">generate_lines</span><span class="p">()</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid221" data-number="11.3"><div class="heading"><span class="number">Exercise 11.3.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Run the program.<span class="intersentencespace"></span> Change the colour of the walls from red to green.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid93" data-tralics-id="cid93" class="section" data-number="11.4"><h2><a href="#cid93" class="heading hyperref"><span class="number">11.4 </span>Make the walls colourful</a></h2>
<p class="noindent">Modify the line the sets the colour of the generated line to this:</p>
<div class="code"><div class="highlight"><pre><span></span>        <span class="n">pretty_colour</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">left_wall_x</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">time</span> <span class="o">*</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</pre></div></div>
</div>
<div id="cid94" data-tralics-id="cid94" class="section" data-number="11.5"><h2><a href="#cid94" class="heading hyperref"><span class="number">11.5 </span>Scrolling</a></h2>
<p class="noindent">Modify the <code>scroll_walls()</code> function so it removes lines from the bottom of the screen according to the player’s vertical
velocity.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scroll_walls</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">distance</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">vy</span><span class="p">)):</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">distance</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid222" data-number="11.4"><div class="heading"><span class="number">Exercise 11.4.</span> 

<span class="description">Advanced</span></div>
<p class="noindent">Verify the player can now accelerate forward, i.e.<span class="intersentencespace"></span> the walls scroll.<span class="intersentencespace"></span> (Can you change the amount of the acceleration?)<span class="intersentencespace"></span></p>

</div></div>
<div id="cid95" data-tralics-id="cid95" class="section" data-number="11.6"><h2><a href="#cid95" class="heading hyperref"><span class="number">11.6 </span>Wall collisions</a></h2>
<p class="noindent">Currently the player can move through the walls - we don’t want to allow this.<span class="intersentencespace"></span> Also we want the player to lose all their
velocity each time they collide as a penalty.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">wall_collisions</span><span class="p">():</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">5</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.5</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mi">5</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="n">player</span><span class="o">.</span><span class="n">vx</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.5</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div></div>
</div>
<div id="cid96" data-tralics-id="cid96" class="section" data-number="11.7"><h2><a href="#cid96" class="heading hyperref"><span class="number">11.7 </span>Timer</a></h2>
<p class="noindent">Currently the player has infinite time.<span class="intersentencespace"></span> We want decrease the <code>time</code> variable by how much time has passed and end the game
when time runs out.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">time</span><span class="p">,</span> <span class="n">playing</span><span class="p">,</span> <span class="n">best_distance</span>
    <span class="n">time</span> <span class="o">-=</span> <span class="n">delta</span>
    <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">playing</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="n">best_distance</span><span class="p">:</span>
            <span class="n">best_distance</span> <span class="o">=</span> <span class="n">distance</span>
</pre></div></div>
<div class="aside" id="" data-tralics-id="uid223" data-number="11.5"><div class="heading"><span class="number">Exercise 11.5.</span> 

<span class="description"></span></div>
<p class="noindent">Verify the game ends after 15 seconds.<span class="intersentencespace"></span> Change it so it lasts 20 seconds.<span class="intersentencespace"></span></p>

</div></div>
<div id="cid97" data-tralics-id="cid97" class="section" data-number="11.8"><h2><a href="#cid97" class="heading hyperref"><span class="number">11.8 </span>Mouse movement</a></h2>
<p class="noindent">The game is easier but perhaps more fun if you can play it with mouse.<span class="intersentencespace"></span> Pygame will call this function for us automatically.</p>
<div class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_mouse_move</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pos</span>
    <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">player</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="p">(</span><span class="n">HEIGHT</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">20</span>
</pre></div></div>
</div>
<div id="cid98" data-tralics-id="cid98" class="section" data-number="11.9"><h2><a href="#cid98" class="heading hyperref"><span class="number">11.9 </span>Extension ideas</a></h2>
<ul>
<li>Draw a new image for the player.<span class="intersentencespace"></span> Make the Actor show a different image depending on if the player is steering left or right.<span class="intersentencespace"></span>
</li>
<li>Give the player a goal distance that must be reached.<span class="intersentencespace"></span> If the player reaches this distance he gets extra time added to allow him to continue.<span class="intersentencespace"></span>
</li>
<li>Add sound effects and music.<span class="intersentencespace"></span>
</li></ul>
</div>
<div id="cid99" data-tralics-id="cid99" class="chapter" data-number="12"><h1><a href="#cid99" class="heading hyperref"><span class="number">Chapter 12 </span>Advanced topics</a></h1>
</div>
<div id="cid100" data-tralics-id="cid100" class="section" data-number="12.1"><h2><a href="#cid100" class="heading hyperref"><span class="number">12.1 </span>Instructor note</a></h2>
<p class="noindent">This is the beginning of my attempts to teach object oriented programming, but I wouldn’t attempt this with young students since it requires abstract thinking.</p>
</div>
<div id="cid101" data-tralics-id="cid101" class="section" data-number="12.2"><h2><a href="#cid101" class="heading hyperref"><span class="number">12.2 </span>Classes</a></h2>
<p class="noindent">You’ve already been using class types provided by Pygame Zero, e.g.<span class="intersentencespace"></span> Rect and Actor.<span class="intersentencespace"></span> But if we want to store velocity as in <a href="#code-simple_physics" class="hyperref">Program <span class="ref">7.3</span></a> we find these classes do not
include <em>vx</em> and <em>vy</em> variables inside them by default.<span class="intersentencespace"></span> We have to remember to add a <em>vx</em> and <em>vy</em> every time we create an Actor.</p>
<p>So let’s
create our own class, called <em>Sprite</em>, that is the same as Actor but with
these variables included.</p>
<div class="codelisting" id="code-classes" data-tralics-id="uid227" data-number="12.1"><div class="heading"><span class="number">Program 12.1:</span> <span class="description">Classes</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">class</span> <span class="nc">Sprite</span><span class="p">(</span><span class="n">Actor</span><span class="p">):</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">ball</span><span class="o">.</span><span class="n">vx</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">ball</span><span class="o">.</span><span class="n">vy</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">vx</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span> <span class="ow">or</span> <span class="n">ball</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">vy</span>
</pre></div></div></div></div>
<div id="cid102" data-tralics-id="cid102" class="section" data-number="12.3"><h2><a href="#cid102" class="heading hyperref"><span class="number">12.3 </span>Methods</a></h2>
<p class="noindent">Classes can contain functions (called <em>methods</em>) as well as variables.<span class="intersentencespace"></span> Methods are the best place to modify the class’s variables.</p>
<div class="codelisting" id="code-classes2" data-tralics-id="uid228" data-number="12.2"><div class="heading"><span class="number">Program 12.2:</span> <span class="description">Class methods</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">class</span> <span class="nc">Sprite</span><span class="p">(</span><span class="n">Actor</span><span class="p">):</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vy</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">WIDTH</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">vx</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;</span> <span class="n">HEIGHT</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">vy</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="s2">"alien"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div></div></div></div>
<div id="cid103" data-tralics-id="cid103" class="section" data-number="12.4"><h2><a href="#cid103" class="heading hyperref"><span class="number">12.4 </span>Joystick tester</a></h2>
<p class="noindent">This program demonstrates using joysticks and for loops, but is mainly included to help you test the input from your controllers.</p>
<p>(I don’t suggest typing this one yourself.)</p>
<div class="codelisting" id="code-joystick_tester" data-tralics-id="uid229" data-number="12.3"><div class="heading"><span class="number">Program 12.3:</span> <span class="description">Joystick tester</span>


</div>

<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygame</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">joystick_count</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">get_count</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">joystick_count</span><span class="p">):</span>
        <span class="n">joystick</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">Joystick</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">joystick</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_numaxes</span><span class="p">()</span>
        <span class="n">buttons</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_numbuttons</span><span class="p">()</span>
        <span class="n">hats</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_numhats</span><span class="p">()</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="s2">"Joystick {} name: {} axes:{} buttons:{} hats:{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">hats</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>
            <span class="n">axis</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_axis</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Axis {} value: {:&gt;6.3f}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">axis</span><span class="p">),</span>
                             <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">buttons</span><span class="p">):</span>
            <span class="n">button</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_button</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Button {:&gt;2} value: {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">button</span><span class="p">),</span>
                             <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hats</span><span class="p">):</span>
            <span class="n">hat</span> <span class="o">=</span> <span class="n">joystick</span><span class="o">.</span><span class="n">get_hat</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Hat {} value: {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">hat</span><span class="p">)),</span>
                             <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">14</span>
</pre></div></div></div></div>
<div id="cid104" data-tralics-id="cid104" class="section" data-number="12.5"><h2><a href="#cid104" class="heading hyperref"><span class="number">12.5 </span>Distributing your Pygame Zero games</a></h2>
<p class="noindent">This is often tricky to get working, but you can distribute your games to people who don’t have Python or Mu installed.<span class="intersentencespace"></span> You can put them on a USB stick, or a website for people to download, or even on itch.io for people to buy.</p>
<ol>
<li>Install the full version of python from <a href="https://www.python.org/downloads/" target="_blank" rel="noopener">www.python.org</a>.<span class="intersentencespace"></span>
</li>
<li>Edit your game source code (using Mu).<span class="intersentencespace"></span> We will assume your source is in a file <code>NAME_OF_GAME.py</code>.<span class="intersentencespace"></span> At the top of the file add the line:
<div class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pgzrun</span>
</pre></div></div>
<p>At the bottom of the file add the line:
</p><div class="code"><div class="highlight"><pre><span></span><span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span>
</pre></div></div>
<p>Any time in the program you use <code>draw.text()</code> you <em>must</em> specify a font, e.g.<span class="intersentencespace"></span> add parameter <code>fontname="arial"</code></p>
</li></ol>
<p>Save the file.</p>
<ol>
<li>Copy any fonts you have used into the <code>fonts</code> folder and rename them to lowercase names, e.g.<span class="intersentencespace"></span> <code>arial.ttf</code>
</li>
<li>Open a command prompt (Click start menu and type <code>cmd.exe</code>)
</li>
<li>Enter your mu_code folder.<span class="intersentencespace"></span> At the prompt type:
<p><code>cd mu_code</code></p>
</li>
<li>Install pyinstaller and pgzero.<span class="intersentencespace"></span> At the command prompt type:
<p><code>pip install pgzero pyinstaller</code></p>
</li>
<li>You should find the <em>pgzero</em> folder at:
<p><code class="inline_verbatim">C:\Users\YOURNAME\AppData\\Local\\Programs</code></p>
<p><code class="inline_verbatim">Python\Python37\Lib\site-packages\pgzero</code></p>
<p>This is a hidden folder so you must enable hidden folders in Windows Explorer to see it.</p>
<p>Copy the <em>pgzero</em> folder into your <em>mu_code</em> folder.</p>
<p>You should find your <em>mu_code</em> folder at:
<code class="inline_verbatim">C:\Users\YOURNAME\mu_code</code></p>
</li>
<li>Create the executable.<span class="intersentencespace"></span> At the command prompt type:
<p><code>pyinstaller NAME_OF_GAME.py –distpath . –add-data "pgzero;pgzero" –add-data "images;images" –add-data "fonts;fonts" "sounds;sounds" –add-data "music;music" –onefile –noconfirm –windowed –clean</code></p>
<p>This will generate a program called <code>NAME_OF_GAME.exe</code>.<span class="intersentencespace"></span> You can double click this program to play your game.<span class="intersentencespace"></span></p>
</li>
<li>To distribute your game you need to copy the entire <em>mu_code</em> folder.<span class="intersentencespace"></span> You could put it inside a zip file, and then
put that on a website
</li></ol>
</div>
    </div>
  </body>
</html>
